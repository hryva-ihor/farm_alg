(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function s0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Uf={exports:{}},kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function IE(){if(Oy)return kl;Oy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:h}}return kl.Fragment=e,kl.jsx=i,kl.jsxs=i,kl}var zy;function ME(){return zy||(zy=1,Uf.exports=IE()),Uf.exports}var x=ME(),Lf={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jy;function OE(){if(jy)return bt;jy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),V=Symbol.iterator;function P(z){return z===null||typeof z!="object"?null:(z=V&&z[V]||z["@@iterator"],typeof z=="function"?z:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,$={};function ut(z,K,nt){this.props=z,this.context=K,this.refs=$,this.updater=nt||J}ut.prototype.isReactComponent={},ut.prototype.setState=function(z,K){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,K,"setState")},ut.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function ft(){}ft.prototype=ut.prototype;function ht(z,K,nt){this.props=z,this.context=K,this.refs=$,this.updater=nt||J}var _t=ht.prototype=new ft;_t.constructor=ht,tt(_t,ut.prototype),_t.isPureReactComponent=!0;var Ct=Array.isArray;function at(){}var C={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function S(z,K,nt){var lt=nt.ref;return{$$typeof:r,type:z,key:K,ref:lt!==void 0?lt:null,props:nt}}function I(z,K){return S(z.type,K,z.props)}function N(z){return typeof z=="object"&&z!==null&&z.$$typeof===r}function M(z){var K={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(nt){return K[nt]})}var w=/\/+/g;function st(z,K){return typeof z=="object"&&z!==null&&z.key!=null?M(""+z.key):K.toString(36)}function Nt(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(at,at):(z.status="pending",z.then(function(K){z.status==="pending"&&(z.status="fulfilled",z.value=K)},function(K){z.status==="pending"&&(z.status="rejected",z.reason=K)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function G(z,K,nt,lt,vt){var Rt=typeof z;(Rt==="undefined"||Rt==="boolean")&&(z=null);var Lt=!1;if(z===null)Lt=!0;else switch(Rt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(z.$$typeof){case r:case e:Lt=!0;break;case b:return Lt=z._init,G(Lt(z._payload),K,nt,lt,vt)}}if(Lt)return vt=vt(z),Lt=lt===""?"."+st(z,0):lt,Ct(vt)?(nt="",Lt!=null&&(nt=Lt.replace(w,"$&/")+"/"),G(vt,K,nt,"",function(Ga){return Ga})):vt!=null&&(N(vt)&&(vt=I(vt,nt+(vt.key==null||z&&z.key===vt.key?"":(""+vt.key).replace(w,"$&/")+"/")+Lt)),K.push(vt)),1;Lt=0;var Ne=lt===""?".":lt+":";if(Ct(z))for(var se=0;se<z.length;se++)lt=z[se],Rt=Ne+st(lt,se),Lt+=G(lt,K,nt,Rt,vt);else if(se=P(z),typeof se=="function")for(z=se.call(z),se=0;!(lt=z.next()).done;)lt=lt.value,Rt=Ne+st(lt,se++),Lt+=G(lt,K,nt,Rt,vt);else if(Rt==="object"){if(typeof z.then=="function")return G(Nt(z),K,nt,lt,vt);throw K=String(z),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function W(z,K,nt){if(z==null)return z;var lt=[],vt=0;return G(z,lt,"","",function(Rt){return K.call(nt,Rt,vt++)}),lt}function dt(z){if(z._status===-1){var K=z._result;K=K(),K.then(function(nt){(z._status===0||z._status===-1)&&(z._status=1,z._result=nt)},function(nt){(z._status===0||z._status===-1)&&(z._status=2,z._result=nt)}),z._status===-1&&(z._status=0,z._result=K)}if(z._status===1)return z._result.default;throw z._result}var jt=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},kt={map:W,forEach:function(z,K,nt){W(z,function(){K.apply(this,arguments)},nt)},count:function(z){var K=0;return W(z,function(){K++}),K},toArray:function(z){return W(z,function(K){return K})||[]},only:function(z){if(!N(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return bt.Activity=A,bt.Children=kt,bt.Component=ut,bt.Fragment=i,bt.Profiler=o,bt.PureComponent=ht,bt.StrictMode=s,bt.Suspense=v,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,bt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return C.H.useMemoCache(z)}},bt.cache=function(z){return function(){return z.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(z,K,nt){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var lt=tt({},z.props),vt=z.key;if(K!=null)for(Rt in K.key!==void 0&&(vt=""+K.key),K)!R.call(K,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&K.ref===void 0||(lt[Rt]=K[Rt]);var Rt=arguments.length-2;if(Rt===1)lt.children=nt;else if(1<Rt){for(var Lt=Array(Rt),Ne=0;Ne<Rt;Ne++)Lt[Ne]=arguments[Ne+2];lt.children=Lt}return S(z.type,vt,lt)},bt.createContext=function(z){return z={$$typeof:d,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:h,_context:z},z},bt.createElement=function(z,K,nt){var lt,vt={},Rt=null;if(K!=null)for(lt in K.key!==void 0&&(Rt=""+K.key),K)R.call(K,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(vt[lt]=K[lt]);var Lt=arguments.length-2;if(Lt===1)vt.children=nt;else if(1<Lt){for(var Ne=Array(Lt),se=0;se<Lt;se++)Ne[se]=arguments[se+2];vt.children=Ne}if(z&&z.defaultProps)for(lt in Lt=z.defaultProps,Lt)vt[lt]===void 0&&(vt[lt]=Lt[lt]);return S(z,Rt,vt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(z){return{$$typeof:p,render:z}},bt.isValidElement=N,bt.lazy=function(z){return{$$typeof:b,_payload:{_status:-1,_result:z},_init:dt}},bt.memo=function(z,K){return{$$typeof:_,type:z,compare:K===void 0?null:K}},bt.startTransition=function(z){var K=C.T,nt={};C.T=nt;try{var lt=z(),vt=C.S;vt!==null&&vt(nt,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(at,jt)}catch(Rt){jt(Rt)}finally{K!==null&&nt.types!==null&&(K.types=nt.types),C.T=K}},bt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},bt.use=function(z){return C.H.use(z)},bt.useActionState=function(z,K,nt){return C.H.useActionState(z,K,nt)},bt.useCallback=function(z,K){return C.H.useCallback(z,K)},bt.useContext=function(z){return C.H.useContext(z)},bt.useDebugValue=function(){},bt.useDeferredValue=function(z,K){return C.H.useDeferredValue(z,K)},bt.useEffect=function(z,K){return C.H.useEffect(z,K)},bt.useEffectEvent=function(z){return C.H.useEffectEvent(z)},bt.useId=function(){return C.H.useId()},bt.useImperativeHandle=function(z,K,nt){return C.H.useImperativeHandle(z,K,nt)},bt.useInsertionEffect=function(z,K){return C.H.useInsertionEffect(z,K)},bt.useLayoutEffect=function(z,K){return C.H.useLayoutEffect(z,K)},bt.useMemo=function(z,K){return C.H.useMemo(z,K)},bt.useOptimistic=function(z,K){return C.H.useOptimistic(z,K)},bt.useReducer=function(z,K,nt){return C.H.useReducer(z,K,nt)},bt.useRef=function(z){return C.H.useRef(z)},bt.useState=function(z){return C.H.useState(z)},bt.useSyncExternalStore=function(z,K,nt){return C.H.useSyncExternalStore(z,K,nt)},bt.useTransition=function(){return C.H.useTransition()},bt.version="19.2.0",bt}var Uy;function xd(){return Uy||(Uy=1,Lf.exports=OE()),Lf.exports}var Et=xd();const zE=s0(Et);var Bf={exports:{}},ql={},Pf={exports:{}},kf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function jE(){return Ly||(Ly=1,(function(r){function e(G,W){var dt=G.length;G.push(W);t:for(;0<dt;){var jt=dt-1>>>1,kt=G[jt];if(0<o(kt,W))G[jt]=W,G[dt]=kt,dt=jt;else break t}}function i(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var W=G[0],dt=G.pop();if(dt!==W){G[0]=dt;t:for(var jt=0,kt=G.length,z=kt>>>1;jt<z;){var K=2*(jt+1)-1,nt=G[K],lt=K+1,vt=G[lt];if(0>o(nt,dt))lt<kt&&0>o(vt,nt)?(G[jt]=vt,G[lt]=dt,jt=lt):(G[jt]=nt,G[K]=dt,jt=K);else if(lt<kt&&0>o(vt,dt))G[jt]=vt,G[lt]=dt,jt=lt;else break t}}return W}function o(G,W){var dt=G.sortIndex-W.sortIndex;return dt!==0?dt:G.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var v=[],_=[],b=1,A=null,V=3,P=!1,J=!1,tt=!1,$=!1,ut=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function _t(G){for(var W=i(_);W!==null;){if(W.callback===null)s(_);else if(W.startTime<=G)s(_),W.sortIndex=W.expirationTime,e(v,W);else break;W=i(_)}}function Ct(G){if(tt=!1,_t(G),!J)if(i(v)!==null)J=!0,at||(at=!0,M());else{var W=i(_);W!==null&&Nt(Ct,W.startTime-G)}}var at=!1,C=-1,R=5,S=-1;function I(){return $?!0:!(r.unstable_now()-S<R)}function N(){if($=!1,at){var G=r.unstable_now();S=G;var W=!0;try{t:{J=!1,tt&&(tt=!1,ft(C),C=-1),P=!0;var dt=V;try{e:{for(_t(G),A=i(v);A!==null&&!(A.expirationTime>G&&I());){var jt=A.callback;if(typeof jt=="function"){A.callback=null,V=A.priorityLevel;var kt=jt(A.expirationTime<=G);if(G=r.unstable_now(),typeof kt=="function"){A.callback=kt,_t(G),W=!0;break e}A===i(v)&&s(v),_t(G)}else s(v);A=i(v)}if(A!==null)W=!0;else{var z=i(_);z!==null&&Nt(Ct,z.startTime-G),W=!1}}break t}finally{A=null,V=dt,P=!1}W=void 0}}finally{W?M():at=!1}}}var M;if(typeof ht=="function")M=function(){ht(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,st=w.port2;w.port1.onmessage=N,M=function(){st.postMessage(null)}}else M=function(){ut(N,0)};function Nt(G,W){C=ut(function(){G(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(G){switch(V){case 1:case 2:case 3:var W=3;break;default:W=V}var dt=V;V=W;try{return G()}finally{V=dt}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(G,W){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var dt=V;V=G;try{return W()}finally{V=dt}},r.unstable_scheduleCallback=function(G,W,dt){var jt=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?jt+dt:jt):dt=jt,G){case 1:var kt=-1;break;case 2:kt=250;break;case 5:kt=1073741823;break;case 4:kt=1e4;break;default:kt=5e3}return kt=dt+kt,G={id:b++,callback:W,priorityLevel:G,startTime:dt,expirationTime:kt,sortIndex:-1},dt>jt?(G.sortIndex=dt,e(_,G),i(v)===null&&G===i(_)&&(tt?(ft(C),C=-1):tt=!0,Nt(Ct,dt-jt))):(G.sortIndex=kt,e(v,G),J||P||(J=!0,at||(at=!0,M()))),G},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(G){var W=V;return function(){var dt=V;V=W;try{return G.apply(this,arguments)}finally{V=dt}}}})(kf)),kf}var By;function UE(){return By||(By=1,Pf.exports=jE()),Pf.exports}var qf={exports:{}},Xe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function LE(){if(Py)return Xe;Py=1;var r=xd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:v,containerInfo:_,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xe.createPortal=function(v,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,b)},Xe.flushSync=function(v){var _=d.T,b=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=b,s.d.f()}},Xe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},Xe.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Xe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var b=_.as,A=p(b,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,P=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:V,fetchPriority:P}):b==="script"&&s.d.X(v,{crossOrigin:A,integrity:V,fetchPriority:P,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Xe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=p(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},Xe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,A=p(b,_.crossOrigin);s.d.L(v,b,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Xe.preloadModule=function(v,_){if(typeof v=="string")if(_){var b=p(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},Xe.requestFormReset=function(v){s.d.r(v)},Xe.unstable_batchedUpdates=function(v,_){return v(_)},Xe.useFormState=function(v,_,b){return d.H.useFormState(v,_,b)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.0",Xe}var ky;function BE(){if(ky)return qf.exports;ky=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),qf.exports=LE(),qf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy;function PE(){if(qy)return ql;qy=1;var r=UE(),e=xd(),i=BE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=f;break}if(E===l){g=!0,l=c,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=c;break}if(E===l){g=!0,l=f,a=c;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),ft=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),_t=Symbol.for("react.forward_ref"),Ct=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tt:return"Fragment";case ut:return"Profiler";case $:return"StrictMode";case Ct:return"Suspense";case at:return"SuspenseList";case S:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case ht:return t.displayName||"Context";case ft:return(t._context.displayName||"Context")+".Consumer";case _t:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:st(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return st(t(n))}catch{}}return null}var Nt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},jt=[],kt=-1;function z(t){return{current:t}}function K(t){0>kt||(t.current=jt[kt],jt[kt]=null,kt--)}function nt(t,n){kt++,jt[kt]=t.current,t.current=n}var lt=z(null),vt=z(null),Rt=z(null),Lt=z(null);function Ne(t,n){switch(nt(Rt,n),nt(vt,t),nt(lt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?iy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=iy(n),t=ay(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(lt),nt(lt,t)}function se(){K(lt),K(vt),K(Rt)}function Ga(t){t.memoizedState!==null&&nt(Lt,t);var n=lt.current,a=ay(n,t.type);n!==a&&(nt(vt,t),nt(lt,a))}function Ns(t){vt.current===t&&(K(lt),K(vt)),Lt.current===t&&(K(Lt),Ul._currentValue=dt)}var Ds,Vs;function $n(t){if(Ds===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ds=n&&n[1]||"",Vs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ds+t+Vs}var Ur=!1;function Qa(t,n){if(!t||Ur)return"";Ur=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var k=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){k=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){k=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&k&&typeof H.stack=="string")return[H.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var D=g.split(`
`),B=E.split(`
`);for(c=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===D.length||c===B.length)for(l=D.length-1,c=B.length-1;1<=l&&0<=c&&D[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(D[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||D[l]!==B[c]){var Q=`
`+D[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=c);break}}}finally{Ur=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?$n(a):""}function Lr(t,n){switch(t.tag){case 26:case 27:case 5:return $n(t.type);case 16:return $n("Lazy");case 13:return t.child!==n&&n!==null?$n("Suspense Fallback"):$n("Suspense");case 19:return $n("SuspenseList");case 0:case 15:return Qa(t.type,!1);case 11:return Qa(t.type.render,!1);case 1:return Qa(t.type,!0);case 31:return $n("Activity");default:return""}}function Br(t){try{var n="",a=null;do n+=Lr(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ye=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,Zi=r.unstable_cancelCallback,Lc=r.unstable_shouldYield,vo=r.unstable_requestPaint,Je=r.unstable_now,Fa=r.unstable_getCurrentPriorityLevel,Pr=r.unstable_ImmediatePriority,kr=r.unstable_UserBlockingPriority,$i=r.unstable_NormalPriority,Bc=r.unstable_LowPriority,Eo=r.unstable_IdlePriority,To=r.log,bo=r.unstable_setDisableYieldValue,Ln=null,Be=null;function An(t){if(typeof To=="function"&&bo(t),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Ln,t)}catch{}}var he=Math.clz32?Math.clz32:So,Ao=Math.log,Is=Math.LN2;function So(t){return t>>>=0,t===0?32:31-(Ao(t)/Is|0)|0}var Jn=256,Ya=262144,_e=4194304;function Wn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ti(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Wn(l):(g&=E,g!==0?c=Wn(g):a||(a=E&~t,a!==0&&(c=Wn(a))))):(E=l&~f,E!==0?c=Wn(E):g!==0?c=Wn(g):a||(a=l&~t,a!==0&&(c=Wn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Bn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Pc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wo(){var t=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),t}function ei(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Xa(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function kc(t,n,a,l,c,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,D=t.expirationTimes,B=t.hiddenUpdates;for(a=g&~a;0<a;){var Q=31-he(a),X=1<<Q;E[Q]=0,D[Q]=-1;var k=B[Q];if(k!==null)for(B[Q]=null,Q=0;Q<k.length;Q++){var H=k[Q];H!==null&&(H.lane&=-536870913)}a&=~X}l!==0&&Ka(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Ka(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-he(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function qr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-he(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Hr(t,n){var a=n&-n;return a=(a&42)!==0?1:Za(a),(a&(t.suspendedLanes|n))!==0?0:a}function Za(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function xi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ro(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:xy(t.type))}function Pn(t,n){var a=W.p;try{return W.p=t,n()}finally{W.p=a}}var kn=Math.random().toString(36).slice(2),ve="__reactFiber$"+kn,ze="__reactProps$"+kn,ni="__reactContainer$"+kn,Ms="__reactEvents$"+kn,qc="__reactListeners$"+kn,xo="__reactHandles$"+kn,Co="__reactResources$"+kn,ii="__reactMarker$"+kn;function Os(t){delete t[ve],delete t[ze],delete t[Ms],delete t[qc],delete t[xo]}function ai(t){var n=t[ve];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ni]||a[ve]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=hy(t);t!==null;){if(a=t[ve])return a;t=hy(t)}return n}t=a,a=t.parentNode}return null}function Sn(t){if(t=t[ve]||t[ni]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function fn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function si(t){var n=t[Co];return n||(n=t[Co]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(t){t[ii]=!0}var Gr=new Set,Qr={};function ri(t,n){li(t,n),li(t+"Capture",n)}function li(t,n){for(Qr[t]=n,t=0;t<n.length;t++)Gr.add(n[t])}var Fr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yr={},Xr={};function No(t){return ye.call(Xr,t)?!0:ye.call(Yr,t)?!1:Fr.test(t)?Xr[t]=!0:(Yr[t]=!0,!1)}function zs(t,n,a){if(No(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function dn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Te(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function je(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ji(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Kr(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Yt(t){if(!t._valueTracker){var n=Ji(t)?"checked":"value";t._valueTracker=Kr(t,n,""+t[n])}}function $a(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Ji(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function oi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ja=/[\n"\\]/g;function nn(t){return t.replace(Ja,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function js(t,n,a,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+je(n)):t.value!==""+je(n)&&(t.value=""+je(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Zr(t,g,je(n)):a!=null?Zr(t,g,je(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+je(E):t.removeAttribute("name")}function Do(t,n,a,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Yt(t);return}a=a!=null?""+je(a):"",n=n!=null?""+je(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Yt(t)}function Zr(t,n,a){n==="number"&&oi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Wi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+je(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Vo(t,n,a){if(n!=null&&(n=""+je(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+je(a):""}function ta(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(Nt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=je(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Yt(t)}function an(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Io=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $r(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Io.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Jr(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&$r(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&$r(t,f,n[f])}function Us(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ea=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ls(t){return ea.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function qn(){}var Wr=null;function wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var na=null,ui=null;function Wa(t){var n=Sn(t);if(n&&(t=n.stateNode)){var a=t[ze]||null;t:switch(t=n.stateNode,n.type){case"input":if(js(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[ze]||null;if(!c)throw Error(s(90));js(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&$a(l)}break t;case"textarea":Vo(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Wi(t,!!a.multiple,n,!1)}}}var Bs=!1;function ia(t,n,a){if(Bs)return t(n,a);Bs=!0;try{var l=t(n);return l}finally{if(Bs=!1,(na!==null||ui!==null)&&(Ru(),na&&(n=na,t=ui,ui=na=null,Wa(n),t)))for(n=0;n<t.length;n++)Wa(t[n])}}function Hn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[ze]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ts=!1;if(Rn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){ts=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{ts=!1}var ci=null,tl=null,es=null;function el(){if(es)return es;var t,n=tl,a=n.length,l,c="value"in ci?ci.value:ci.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[f-l];l++);return es=c.slice(t,1<l?1-l:void 0)}function ns(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ci(){return!0}function Gn(){return!1}function Pe(t){function n(a,l,c,f,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ci:Gn,this.isPropagationStopped=Gn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),n}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=Pe(Ni),aa=A({},Ni,{view:0,detail:0}),nl=Pe(aa),sa,Ps,fi,ks=A({},aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ra,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fi&&(fi&&t.type==="mousemove"?(sa=t.screenX-fi.screenX,Ps=t.screenY-fi.screenY):Ps=sa=0,fi=t),sa)},movementY:function(t){return"movementY"in t?t.movementY:Ps}}),il=Pe(ks),is=A({},ks,{dataTransfer:0}),Oo=Pe(is),zo=A({},aa,{relatedTarget:0}),as=Pe(zo),al=A({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),jo=Pe(al),qs=A({},Ni,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uo=Pe(qs),Lo=A({},Ni,{data:0}),di=Pe(Lo),Bo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Po={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ko={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=ko[t])?!!n[t]:!1}function ra(){return qo}var We=A({},aa,{key:function(t){if(t.key){var n=Bo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ns(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Po[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ra,charCode:function(t){return t.type==="keypress"?ns(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ns(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ho=Pe(We),Go=A({},ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Di=Pe(Go),u=A({},aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ra}),m=Pe(u),y=A({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Pe(y),U=A({},ks,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Pe(U),et=A({},Ni,{newState:0,oldState:0}),St=Pe(et),fe=[9,13,27,32],Gt=Rn&&"CompositionEvent"in window,re=null;Rn&&"documentMode"in document&&(re=document.documentMode);var xn=Rn&&"TextEvent"in window&&!re,mi=Rn&&(!Gt||re&&8<re&&11>=re),Qn=" ",Fn=!1;function ss(t,n){switch(t){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hs(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gs=!1;function n1(t,n){switch(t){case"compositionend":return Hs(n);case"keypress":return n.which!==32?null:(Fn=!0,Qn);case"textInput":return t=n.data,t===Qn&&Fn?null:t;default:return null}}function i1(t,n){if(Gs)return t==="compositionend"||!Gt&&ss(t,n)?(t=el(),es=tl=ci=null,Gs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mi&&n.locale!=="ko"?null:n.data;default:return null}}var a1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!a1[t.type]:n==="textarea"}function gm(t,n,a,l){na?ui?ui.push(l):ui=[l]:na=l,n=Mu(n,"onChange"),0<n.length&&(a=new hi("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var sl=null,rl=null;function s1(t){$p(t,0)}function Qo(t){var n=fn(t);if($a(n))return t}function pm(t,n){if(t==="change")return n}var ym=!1;if(Rn){var Hc;if(Rn){var Gc="oninput"in document;if(!Gc){var _m=document.createElement("div");_m.setAttribute("oninput","return;"),Gc=typeof _m.oninput=="function"}Hc=Gc}else Hc=!1;ym=Hc&&(!document.documentMode||9<document.documentMode)}function vm(){sl&&(sl.detachEvent("onpropertychange",Em),rl=sl=null)}function Em(t){if(t.propertyName==="value"&&Qo(rl)){var n=[];gm(n,rl,t,wn(t)),ia(s1,n)}}function r1(t,n,a){t==="focusin"?(vm(),sl=n,rl=a,sl.attachEvent("onpropertychange",Em)):t==="focusout"&&vm()}function l1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qo(rl)}function o1(t,n){if(t==="click")return Qo(n)}function u1(t,n){if(t==="input"||t==="change")return Qo(n)}function c1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var mn=typeof Object.is=="function"?Object.is:c1;function ll(t,n){if(mn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!ye.call(n,c)||!mn(t[c],n[c]))return!1}return!0}function Tm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bm(t,n){var a=Tm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Tm(a)}}function Am(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Am(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Sm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=oi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=oi(t.document)}return n}function Qc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var h1=Rn&&"documentMode"in document&&11>=document.documentMode,Qs=null,Fc=null,ol=null,Yc=!1;function wm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yc||Qs==null||Qs!==oi(l)||(l=Qs,"selectionStart"in l&&Qc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&ll(ol,l)||(ol=l,l=Mu(Fc,"onSelect"),0<l.length&&(n=new hi("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Qs)))}function rs(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Fs={animationend:rs("Animation","AnimationEnd"),animationiteration:rs("Animation","AnimationIteration"),animationstart:rs("Animation","AnimationStart"),transitionrun:rs("Transition","TransitionRun"),transitionstart:rs("Transition","TransitionStart"),transitioncancel:rs("Transition","TransitionCancel"),transitionend:rs("Transition","TransitionEnd")},Xc={},Rm={};Rn&&(Rm=document.createElement("div").style,"AnimationEvent"in window||(delete Fs.animationend.animation,delete Fs.animationiteration.animation,delete Fs.animationstart.animation),"TransitionEvent"in window||delete Fs.transitionend.transition);function ls(t){if(Xc[t])return Xc[t];if(!Fs[t])return t;var n=Fs[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Rm)return Xc[t]=n[a];return t}var xm=ls("animationend"),Cm=ls("animationiteration"),Nm=ls("animationstart"),f1=ls("transitionrun"),d1=ls("transitionstart"),m1=ls("transitioncancel"),Dm=ls("transitionend"),Vm=new Map,Kc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kc.push("scrollEnd");function Yn(t,n){Vm.set(t,n),ri(n,[t])}var Fo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Cn=[],Ys=0,Zc=0;function Yo(){for(var t=Ys,n=Zc=Ys=0;n<t;){var a=Cn[n];Cn[n++]=null;var l=Cn[n];Cn[n++]=null;var c=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&Im(a,c,f)}}function Xo(t,n,a,l){Cn[Ys++]=t,Cn[Ys++]=n,Cn[Ys++]=a,Cn[Ys++]=l,Zc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function $c(t,n,a,l){return Xo(t,n,a,l),Ko(t)}function os(t,n){return Xo(t,null,null,n),Ko(t)}function Im(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-he(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Ko(t){if(50<Dl)throw Dl=0,lf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Xs={};function g1(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,n,a,l){return new g1(t,n,a,l)}function Jc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vi(t,n){var a=t.alternate;return a===null?(a=gn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Mm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Zo(t,n,a,l,c,f){var g=0;if(l=t,typeof t=="function")Jc(t)&&(g=1);else if(typeof t=="string")g=EE(t,a,lt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case S:return t=gn(31,a,n,c),t.elementType=S,t.lanes=f,t;case tt:return us(a.children,c,f,n);case $:g=8,c|=24;break;case ut:return t=gn(12,a,n,c|2),t.elementType=ut,t.lanes=f,t;case Ct:return t=gn(13,a,n,c),t.elementType=Ct,t.lanes=f,t;case at:return t=gn(19,a,n,c),t.elementType=at,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ht:g=10;break t;case ft:g=9;break t;case _t:g=11;break t;case C:g=14;break t;case R:g=16,l=null;break t}g=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=gn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function us(t,n,a,l){return t=gn(7,t,l,n),t.lanes=a,t}function Wc(t,n,a){return t=gn(6,t,null,n),t.lanes=a,t}function Om(t){var n=gn(18,null,null,0);return n.stateNode=t,n}function th(t,n,a){return n=gn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var zm=new WeakMap;function Nn(t,n){if(typeof t=="object"&&t!==null){var a=zm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Br(n)},zm.set(t,n),n)}return{value:t,source:n,stack:Br(n)}}var Ks=[],Zs=0,$o=null,ul=0,Dn=[],Vn=0,la=null,gi=1,pi="";function Ii(t,n){Ks[Zs++]=ul,Ks[Zs++]=$o,$o=t,ul=n}function jm(t,n,a){Dn[Vn++]=gi,Dn[Vn++]=pi,Dn[Vn++]=la,la=t;var l=gi;t=pi;var c=32-he(l)-1;l&=~(1<<c),a+=1;var f=32-he(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,gi=1<<32-he(n)+c|a<<c|l,pi=f+t}else gi=1<<f|a<<c|l,pi=t}function eh(t){t.return!==null&&(Ii(t,1),jm(t,1,0))}function nh(t){for(;t===$o;)$o=Ks[--Zs],Ks[Zs]=null,ul=Ks[--Zs],Ks[Zs]=null;for(;t===la;)la=Dn[--Vn],Dn[Vn]=null,pi=Dn[--Vn],Dn[Vn]=null,gi=Dn[--Vn],Dn[Vn]=null}function Um(t,n){Dn[Vn++]=gi,Dn[Vn++]=pi,Dn[Vn++]=la,gi=n.id,pi=n.overflow,la=t}var ke=null,ne=null,Ut=!1,oa=null,In=!1,ih=Error(s(519));function ua(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cl(Nn(n,t)),ih}function Lm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ve]=t,n[ze]=l,a){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<Il.length;a++)Vt(Il[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),Do(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),ta(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||ey(n.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||ua(t,!0)}function Bm(t){for(ke=t.return;ke;)switch(ke.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:ke=ke.return}}function $s(t){if(t!==ke)return!1;if(!Ut)return Bm(t),Ut=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||bf(t.type,t.memoizedProps)),a=!a),a&&ne&&ua(t),Bm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ne=cy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ne=cy(t)}else n===27?(n=ne,Aa(t.type)?(t=xf,xf=null,ne=t):ne=n):ne=ke?On(t.stateNode.nextSibling):null;return!0}function cs(){ne=ke=null,Ut=!1}function ah(){var t=oa;return t!==null&&(on===null?on=t:on.push.apply(on,t),oa=null),t}function cl(t){oa===null?oa=[t]:oa.push(t)}var sh=z(null),hs=null,Mi=null;function ca(t,n,a){nt(sh,n._currentValue),n._currentValue=a}function Oi(t){t._currentValue=sh.current,K(sh)}function rh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function lh(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var D=0;D<n.length;D++)if(E.context===n[D]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),rh(f.return,a,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),rh(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Js(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=c.type;mn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Lt.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ul):t=[Ul])}c=c.return}t!==null&&lh(n,t,a,l),n.flags|=262144}function Jo(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function fs(t){hs=t,Mi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Pm(hs,t)}function Wo(t,n){return hs===null&&fs(t),Pm(t,n)}function Pm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Mi===null){if(t===null)throw Error(s(308));Mi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Mi=Mi.next=n;return a}var p1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},y1=r.unstable_scheduleCallback,_1=r.unstable_NormalPriority,be={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oh(){return{controller:new p1,data:new Map,refCount:0}}function hl(t){t.refCount--,t.refCount===0&&y1(_1,function(){t.controller.abort()})}var fl=null,uh=0,Ws=0,tr=null;function v1(t,n){if(fl===null){var a=fl=[];uh=0,Ws=df(),tr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return uh++,n.then(km,km),n}function km(){if(--uh===0&&fl!==null){tr!==null&&(tr.status="fulfilled");var t=fl;fl=null,Ws=0,tr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function E1(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var qm=G.S;G.S=function(t,n){wp=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&v1(t,n),qm!==null&&qm(t,n)};var ds=z(null);function ch(){var t=ds.current;return t!==null?t:te.pooledCache}function tu(t,n){n===null?nt(ds,ds.current):nt(ds,n.pool)}function Hm(){var t=ch();return t===null?null:{parent:be._currentValue,pool:t}}var er=Error(s(460)),hh=Error(s(474)),eu=Error(s(542)),nu={then:function(){}};function Gm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(qn,qn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Ym(t),t;default:if(typeof n.status=="string")n.then(qn,qn);else{if(t=te,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Ym(t),t}throw gs=n,er}}function ms(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(gs=a,er):a}}var gs=null;function Fm(){if(gs===null)throw Error(s(459));var t=gs;return gs=null,t}function Ym(t){if(t===er||t===eu)throw Error(s(483))}var nr=null,dl=0;function iu(t){var n=dl;return dl+=1,nr===null&&(nr=[]),Qm(nr,t,n)}function ml(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function au(t,n){throw n.$$typeof===V?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Xm(t){function n(j,O){if(t){var L=j.deletions;L===null?(j.deletions=[O],j.flags|=16):L.push(O)}}function a(j,O){if(!t)return null;for(;O!==null;)n(j,O),O=O.sibling;return null}function l(j){for(var O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function c(j,O){return j=Vi(j,O),j.index=0,j.sibling=null,j}function f(j,O,L){return j.index=L,t?(L=j.alternate,L!==null?(L=L.index,L<O?(j.flags|=67108866,O):L):(j.flags|=67108866,O)):(j.flags|=1048576,O)}function g(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function E(j,O,L,F){return O===null||O.tag!==6?(O=Wc(L,j.mode,F),O.return=j,O):(O=c(O,L),O.return=j,O)}function D(j,O,L,F){var mt=L.type;return mt===tt?Q(j,O,L.props.children,F,L.key):O!==null&&(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===R&&ms(mt)===O.type)?(O=c(O,L.props),ml(O,L),O.return=j,O):(O=Zo(L.type,L.key,L.props,null,j.mode,F),ml(O,L),O.return=j,O)}function B(j,O,L,F){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=th(L,j.mode,F),O.return=j,O):(O=c(O,L.children||[]),O.return=j,O)}function Q(j,O,L,F,mt){return O===null||O.tag!==7?(O=us(L,j.mode,F,mt),O.return=j,O):(O=c(O,L),O.return=j,O)}function X(j,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Wc(""+O,j.mode,L),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case P:return L=Zo(O.type,O.key,O.props,null,j.mode,L),ml(L,O),L.return=j,L;case J:return O=th(O,j.mode,L),O.return=j,O;case R:return O=ms(O),X(j,O,L)}if(Nt(O)||M(O))return O=us(O,j.mode,L,null),O.return=j,O;if(typeof O.then=="function")return X(j,iu(O),L);if(O.$$typeof===ht)return X(j,Wo(j,O),L);au(j,O)}return null}function k(j,O,L,F){var mt=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return mt!==null?null:E(j,O,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case P:return L.key===mt?D(j,O,L,F):null;case J:return L.key===mt?B(j,O,L,F):null;case R:return L=ms(L),k(j,O,L,F)}if(Nt(L)||M(L))return mt!==null?null:Q(j,O,L,F,null);if(typeof L.then=="function")return k(j,O,iu(L),F);if(L.$$typeof===ht)return k(j,O,Wo(j,L),F);au(j,L)}return null}function H(j,O,L,F,mt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return j=j.get(L)||null,E(O,j,""+F,mt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case P:return j=j.get(F.key===null?L:F.key)||null,D(O,j,F,mt);case J:return j=j.get(F.key===null?L:F.key)||null,B(O,j,F,mt);case R:return F=ms(F),H(j,O,L,F,mt)}if(Nt(F)||M(F))return j=j.get(L)||null,Q(O,j,F,mt,null);if(typeof F.then=="function")return H(j,O,L,iu(F),mt);if(F.$$typeof===ht)return H(j,O,L,Wo(O,F),mt);au(O,F)}return null}function ot(j,O,L,F){for(var mt=null,qt=null,ct=O,xt=O=0,Mt=null;ct!==null&&xt<L.length;xt++){ct.index>xt?(Mt=ct,ct=null):Mt=ct.sibling;var Ht=k(j,ct,L[xt],F);if(Ht===null){ct===null&&(ct=Mt);break}t&&ct&&Ht.alternate===null&&n(j,ct),O=f(Ht,O,xt),qt===null?mt=Ht:qt.sibling=Ht,qt=Ht,ct=Mt}if(xt===L.length)return a(j,ct),Ut&&Ii(j,xt),mt;if(ct===null){for(;xt<L.length;xt++)ct=X(j,L[xt],F),ct!==null&&(O=f(ct,O,xt),qt===null?mt=ct:qt.sibling=ct,qt=ct);return Ut&&Ii(j,xt),mt}for(ct=l(ct);xt<L.length;xt++)Mt=H(ct,j,xt,L[xt],F),Mt!==null&&(t&&Mt.alternate!==null&&ct.delete(Mt.key===null?xt:Mt.key),O=f(Mt,O,xt),qt===null?mt=Mt:qt.sibling=Mt,qt=Mt);return t&&ct.forEach(function(Ca){return n(j,Ca)}),Ut&&Ii(j,xt),mt}function pt(j,O,L,F){if(L==null)throw Error(s(151));for(var mt=null,qt=null,ct=O,xt=O=0,Mt=null,Ht=L.next();ct!==null&&!Ht.done;xt++,Ht=L.next()){ct.index>xt?(Mt=ct,ct=null):Mt=ct.sibling;var Ca=k(j,ct,Ht.value,F);if(Ca===null){ct===null&&(ct=Mt);break}t&&ct&&Ca.alternate===null&&n(j,ct),O=f(Ca,O,xt),qt===null?mt=Ca:qt.sibling=Ca,qt=Ca,ct=Mt}if(Ht.done)return a(j,ct),Ut&&Ii(j,xt),mt;if(ct===null){for(;!Ht.done;xt++,Ht=L.next())Ht=X(j,Ht.value,F),Ht!==null&&(O=f(Ht,O,xt),qt===null?mt=Ht:qt.sibling=Ht,qt=Ht);return Ut&&Ii(j,xt),mt}for(ct=l(ct);!Ht.done;xt++,Ht=L.next())Ht=H(ct,j,xt,Ht.value,F),Ht!==null&&(t&&Ht.alternate!==null&&ct.delete(Ht.key===null?xt:Ht.key),O=f(Ht,O,xt),qt===null?mt=Ht:qt.sibling=Ht,qt=Ht);return t&&ct.forEach(function(VE){return n(j,VE)}),Ut&&Ii(j,xt),mt}function Wt(j,O,L,F){if(typeof L=="object"&&L!==null&&L.type===tt&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case P:t:{for(var mt=L.key;O!==null;){if(O.key===mt){if(mt=L.type,mt===tt){if(O.tag===7){a(j,O.sibling),F=c(O,L.props.children),F.return=j,j=F;break t}}else if(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===R&&ms(mt)===O.type){a(j,O.sibling),F=c(O,L.props),ml(F,L),F.return=j,j=F;break t}a(j,O);break}else n(j,O);O=O.sibling}L.type===tt?(F=us(L.props.children,j.mode,F,L.key),F.return=j,j=F):(F=Zo(L.type,L.key,L.props,null,j.mode,F),ml(F,L),F.return=j,j=F)}return g(j);case J:t:{for(mt=L.key;O!==null;){if(O.key===mt)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){a(j,O.sibling),F=c(O,L.children||[]),F.return=j,j=F;break t}else{a(j,O);break}else n(j,O);O=O.sibling}F=th(L,j.mode,F),F.return=j,j=F}return g(j);case R:return L=ms(L),Wt(j,O,L,F)}if(Nt(L))return ot(j,O,L,F);if(M(L)){if(mt=M(L),typeof mt!="function")throw Error(s(150));return L=mt.call(L),pt(j,O,L,F)}if(typeof L.then=="function")return Wt(j,O,iu(L),F);if(L.$$typeof===ht)return Wt(j,O,Wo(j,L),F);au(j,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(a(j,O.sibling),F=c(O,L),F.return=j,j=F):(a(j,O),F=Wc(L,j.mode,F),F.return=j,j=F),g(j)):a(j,O)}return function(j,O,L,F){try{dl=0;var mt=Wt(j,O,L,F);return nr=null,mt}catch(ct){if(ct===er||ct===eu)throw ct;var qt=gn(29,ct,null,j.mode);return qt.lanes=F,qt.return=j,qt}finally{}}}var ps=Xm(!0),Km=Xm(!1),ha=!1;function fh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function fa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function da(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Ko(t),Im(t,null,a),n}return Xo(t,l,n,a),Ko(t)}function gl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,qr(t,a)}}function mh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var gh=!1;function pl(){if(gh){var t=tr;if(t!==null)throw t}}function yl(t,n,a,l){gh=!1;var c=t.updateQueue;ha=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var D=E,B=D.next;D.next=null,g===null?f=B:g.next=B,g=D;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=B:E.next=B,Q.lastBaseUpdate=D))}if(f!==null){var X=c.baseState;g=0,Q=B=D=null,E=f;do{var k=E.lane&-536870913,H=k!==E.lane;if(H?(It&k)===k:(l&k)===k){k!==0&&k===Ws&&(gh=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=t,pt=E;k=n;var Wt=a;switch(pt.tag){case 1:if(ot=pt.payload,typeof ot=="function"){X=ot.call(Wt,X,k);break t}X=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=pt.payload,k=typeof ot=="function"?ot.call(Wt,X,k):ot,k==null)break t;X=A({},X,k);break t;case 2:ha=!0}}k=E.callback,k!==null&&(t.flags|=64,H&&(t.flags|=8192),H=c.callbacks,H===null?c.callbacks=[k]:H.push(k))}else H={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(B=Q=H,D=X):Q=Q.next=H,g|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;H=E,E=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);Q===null&&(D=X),c.baseState=D,c.firstBaseUpdate=B,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),_a|=g,t.lanes=g,t.memoizedState=X}}function Zm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function $m(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Zm(a[t],n)}var ir=z(null),su=z(0);function Jm(t,n){t=Hi,nt(su,t),nt(ir,n),Hi=t|n.baseLanes}function ph(){nt(su,Hi),nt(ir,ir.current)}function yh(){Hi=su.current,K(ir),K(su)}var pn=z(null),Mn=null;function ma(t){var n=t.alternate;nt(de,de.current&1),nt(pn,t),Mn===null&&(n===null||ir.current!==null||n.memoizedState!==null)&&(Mn=t)}function _h(t){nt(de,de.current),nt(pn,t),Mn===null&&(Mn=t)}function Wm(t){t.tag===22?(nt(de,de.current),nt(pn,t),Mn===null&&(Mn=t)):ga()}function ga(){nt(de,de.current),nt(pn,pn.current)}function yn(t){K(pn),Mn===t&&(Mn=null),K(de)}var de=z(0);function ru(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||wf(a)||Rf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var zi=0,wt=null,$t=null,Ae=null,lu=!1,ar=!1,ys=!1,ou=0,_l=0,sr=null,T1=0;function ue(){throw Error(s(321))}function vh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!mn(t[a],n[a]))return!1;return!0}function Eh(t,n,a,l,c,f){return zi=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?jg:zh,ys=!1,f=a(l,c),ys=!1,ar&&(f=eg(n,a,l,c)),tg(t),f}function tg(t){G.H=Tl;var n=$t!==null&&$t.next!==null;if(zi=0,Ae=$t=wt=null,lu=!1,_l=0,sr=null,n)throw Error(s(300));t===null||Se||(t=t.dependencies,t!==null&&Jo(t)&&(Se=!0))}function eg(t,n,a,l){wt=t;var c=0;do{if(ar&&(sr=null),_l=0,ar=!1,25<=c)throw Error(s(301));if(c+=1,Ae=$t=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Ug,f=n(a,l)}while(ar);return f}function b1(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?vl(n):n,t=t.useState()[0],($t!==null?$t.memoizedState:null)!==t&&(wt.flags|=1024),n}function Th(){var t=ou!==0;return ou=0,t}function bh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Ah(t){if(lu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}lu=!1}zi=0,Ae=$t=wt=null,ar=!1,_l=ou=0,sr=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?wt.memoizedState=Ae=t:Ae=Ae.next=t,Ae}function me(){if($t===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var n=Ae===null?wt.memoizedState:Ae.next;if(n!==null)Ae=n,$t=t;else{if(t===null)throw wt.alternate===null?Error(s(467)):Error(s(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ae===null?wt.memoizedState=Ae=t:Ae=Ae.next=t}return Ae}function uu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(t){var n=_l;return _l+=1,sr===null&&(sr=[]),t=Qm(sr,t,n),n=wt,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?jg:zh),t}function cu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vl(t);if(t.$$typeof===ht)return qe(t)}throw Error(s(438,String(t)))}function Sh(t){var n=null,a=wt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=uu(),wt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=I;return n.index++,a}function ji(t,n){return typeof n=="function"?n(t):n}function hu(t){var n=me();return wh(n,$t,t)}function wh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,D=null,B=n,Q=!1;do{var X=B.lane&-536870913;if(X!==B.lane?(It&X)===X:(zi&X)===X){var k=B.revertLane;if(k===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),X===Ws&&(Q=!0);else if((zi&k)===k){B=B.next,k===Ws&&(Q=!0);continue}else X={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(E=D=X,g=f):D=D.next=X,wt.lanes|=k,_a|=k;X=B.action,ys&&a(f,X),f=B.hasEagerState?B.eagerState:a(f,X)}else k={lane:X,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(E=D=k,g=f):D=D.next=k,wt.lanes|=X,_a|=X;B=B.next}while(B!==null&&B!==n);if(D===null?g=f:D.next=E,!mn(f,t.memoizedState)&&(Se=!0,Q&&(a=tr,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=D,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rh(t){var n=me(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);mn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function ng(t,n,a){var l=wt,c=me(),f=Ut;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!mn(($t||c).memoizedState,a);if(g&&(c.memoizedState=a,Se=!0),c=c.queue,Nh(sg.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,rr(9,{destroy:void 0},ag.bind(null,l,c,a,n),null),te===null)throw Error(s(349));f||(zi&127)!==0||ig(l,n,a)}return a}function ig(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=wt.updateQueue,n===null?(n=uu(),wt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function ag(t,n,a,l){n.value=a,n.getSnapshot=l,rg(n)&&lg(t)}function sg(t,n,a){return a(function(){rg(n)&&lg(t)})}function rg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!mn(t,a)}catch{return!0}}function lg(t){var n=os(t,2);n!==null&&un(n,t,2)}function xh(t){var n=tn();if(typeof t=="function"){var a=t;if(t=a(),ys){An(!0);try{a()}finally{An(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:t},n}function og(t,n,a,l){return t.baseState=a,wh(t,$t,typeof l=="function"?l:ji)}function A1(t,n,a,l,c){if(mu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,ug(n,f)):(f.next=a.next,n.pending=a.next=f)}}function ug(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=a(c,l),D=G.S;D!==null&&D(g,E),cg(t,n,E)}catch(B){Ch(t,n,B)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=a(c,l),cg(t,n,f)}catch(B){Ch(t,n,B)}}function cg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){hg(t,n,l)},function(l){return Ch(t,n,l)}):hg(t,n,a)}function hg(t,n,a){n.status="fulfilled",n.value=a,fg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,ug(t,a)))}function Ch(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,fg(n),n=n.next;while(n!==l)}t.action=null}function fg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function dg(t,n){return n}function mg(t,n){if(Ut){var a=te.formState;if(a!==null){t:{var l=wt;if(Ut){if(ne){e:{for(var c=ne,f=In;c.nodeType!==8;){if(!f){c=null;break e}if(c=On(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ne=On(c.nextSibling),l=c.data==="F!";break t}}ua(l)}l=!1}l&&(n=a[0])}}return a=tn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dg,lastRenderedState:n},a.queue=l,a=Mg.bind(null,wt,l),l.dispatch=a,l=xh(!1),f=Oh.bind(null,wt,!1,l.queue),l=tn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=A1.bind(null,wt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function gg(t){var n=me();return pg(n,$t,t)}function pg(t,n,a){if(n=wh(t,n,dg)[0],t=hu(ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=vl(n)}catch(g){throw g===er?eu:g}else l=n;n=me();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(wt.flags|=2048,rr(9,{destroy:void 0},S1.bind(null,c,a),null)),[l,f,t]}function S1(t,n){t.action=n}function yg(t){var n=me(),a=$t;if(a!==null)return pg(n,a,t);me(),n=n.memoizedState,a=me();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function rr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=uu(),wt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function _g(){return me().memoizedState}function fu(t,n,a,l){var c=tn();wt.flags|=t,c.memoizedState=rr(1|n,{destroy:void 0},a,l===void 0?null:l)}function du(t,n,a,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;$t!==null&&l!==null&&vh(l,$t.memoizedState.deps)?c.memoizedState=rr(n,f,a,l):(wt.flags|=t,c.memoizedState=rr(1|n,f,a,l))}function vg(t,n){fu(8390656,8,t,n)}function Nh(t,n){du(2048,8,t,n)}function w1(t){wt.flags|=4;var n=wt.updateQueue;if(n===null)n=uu(),wt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Eg(t){var n=me().memoizedState;return w1({ref:n,nextImpl:t}),function(){if((Qt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Tg(t,n){return du(4,2,t,n)}function bg(t,n){return du(4,4,t,n)}function Ag(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Sg(t,n,a){a=a!=null?a.concat([t]):null,du(4,4,Ag.bind(null,n,t),a)}function Dh(){}function wg(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&vh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Rg(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&vh(n,l[1]))return l[0];if(l=t(),ys){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,n],l}function Vh(t,n,a){return a===void 0||(zi&1073741824)!==0&&(It&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=xp(),wt.lanes|=t,_a|=t,a)}function xg(t,n,a,l){return mn(a,n)?a:ir.current!==null?(t=Vh(t,a,l),mn(t,n)||(Se=!0),t):(zi&42)===0||(zi&1073741824)!==0&&(It&261930)===0?(Se=!0,t.memoizedState=a):(t=xp(),wt.lanes|=t,_a|=t,n)}function Cg(t,n,a,l,c){var f=W.p;W.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Oh(t,!1,n,a);try{var D=c(),B=G.S;if(B!==null&&B(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Q=E1(D,l);El(t,n,Q,En(t))}else El(t,n,l,En(t))}catch(X){El(t,n,{then:function(){},status:"rejected",reason:X},En())}finally{W.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function R1(){}function Ih(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=Ng(t).queue;Cg(t,c,n,dt,a===null?R1:function(){return Dg(t),a(l)})}function Ng(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:dt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Dg(t){var n=Ng(t);n.next===null&&(n=t.alternate.memoizedState),El(t,n.next.queue,{},En())}function Mh(){return qe(Ul)}function Vg(){return me().memoizedState}function Ig(){return me().memoizedState}function x1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=En();t=fa(a);var l=da(n,t,a);l!==null&&(un(l,n,a),gl(l,n,a)),n={cache:oh()},t.payload=n;return}n=n.return}}function C1(t,n,a){var l=En();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},mu(t)?Og(n,a):(a=$c(t,n,a,l),a!==null&&(un(a,t,l),zg(a,n,l)))}function Mg(t,n,a){var l=En();El(t,n,a,l)}function El(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(mu(t))Og(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(c.hasEagerState=!0,c.eagerState=E,mn(E,g))return Xo(t,n,c,0),te===null&&Yo(),!1}catch{}finally{}if(a=$c(t,n,c,l),a!==null)return un(a,t,l),zg(a,n,l),!0}return!1}function Oh(t,n,a,l){if(l={lane:2,revertLane:df(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},mu(t)){if(n)throw Error(s(479))}else n=$c(t,a,l,2),n!==null&&un(n,t,2)}function mu(t){var n=t.alternate;return t===wt||n!==null&&n===wt}function Og(t,n){ar=lu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function zg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,qr(t,a)}}var Tl={readContext:qe,use:cu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Tl.useEffectEvent=ue;var jg={readContext:qe,use:cu,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:vg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,fu(4194308,4,Ag.bind(null,n,t),a)},useLayoutEffect:function(t,n){return fu(4194308,4,t,n)},useInsertionEffect:function(t,n){fu(4,2,t,n)},useMemo:function(t,n){var a=tn();n=n===void 0?null:n;var l=t();if(ys){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=tn();if(a!==void 0){var c=a(n);if(ys){An(!0);try{a(n)}finally{An(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=C1.bind(null,wt,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=xh(t);var n=t.queue,a=Mg.bind(null,wt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Dh,useDeferredValue:function(t,n){var a=tn();return Vh(a,t,n)},useTransition:function(){var t=xh(!1);return t=Cg.bind(null,wt,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=wt,c=tn();if(Ut){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),te===null)throw Error(s(349));(It&127)!==0||ig(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,vg(sg.bind(null,l,f,t),[t]),l.flags|=2048,rr(9,{destroy:void 0},ag.bind(null,l,f,a,n),null),a},useId:function(){var t=tn(),n=te.identifierPrefix;if(Ut){var a=pi,l=gi;a=(l&~(1<<32-he(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=ou++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=T1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Mh,useFormState:mg,useActionState:mg,useOptimistic:function(t){var n=tn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Oh.bind(null,wt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Sh,useCacheRefresh:function(){return tn().memoizedState=x1.bind(null,wt)},useEffectEvent:function(t){var n=tn(),a={impl:t};return n.memoizedState=a,function(){if((Qt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},zh={readContext:qe,use:cu,useCallback:wg,useContext:qe,useEffect:Nh,useImperativeHandle:Sg,useInsertionEffect:Tg,useLayoutEffect:bg,useMemo:Rg,useReducer:hu,useRef:_g,useState:function(){return hu(ji)},useDebugValue:Dh,useDeferredValue:function(t,n){var a=me();return xg(a,$t.memoizedState,t,n)},useTransition:function(){var t=hu(ji)[0],n=me().memoizedState;return[typeof t=="boolean"?t:vl(t),n]},useSyncExternalStore:ng,useId:Vg,useHostTransitionStatus:Mh,useFormState:gg,useActionState:gg,useOptimistic:function(t,n){var a=me();return og(a,$t,t,n)},useMemoCache:Sh,useCacheRefresh:Ig};zh.useEffectEvent=Eg;var Ug={readContext:qe,use:cu,useCallback:wg,useContext:qe,useEffect:Nh,useImperativeHandle:Sg,useInsertionEffect:Tg,useLayoutEffect:bg,useMemo:Rg,useReducer:Rh,useRef:_g,useState:function(){return Rh(ji)},useDebugValue:Dh,useDeferredValue:function(t,n){var a=me();return $t===null?Vh(a,t,n):xg(a,$t.memoizedState,t,n)},useTransition:function(){var t=Rh(ji)[0],n=me().memoizedState;return[typeof t=="boolean"?t:vl(t),n]},useSyncExternalStore:ng,useId:Vg,useHostTransitionStatus:Mh,useFormState:yg,useActionState:yg,useOptimistic:function(t,n){var a=me();return $t!==null?og(a,$t,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Sh,useCacheRefresh:Ig};Ug.useEffectEvent=Eg;function jh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Uh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=En(),c=fa(l);c.payload=n,a!=null&&(c.callback=a),n=da(t,c,l),n!==null&&(un(n,t,l),gl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=En(),c=fa(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=da(t,c,l),n!==null&&(un(n,t,l),gl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=En(),l=fa(a);l.tag=2,n!=null&&(l.callback=n),n=da(t,l,a),n!==null&&(un(n,t,a),gl(n,t,a))}};function Lg(t,n,a,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!ll(a,l)||!ll(c,f):!0}function Bg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Uh.enqueueReplaceState(n,n.state,null)}function _s(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function Pg(t){Fo(t)}function kg(t){console.error(t)}function qg(t){Fo(t)}function gu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Hg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Lh(t,n,a){return a=fa(a),a.tag=3,a.payload={element:null},a.callback=function(){gu(t,n)},a}function Gg(t){return t=fa(t),t.tag=3,t}function Qg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Hg(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Hg(n,a,l),typeof c!="function"&&(va===null?va=new Set([this]):va.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function N1(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Js(n,a,c,!0),a=pn.current,a!==null){switch(a.tag){case 31:case 13:return Mn===null?xu():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===nu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),cf(t,l,c)),!1;case 22:return a.flags|=65536,l===nu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),cf(t,l,c)),!1}throw Error(s(435,a.tag))}return cf(t,l,c),xu(),!1}if(Ut)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==ih&&(t=Error(s(422),{cause:l}),cl(Nn(t,a)))):(l!==ih&&(n=Error(s(423),{cause:l}),cl(Nn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Nn(l,a),c=Lh(t.stateNode,l,c),mh(t,c),ce!==4&&(ce=2)),!1;var f=Error(s(520),{cause:l});if(f=Nn(f,a),Nl===null?Nl=[f]:Nl.push(f),ce!==4&&(ce=2),n===null)return!0;l=Nn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Lh(a.stateNode,l,t),mh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(va===null||!va.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Gg(c),Qg(c,t,a,l),mh(a,c),!1}a=a.return}while(a!==null);return!1}var Bh=Error(s(461)),Se=!1;function He(t,n,a,l){n.child=t===null?Km(n,null,a,l):ps(n,t.child,a,l)}function Fg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return fs(n),l=Eh(t,n,a,g,f,c),E=Th(),t!==null&&!Se?(bh(t,n,c),Ui(t,n,c)):(Ut&&E&&eh(n),n.flags|=1,He(t,n,l,c),n.child)}function Yg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Jc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Xg(t,n,f,l,c)):(t=Zo(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Yh(t,c)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:ll,a(g,l)&&t.ref===n.ref)return Ui(t,n,c)}return n.flags|=1,t=Vi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Xg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(ll(f,l)&&t.ref===n.ref)if(Se=!1,n.pendingProps=l=f,Yh(t,c))(t.flags&131072)!==0&&(Se=!0);else return n.lanes=t.lanes,Ui(t,n,c)}return Ph(t,n,a,l,c)}function Kg(t,n,a,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Zg(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&tu(n,f!==null?f.cachePool:null),f!==null?Jm(n,f):ph(),Wm(n);else return l=n.lanes=536870912,Zg(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(tu(n,f.cachePool),Jm(n,f),ga(),n.memoizedState=null):(t!==null&&tu(n,null),ph(),ga());return He(t,n,c,a),n.child}function bl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Zg(t,n,a,l,c){var f=ch();return f=f===null?null:{parent:be._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&tu(n,null),ph(),Wm(n),t!==null&&Js(t,n,l,!0),n.childLanes=c,null}function pu(t,n){return n=_u({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function $g(t,n,a){return ps(n,t.child,null,a),t=pu(n,n.pendingProps),t.flags|=2,yn(n),n.memoizedState=null,t}function D1(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ut){if(l.mode==="hidden")return t=pu(n,l),n.lanes=536870912,bl(null,t);if(_h(n),(t=ne)?(t=uy(t,In),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:la!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},a=Om(t),a.return=n,n.child=a,ke=n,ne=null)):t=null,t===null)throw ua(n);return n.lanes=536870912,null}return pu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(_h(n),c)if(n.flags&256)n.flags&=-257,n=$g(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Se||Js(t,n,a,!1),c=(a&t.childLanes)!==0,Se||c){if(l=te,l!==null&&(g=Hr(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,os(t,g),un(l,t,g),Bh;xu(),n=$g(t,n,a)}else t=f.treeContext,ne=On(g.nextSibling),ke=n,Ut=!0,oa=null,In=!1,t!==null&&Um(n,t),n=pu(n,l),n.flags|=4096;return n}return t=Vi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function yu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Ph(t,n,a,l,c){return fs(n),a=Eh(t,n,a,l,void 0,c),l=Th(),t!==null&&!Se?(bh(t,n,c),Ui(t,n,c)):(Ut&&l&&eh(n),n.flags|=1,He(t,n,a,c),n.child)}function Jg(t,n,a,l,c,f){return fs(n),n.updateQueue=null,a=eg(n,l,a,c),tg(t),l=Th(),t!==null&&!Se?(bh(t,n,f),Ui(t,n,f)):(Ut&&l&&eh(n),n.flags|=1,He(t,n,a,f),n.child)}function Wg(t,n,a,l,c){if(fs(n),n.stateNode===null){var f=Xs,g=a.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},fh(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?qe(g):Xs,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(jh(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Uh.enqueueReplaceState(f,f.state,null),yl(n,l,f,c),pl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,D=_s(a,E);f.props=D;var B=f.context,Q=a.contextType;g=Xs,typeof Q=="object"&&Q!==null&&(g=qe(Q));var X=a.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==g)&&Bg(n,f,l,g),ha=!1;var k=n.memoizedState;f.state=k,yl(n,l,f,c),pl(),B=n.memoizedState,E||k!==B||ha?(typeof X=="function"&&(jh(n,a,X,l),B=n.memoizedState),(D=ha||Lg(n,a,D,l,k,B,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=g,l=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,dh(t,n),g=n.memoizedProps,Q=_s(a,g),f.props=Q,X=n.pendingProps,k=f.context,B=a.contextType,D=Xs,typeof B=="object"&&B!==null&&(D=qe(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||k!==D)&&Bg(n,f,l,D),ha=!1,k=n.memoizedState,f.state=k,yl(n,l,f,c),pl();var H=n.memoizedState;g!==X||k!==H||ha||t!==null&&t.dependencies!==null&&Jo(t.dependencies)?(typeof E=="function"&&(jh(n,a,E,l),H=n.memoizedState),(Q=ha||Lg(n,a,Q,l,k,H,D)||t!==null&&t.dependencies!==null&&Jo(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=D,l=Q):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,yu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ps(n,t.child,null,c),n.child=ps(n,null,a,c)):He(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Ui(t,n,c),t}function tp(t,n,a,l){return cs(),n.flags|=256,He(t,n,a,l),n.child}var kh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qh(t){return{baseLanes:t,cachePool:Hm()}}function Hh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=vn),t}function ep(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(de.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ut){if(c?ma(n):ga(),(t=ne)?(t=uy(t,In),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:la!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},a=Om(t),a.return=n,n.child=a,ke=n,ne=null)):t=null,t===null)throw ua(n);return Rf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(ga(),c=n.mode,E=_u({mode:"hidden",children:E},c),l=us(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=qh(a),l.childLanes=Hh(t,g,a),n.memoizedState=kh,bl(null,l)):(ma(n),Gh(n,E))}var D=t.memoizedState;if(D!==null&&(E=D.dehydrated,E!==null)){if(f)n.flags&256?(ma(n),n.flags&=-257,n=Qh(t,n,a)):n.memoizedState!==null?(ga(),n.child=t.child,n.flags|=128,n=null):(ga(),E=l.fallback,c=n.mode,l=_u({mode:"visible",children:l.children},c),E=us(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,ps(n,t.child,null,a),l=n.child,l.memoizedState=qh(a),l.childLanes=Hh(t,g,a),n.memoizedState=kh,n=bl(null,l));else if(ma(n),Rf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,l=Error(s(419)),l.stack="",l.digest=g,cl({value:l,source:null,stack:null}),n=Qh(t,n,a)}else if(Se||Js(t,n,a,!1),g=(a&t.childLanes)!==0,Se||g){if(g=te,g!==null&&(l=Hr(g,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,os(t,l),un(g,t,l),Bh;wf(E)||xu(),n=Qh(t,n,a)}else wf(E)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,ne=On(E.nextSibling),ke=n,Ut=!0,oa=null,In=!1,t!==null&&Um(n,t),n=Gh(n,l.children),n.flags|=4096);return n}return c?(ga(),E=l.fallback,c=n.mode,D=t.child,B=D.sibling,l=Vi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?E=Vi(B,E):(E=us(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,bl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=qh(a):(c=E.cachePool,c!==null?(D=be._currentValue,c=c.parent!==D?{parent:D,pool:D}:c):c=Hm(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=Hh(t,g,a),n.memoizedState=kh,bl(t.child,l)):(ma(n),a=t.child,t=a.sibling,a=Vi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Gh(t,n){return n=_u({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function _u(t,n){return t=gn(22,t,null,n),t.lanes=0,t}function Qh(t,n,a){return ps(n,t.child,null,a),t=Gh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function np(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),rh(t.return,n,a)}function Fh(t,n,a,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=f)}function ip(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=de.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(de,g),He(t,n,l,a),l=Ut?ul:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&np(t,a,n);else if(t.tag===19)np(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&ru(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Fh(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&ru(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Fh(n,!0,a,null,f,l);break;case"together":Fh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ui(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),_a|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Js(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Vi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Vi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Yh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Jo(t)))}function V1(t,n,a){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),ca(n,be,t.memoizedState.cache),cs();break;case 27:case 5:Ga(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:ca(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,_h(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ma(n),n.flags|=128,null):(a&n.child.childLanes)!==0?ep(t,n,a):(ma(n),t=Ui(t,n,a),t!==null?t.sibling:null);ma(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Js(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return ip(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(de,de.current),l)break;return null;case 22:return n.lanes=0,Kg(t,n,a,n.pendingProps);case 24:ca(n,be,t.memoizedState.cache)}return Ui(t,n,a)}function ap(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Se=!0;else{if(!Yh(t,a)&&(n.flags&128)===0)return Se=!1,V1(t,n,a);Se=(t.flags&131072)!==0}else Se=!1,Ut&&(n.flags&1048576)!==0&&jm(n,ul,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=ms(n.elementType),n.type=t,typeof t=="function")Jc(t)?(l=_s(t,l),n.tag=1,n=Wg(null,n,t,l,a)):(n.tag=0,n=Ph(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===_t){n.tag=11,n=Fg(null,n,t,l,a);break t}else if(c===C){n.tag=14,n=Yg(null,n,t,l,a);break t}}throw n=st(t)||t,Error(s(306,n,""))}}return n;case 0:return Ph(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=_s(l,n.pendingProps),Wg(t,n,l,c,a);case 3:t:{if(Ne(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,dh(t,n),yl(n,l,null,a);var g=n.memoizedState;if(l=g.cache,ca(n,be,l),l!==f.cache&&lh(n,[be],a,!0),pl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=tp(t,n,l,a);break t}else if(l!==c){c=Nn(Error(s(424)),n),cl(c),n=tp(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ne=On(t.firstChild),ke=n,Ut=!0,oa=null,In=!0,a=Km(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(cs(),l===c){n=Ui(t,n,a);break t}He(t,n,l,a)}n=n.child}return n;case 26:return yu(t,n),t===null?(a=gy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ut||(a=n.type,t=n.pendingProps,l=Ou(Rt.current).createElement(a),l[ve]=n,l[ze]=t,Ge(l,a,t),Ee(l),n.stateNode=l):n.memoizedState=gy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ga(n),t===null&&Ut&&(l=n.stateNode=fy(n.type,n.pendingProps,Rt.current),ke=n,In=!0,c=ne,Aa(n.type)?(xf=c,ne=On(l.firstChild)):ne=c),He(t,n,n.pendingProps.children,a),yu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ut&&((c=l=ne)&&(l=lE(l,n.type,n.pendingProps,In),l!==null?(n.stateNode=l,ke=n,ne=On(l.firstChild),In=!1,c=!0):c=!1),c||ua(n)),Ga(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,bf(c,f)?l=null:g!==null&&bf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Eh(t,n,b1,null,null,a),Ul._currentValue=c),yu(t,n),He(t,n,l,a),n.child;case 6:return t===null&&Ut&&((t=a=ne)&&(a=oE(a,n.pendingProps,In),a!==null?(n.stateNode=a,ke=n,ne=null,t=!0):t=!1),t||ua(n)),null;case 13:return ep(t,n,a);case 4:return Ne(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ps(n,null,l,a):He(t,n,l,a),n.child;case 11:return Fg(t,n,n.type,n.pendingProps,a);case 7:return He(t,n,n.pendingProps,a),n.child;case 8:return He(t,n,n.pendingProps.children,a),n.child;case 12:return He(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ca(n,n.type,l.value),He(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,fs(n),c=qe(c),l=l(c),n.flags|=1,He(t,n,l,a),n.child;case 14:return Yg(t,n,n.type,n.pendingProps,a);case 15:return Xg(t,n,n.type,n.pendingProps,a);case 19:return ip(t,n,a);case 31:return D1(t,n,a);case 22:return Kg(t,n,a,n.pendingProps);case 24:return fs(n),l=qe(be),t===null?(c=ch(),c===null&&(c=te,f=oh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},fh(n),ca(n,be,c)):((t.lanes&a)!==0&&(dh(t,n),yl(n,null,null,a),pl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ca(n,be,l)):(l=f.cache,ca(n,be,l),l!==c.cache&&lh(n,[be],a,!0))),He(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Li(t){t.flags|=4}function Xh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Vp())t.flags|=8192;else throw gs=nu,hh}else t.flags&=-16777217}function sp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ey(n))if(Vp())t.flags|=8192;else throw gs=nu,hh}function vu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?wo():536870912,t.lanes|=n,cr|=n)}function Al(t,n){if(!Ut)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function I1(t,n,a){var l=n.pendingProps;switch(nh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Oi(be),se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&($s(n)?Li(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ah())),ie(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(Li(n),f!==null?(ie(n),sp(n,f)):(ie(n),Xh(n,c,null,l,a))):f?f!==t.memoizedState?(Li(n),ie(n),sp(n,f)):(ie(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Li(n),ie(n),Xh(n,c,t,l,a)),null;case 27:if(Ns(n),a=Rt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Li(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}t=lt.current,$s(n)?Lm(n):(t=fy(c,l,a),n.stateNode=t,Li(n))}return ie(n),null;case 5:if(Ns(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Li(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}if(f=lt.current,$s(n))Lm(n);else{var g=Ou(Rt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[ve]=n,f[ze]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ge(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Li(n)}}return ie(n),Xh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Li(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Rt.current,$s(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=ke,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ve]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ey(t.nodeValue,a)),t||ua(n,!0)}else t=Ou(t).createTextNode(l),t[ve]=n,n.stateNode=t}return ie(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=$s(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[ve]=n}else cs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),t=!1}else a=ah(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ie(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=$s(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ve]=n}else cs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),c=!1}else c=ah(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),vu(n,n.updateQueue),ie(n),null);case 4:return se(),t===null&&yf(n.stateNode.containerInfo),ie(n),null;case 10:return Oi(n.type),ie(n),null;case 19:if(K(de),l=n.memoizedState,l===null)return ie(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)Al(l,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ru(t),f!==null){for(n.flags|=128,Al(l,!1),t=f.updateQueue,n.updateQueue=t,vu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Mm(a,t),a=a.sibling;return nt(de,de.current&1|2),Ut&&Ii(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Je()>Su&&(n.flags|=128,c=!0,Al(l,!1),n.lanes=4194304)}else{if(!c)if(t=ru(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,vu(n,t),Al(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ut)return ie(n),null}else 2*Je()-l.renderingStartTime>Su&&a!==536870912&&(n.flags|=128,c=!0,Al(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Je(),t.sibling=null,a=de.current,nt(de,c?a&1|2:a&1),Ut&&Ii(n,l.treeForkCount),t):(ie(n),null);case 22:case 23:return yn(n),yh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&vu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&K(ds),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Oi(be),ie(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function M1(t,n){switch(nh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Oi(be),se(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ns(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(s(340));cs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(yn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));cs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(de),null;case 4:return se(),null;case 10:return Oi(n.type),null;case 22:case 23:return yn(n),yh(),t!==null&&K(ds),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Oi(be),null;case 25:return null;default:return null}}function rp(t,n){switch(nh(n),n.tag){case 3:Oi(be),se();break;case 26:case 27:case 5:Ns(n);break;case 4:se();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:K(de);break;case 10:Oi(n.type);break;case 22:case 23:yn(n),yh(),t!==null&&K(ds);break;case 24:Oi(be)}}function Sl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Kt(n,n.return,E)}}function pa(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var D=a,B=E;try{B()}catch(Q){Kt(c,D,Q)}}}l=l.next}while(l!==f)}}catch(Q){Kt(n,n.return,Q)}}function lp(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{$m(n,a)}catch(l){Kt(t,t.return,l)}}}function op(t,n,a){a.props=_s(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Kt(t,n,l)}}function wl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Kt(t,n,c)}}function yi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Kt(t,n,c)}else a.current=null}function up(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Kt(t,t.return,c)}}function Kh(t,n,a){try{var l=t.stateNode;eE(l,t.type,a,n),l[ze]=n}catch(c){Kt(t,t.return,c)}}function cp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Aa(t.type)||t.tag===4}function Zh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||cp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Aa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $h(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=qn));else if(l!==4&&(l===27&&Aa(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for($h(t,n,a),t=t.sibling;t!==null;)$h(t,n,a),t=t.sibling}function Eu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Aa(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Eu(t,n,a),t=t.sibling;t!==null;)Eu(t,n,a),t=t.sibling}function hp(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Ge(n,l,a),n[ve]=t,n[ze]=a}catch(f){Kt(t,t.return,f)}}var Bi=!1,we=!1,Jh=!1,fp=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function O1(t,n){if(t=t.containerInfo,Ef=ku,t=Sm(t),Qc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,D=-1,B=0,Q=0,X=t,k=null;e:for(;;){for(var H;X!==a||c!==0&&X.nodeType!==3||(E=g+c),X!==f||l!==0&&X.nodeType!==3||(D=g+l),X.nodeType===3&&(g+=X.nodeValue.length),(H=X.firstChild)!==null;)k=X,X=H;for(;;){if(X===t)break e;if(k===a&&++B===c&&(E=g),k===f&&++Q===l&&(D=g),(H=X.nextSibling)!==null)break;X=k,k=X.parentNode}X=H}a=E===-1||D===-1?null:{start:E,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tf={focusedElem:t,selectionRange:a},ku=!1,Ue=n;Ue!==null;)if(n=Ue,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ue=t;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ot=_s(a.type,c);t=l.getSnapshotBeforeUpdate(ot,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(pt){Kt(a,a.return,pt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Sf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Sf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ue=t;break}Ue=n.return}}function dp(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ki(t,a),l&4&&Sl(5,a);break;case 1:if(ki(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Kt(a,a.return,g)}else{var c=_s(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Kt(a,a.return,g)}}l&64&&lp(a),l&512&&wl(a,a.return);break;case 3:if(ki(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{$m(t,n)}catch(g){Kt(a,a.return,g)}}break;case 27:n===null&&l&4&&hp(a);case 26:case 5:ki(t,a),n===null&&l&4&&up(a),l&512&&wl(a,a.return);break;case 12:ki(t,a);break;case 31:ki(t,a),l&4&&pp(t,a);break;case 13:ki(t,a),l&4&&yp(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=H1.bind(null,a),uE(t,a))));break;case 22:if(l=a.memoizedState!==null||Bi,!l){n=n!==null&&n.memoizedState!==null||we,c=Bi;var f=we;Bi=l,(we=n)&&!f?qi(t,a,(a.subtreeFlags&8772)!==0):ki(t,a),Bi=c,we=f}break;case 30:break;default:ki(t,a)}}function mp(t){var n=t.alternate;n!==null&&(t.alternate=null,mp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Os(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var le=null,sn=!1;function Pi(t,n,a){for(a=a.child;a!==null;)gp(t,n,a),a=a.sibling}function gp(t,n,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Ln,a)}catch{}switch(a.tag){case 26:we||yi(a,n),Pi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:we||yi(a,n);var l=le,c=sn;Aa(a.type)&&(le=a.stateNode,sn=!1),Pi(t,n,a),Ol(a.stateNode),le=l,sn=c;break;case 5:we||yi(a,n);case 6:if(l=le,c=sn,le=null,Pi(t,n,a),le=l,sn=c,le!==null)if(sn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(f){Kt(a,n,f)}else try{le.removeChild(a.stateNode)}catch(f){Kt(a,n,f)}break;case 18:le!==null&&(sn?(t=le,ly(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),_r(t)):ly(le,a.stateNode));break;case 4:l=le,c=sn,le=a.stateNode.containerInfo,sn=!0,Pi(t,n,a),le=l,sn=c;break;case 0:case 11:case 14:case 15:pa(2,a,n),we||pa(4,a,n),Pi(t,n,a);break;case 1:we||(yi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&op(a,n,l)),Pi(t,n,a);break;case 21:Pi(t,n,a);break;case 22:we=(l=we)||a.memoizedState!==null,Pi(t,n,a),we=l;break;default:Pi(t,n,a)}}function pp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{_r(t)}catch(a){Kt(n,n.return,a)}}}function yp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{_r(t)}catch(a){Kt(n,n.return,a)}}function z1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new fp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new fp),n;default:throw Error(s(435,t.tag))}}function Tu(t,n){var a=z1(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=G1.bind(null,t,l);l.then(c,c)}})}function rn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Aa(E.type)){le=E.stateNode,sn=!1;break t}break;case 5:le=E.stateNode,sn=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,sn=!0;break t}E=E.return}if(le===null)throw Error(s(160));gp(f,g,c),le=null,sn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)_p(n,t),n=n.sibling}var Xn=null;function _p(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:rn(n,t),ln(t),l&4&&(pa(3,t,t.return),Sl(3,t),pa(5,t,t.return));break;case 1:rn(n,t),ln(t),l&512&&(we||a===null||yi(a,a.return)),l&64&&Bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Xn;if(rn(n,t),ln(t),l&512&&(we||a===null||yi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ii]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Ge(f,l,a),f[ve]=t,Ee(f),l=f;break t;case"link":var g=_y("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),Ge(f,l,a),c.head.appendChild(f);break;case"meta":if(g=_y("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=c.createElement(l),Ge(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[ve]=t,Ee(f),l=f}t.stateNode=l}else vy(c,t.type,t.stateNode);else t.stateNode=yy(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?vy(c,t.type,t.stateNode):yy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Kh(t,t.memoizedProps,a.memoizedProps)}break;case 27:rn(n,t),ln(t),l&512&&(we||a===null||yi(a,a.return)),a!==null&&l&4&&Kh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(rn(n,t),ln(t),l&512&&(we||a===null||yi(a,a.return)),t.flags&32){c=t.stateNode;try{an(c,"")}catch(ot){Kt(t,t.return,ot)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Kh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Jh=!0);break;case 6:if(rn(n,t),ln(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ot){Kt(t,t.return,ot)}}break;case 3:if(Uu=null,c=Xn,Xn=zu(n.containerInfo),rn(n,t),Xn=c,ln(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{_r(n.containerInfo)}catch(ot){Kt(t,t.return,ot)}Jh&&(Jh=!1,vp(t));break;case 4:l=Xn,Xn=zu(t.stateNode.containerInfo),rn(n,t),ln(t),Xn=l;break;case 12:rn(n,t),ln(t);break;case 31:rn(n,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Tu(t,l)));break;case 13:rn(n,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Au=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Tu(t,l)));break;case 22:c=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,B=Bi,Q=we;if(Bi=B||c,we=Q||D,rn(n,t),we=Q,Bi=B,ln(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||D||Bi||we||vs(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){D=a=n;try{if(f=D.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=D.stateNode;var X=D.memoizedProps.style,k=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(ot){Kt(D,D.return,ot)}}}else if(n.tag===6){if(a===null){D=n;try{D.stateNode.nodeValue=c?"":D.memoizedProps}catch(ot){Kt(D,D.return,ot)}}}else if(n.tag===18){if(a===null){D=n;try{var H=D.stateNode;c?oy(H,!0):oy(D.stateNode,!1)}catch(ot){Kt(D,D.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Tu(t,a))));break;case 19:rn(n,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Tu(t,l)));break;case 30:break;case 21:break;default:rn(n,t),ln(t)}}function ln(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(cp(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=Zh(t);Eu(t,f,c);break;case 5:var g=a.stateNode;a.flags&32&&(an(g,""),a.flags&=-33);var E=Zh(t);Eu(t,E,g);break;case 3:case 4:var D=a.stateNode.containerInfo,B=Zh(t);$h(t,B,D);break;default:throw Error(s(161))}}catch(Q){Kt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function vp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;vp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ki(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)dp(t,n.alternate,n),n=n.sibling}function vs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:pa(4,n,n.return),vs(n);break;case 1:yi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&op(n,n.return,a),vs(n);break;case 27:Ol(n.stateNode);case 26:case 5:yi(n,n.return),vs(n);break;case 22:n.memoizedState===null&&vs(n);break;case 30:vs(n);break;default:vs(n)}t=t.sibling}}function qi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:qi(c,f,a),Sl(4,f);break;case 1:if(qi(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Kt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var D=c.shared.hiddenCallbacks;if(D!==null)for(c.shared.hiddenCallbacks=null,c=0;c<D.length;c++)Zm(D[c],E)}catch(B){Kt(l,l.return,B)}}a&&g&64&&lp(f),wl(f,f.return);break;case 27:hp(f);case 26:case 5:qi(c,f,a),a&&l===null&&g&4&&up(f),wl(f,f.return);break;case 12:qi(c,f,a);break;case 31:qi(c,f,a),a&&g&4&&pp(c,f);break;case 13:qi(c,f,a),a&&g&4&&yp(c,f);break;case 22:f.memoizedState===null&&qi(c,f,a),wl(f,f.return);break;case 30:break;default:qi(c,f,a)}n=n.sibling}}function Wh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&hl(a))}function tf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&hl(t))}function Kn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ep(t,n,a,l),n=n.sibling}function Ep(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(t,n,a,l),c&2048&&Sl(9,n);break;case 1:Kn(t,n,a,l);break;case 3:Kn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&hl(t)));break;case 12:if(c&2048){Kn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Kt(n,n.return,D)}}else Kn(t,n,a,l);break;case 31:Kn(t,n,a,l);break;case 13:Kn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Kn(t,n,a,l):Rl(t,n):f._visibility&2?Kn(t,n,a,l):(f._visibility|=2,lr(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Wh(g,n);break;case 24:Kn(t,n,a,l),c&2048&&tf(n.alternate,n);break;default:Kn(t,n,a,l)}}function lr(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,D=l,B=g.flags;switch(g.tag){case 0:case 11:case 15:lr(f,g,E,D,c),Sl(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?lr(f,g,E,D,c):Rl(f,g):(Q._visibility|=2,lr(f,g,E,D,c)),c&&B&2048&&Wh(g.alternate,g);break;case 24:lr(f,g,E,D,c),c&&B&2048&&tf(g.alternate,g);break;default:lr(f,g,E,D,c)}n=n.sibling}}function Rl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Rl(a,l),c&2048&&Wh(l.alternate,l);break;case 24:Rl(a,l),c&2048&&tf(l.alternate,l);break;default:Rl(a,l)}n=n.sibling}}var xl=8192;function or(t,n,a){if(t.subtreeFlags&xl)for(t=t.child;t!==null;)Tp(t,n,a),t=t.sibling}function Tp(t,n,a){switch(t.tag){case 26:or(t,n,a),t.flags&xl&&t.memoizedState!==null&&TE(a,Xn,t.memoizedState,t.memoizedProps);break;case 5:or(t,n,a);break;case 3:case 4:var l=Xn;Xn=zu(t.stateNode.containerInfo),or(t,n,a),Xn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=xl,xl=16777216,or(t,n,a),xl=l):or(t,n,a));break;default:or(t,n,a)}}function bp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Cl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ue=l,Sp(l,t)}bp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ap(t),t=t.sibling}function Ap(t){switch(t.tag){case 0:case 11:case 15:Cl(t),t.flags&2048&&pa(9,t,t.return);break;case 3:Cl(t);break;case 12:Cl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,bu(t)):Cl(t);break;default:Cl(t)}}function bu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ue=l,Sp(l,t)}bp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:pa(8,n,n.return),bu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,bu(n));break;default:bu(n)}t=t.sibling}}function Sp(t,n){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:pa(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ue=l;else t:for(a=t;Ue!==null;){l=Ue;var c=l.sibling,f=l.return;if(mp(l),l===a){Ue=null;break t}if(c!==null){c.return=f,Ue=c;break t}Ue=f}}}var j1={getCacheForType:function(t){var n=qe(be),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qe(be).controller.signal}},U1=typeof WeakMap=="function"?WeakMap:Map,Qt=0,te=null,Dt=null,It=0,Xt=0,_n=null,ya=!1,ur=!1,ef=!1,Hi=0,ce=0,_a=0,Es=0,nf=0,vn=0,cr=0,Nl=null,on=null,af=!1,Au=0,wp=0,Su=1/0,wu=null,va=null,Ve=0,Ea=null,hr=null,Gi=0,sf=0,rf=null,Rp=null,Dl=0,lf=null;function En(){return(Qt&2)!==0&&It!==0?It&-It:G.T!==null?df():Ro()}function xp(){if(vn===0)if((It&536870912)===0||Ut){var t=Ya;Ya<<=1,(Ya&3932160)===0&&(Ya=262144),vn=t}else vn=536870912;return t=pn.current,t!==null&&(t.flags|=32),vn}function un(t,n,a){(t===te&&(Xt===2||Xt===9)||t.cancelPendingCommit!==null)&&(fr(t,0),Ta(t,It,vn,!1)),Xa(t,a),((Qt&2)===0||t!==te)&&(t===te&&((Qt&2)===0&&(Es|=a),ce===4&&Ta(t,It,vn,!1)),_i(t))}function Cp(t,n,a){if((Qt&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Bn(t,n),c=l?P1(t,n):uf(t,n,!0),f=l;do{if(c===0){ur&&!l&&Ta(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!L1(a)){c=uf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=Nl;var D=E.current.memoizedState.isDehydrated;if(D&&(fr(E,g).flags|=256),g=uf(E,g,!1),g!==2){if(ef&&!D){E.errorRecoveryDisabledLanes|=f,Es|=f,c=4;break t}f=on,on=c,f!==null&&(on===null?on=f:on.push.apply(on,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){fr(t,0),Ta(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ta(l,n,vn,!ya);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Au+300-Je(),10<c)){if(Ta(l,n,vn,!ya),ti(l,0,!0)!==0)break t;Gi=n,l.timeoutHandle=sy(Np.bind(null,l,a,on,wu,af,n,vn,Es,cr,ya,f,"Throttled",-0,0),c);break t}Np(l,a,on,wu,af,n,vn,Es,cr,ya,f,null,-0,0)}}break}while(!0);_i(t)}function Np(t,n,a,l,c,f,g,E,D,B,Q,X,k,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},Tp(n,f,X);var ot=(f&62914560)===f?Au-Je():(f&4194048)===f?wp-Je():0;if(ot=bE(X,ot),ot!==null){Gi=f,t.cancelPendingCommit=ot(Up.bind(null,t,n,f,a,l,c,g,E,D,Q,X,null,k,H)),Ta(t,f,g,!B);return}}Up(t,n,f,a,l,c,g,E,D)}function L1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!mn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ta(t,n,a,l){n&=~nf,n&=~Es,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-he(c),g=1<<f;l[f]=-1,c&=~g}a!==0&&Ka(t,a,n)}function Ru(){return(Qt&6)===0?(Vl(0),!1):!0}function of(){if(Dt!==null){if(Xt===0)var t=Dt.return;else t=Dt,Mi=hs=null,Ah(t),nr=null,dl=0,t=Dt;for(;t!==null;)rp(t.alternate,t),t=t.return;Dt=null}}function fr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,aE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Gi=0,of(),te=t,Dt=a=Vi(t.current,null),It=n,Xt=0,_n=null,ya=!1,ur=Bn(t,n),ef=!1,cr=vn=nf=Es=_a=ce=0,on=Nl=null,af=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-he(l),f=1<<c;n|=t[c],l&=~f}return Hi=n,Yo(),a}function Dp(t,n){wt=null,G.H=Tl,n===er||n===eu?(n=Fm(),Xt=3):n===hh?(n=Fm(),Xt=4):Xt=n===Bh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,Dt===null&&(ce=1,gu(t,Nn(n,t.current)))}function Vp(){var t=pn.current;return t===null?!0:(It&4194048)===It?Mn===null:(It&62914560)===It||(It&536870912)!==0?t===Mn:!1}function Ip(){var t=G.H;return G.H=Tl,t===null?Tl:t}function Mp(){var t=G.A;return G.A=j1,t}function xu(){ce=4,ya||(It&4194048)!==It&&pn.current!==null||(ur=!0),(_a&134217727)===0&&(Es&134217727)===0||te===null||Ta(te,It,vn,!1)}function uf(t,n,a){var l=Qt;Qt|=2;var c=Ip(),f=Mp();(te!==t||It!==n)&&(wu=null,fr(t,n)),n=!1;var g=ce;t:do try{if(Xt!==0&&Dt!==null){var E=Dt,D=_n;switch(Xt){case 8:of(),g=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var B=Xt;if(Xt=0,_n=null,dr(t,E,D,B),a&&ur){g=0;break t}break;default:B=Xt,Xt=0,_n=null,dr(t,E,D,B)}}B1(),g=ce;break}catch(Q){Dp(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Mi=hs=null,Qt=l,G.H=c,G.A=f,Dt===null&&(te=null,It=0,Yo()),g}function B1(){for(;Dt!==null;)Op(Dt)}function P1(t,n){var a=Qt;Qt|=2;var l=Ip(),c=Mp();te!==t||It!==n?(wu=null,Su=Je()+500,fr(t,n)):ur=Bn(t,n);t:do try{if(Xt!==0&&Dt!==null){n=Dt;var f=_n;e:switch(Xt){case 1:Xt=0,_n=null,dr(t,n,f,1);break;case 2:case 9:if(Gm(f)){Xt=0,_n=null,zp(n);break}n=function(){Xt!==2&&Xt!==9||te!==t||(Xt=7),_i(t)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Gm(f)?(Xt=0,_n=null,zp(n)):(Xt=0,_n=null,dr(t,n,f,7));break;case 5:var g=null;switch(Dt.tag){case 26:g=Dt.memoizedState;case 5:case 27:var E=Dt;if(g?Ey(g):E.stateNode.complete){Xt=0,_n=null;var D=E.sibling;if(D!==null)Dt=D;else{var B=E.return;B!==null?(Dt=B,Cu(B)):Dt=null}break e}}Xt=0,_n=null,dr(t,n,f,5);break;case 6:Xt=0,_n=null,dr(t,n,f,6);break;case 8:of(),ce=6;break t;default:throw Error(s(462))}}k1();break}catch(Q){Dp(t,Q)}while(!0);return Mi=hs=null,G.H=l,G.A=c,Qt=a,Dt!==null?0:(te=null,It=0,Yo(),ce)}function k1(){for(;Dt!==null&&!Lc();)Op(Dt)}function Op(t){var n=ap(t.alternate,t,Hi);t.memoizedProps=t.pendingProps,n===null?Cu(t):Dt=n}function zp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Jg(a,n,n.pendingProps,n.type,void 0,It);break;case 11:n=Jg(a,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:Ah(n);default:rp(a,n),n=Dt=Mm(n,Hi),n=ap(a,n,Hi)}t.memoizedProps=t.pendingProps,n===null?Cu(t):Dt=n}function dr(t,n,a,l){Mi=hs=null,Ah(n),nr=null,dl=0;var c=n.return;try{if(N1(t,c,n,a,It)){ce=1,gu(t,Nn(a,t.current)),Dt=null;return}}catch(f){if(c!==null)throw Dt=c,f;ce=1,gu(t,Nn(a,t.current)),Dt=null;return}n.flags&32768?(Ut||l===1?t=!0:ur||(It&536870912)!==0?t=!1:(ya=t=!0,(l===2||l===9||l===3||l===6)&&(l=pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),jp(n,t)):Cu(n)}function Cu(t){var n=t;do{if((n.flags&32768)!==0){jp(n,ya);return}t=n.return;var a=I1(n.alternate,n,Hi);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);ce===0&&(ce=5)}function jp(t,n){do{var a=M1(t.alternate,t);if(a!==null){a.flags&=32767,Dt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=a}while(t!==null);ce=6,Dt=null}function Up(t,n,a,l,c,f,g,E,D){t.cancelPendingCommit=null;do Nu();while(Ve!==0);if((Qt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Zc,kc(t,a,f,g,E,D),t===te&&(Dt=te=null,It=0),hr=n,Ea=t,Gi=a,sf=f,rf=c,Rp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Q1($i,function(){return qp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=W.p,W.p=2,g=Qt,Qt|=4;try{O1(t,n,a)}finally{Qt=g,W.p=c,G.T=l}}Ve=1,Lp(),Bp(),Pp()}}function Lp(){if(Ve===1){Ve=0;var t=Ea,n=hr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=W.p;W.p=2;var c=Qt;Qt|=4;try{_p(n,t);var f=Tf,g=Sm(t.containerInfo),E=f.focusedElem,D=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Am(E.ownerDocument.documentElement,E)){if(D!==null&&Qc(E)){var B=D.start,Q=D.end;if(Q===void 0&&(Q=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,k=X&&X.defaultView||window;if(k.getSelection){var H=k.getSelection(),ot=E.textContent.length,pt=Math.min(D.start,ot),Wt=D.end===void 0?pt:Math.min(D.end,ot);!H.extend&&pt>Wt&&(g=Wt,Wt=pt,pt=g);var j=bm(E,pt),O=bm(E,Wt);if(j&&O&&(H.rangeCount!==1||H.anchorNode!==j.node||H.anchorOffset!==j.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var L=X.createRange();L.setStart(j.node,j.offset),H.removeAllRanges(),pt>Wt?(H.addRange(L),H.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),H.addRange(L))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var F=X[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}ku=!!Ef,Tf=Ef=null}finally{Qt=c,W.p=l,G.T=a}}t.current=n,Ve=2}}function Bp(){if(Ve===2){Ve=0;var t=Ea,n=hr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=W.p;W.p=2;var c=Qt;Qt|=4;try{dp(t,n.alternate,n)}finally{Qt=c,W.p=l,G.T=a}}Ve=3}}function Pp(){if(Ve===4||Ve===3){Ve=0,vo();var t=Ea,n=hr,a=Gi,l=Rp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,hr=Ea=null,kp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(va=null),xi(a),n=n.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=W.p,W.p=2,G.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,W.p=c}}(Gi&3)!==0&&Nu(),_i(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===lf?Dl++:(Dl=0,lf=t):Dl=0,Vl(0)}}function kp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,hl(n)))}function Nu(){return Lp(),Bp(),Pp(),qp()}function qp(){if(Ve!==5)return!1;var t=Ea,n=sf;sf=0;var a=xi(Gi),l=G.T,c=W.p;try{W.p=32>a?32:a,G.T=null,a=rf,rf=null;var f=Ea,g=Gi;if(Ve=0,hr=Ea=null,Gi=0,(Qt&6)!==0)throw Error(s(331));var E=Qt;if(Qt|=4,Ap(f.current),Ep(f,f.current,g,a),Qt=E,Vl(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{W.p=c,G.T=l,kp(t,n)}}function Hp(t,n,a){n=Nn(a,n),n=Lh(t.stateNode,n,2),t=da(t,n,2),t!==null&&(Xa(t,2),_i(t))}function Kt(t,n,a){if(t.tag===3)Hp(t,t,a);else for(;n!==null;){if(n.tag===3){Hp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(va===null||!va.has(l))){t=Nn(a,t),a=Gg(2),l=da(n,a,2),l!==null&&(Qg(a,l,n,t),Xa(l,2),_i(l));break}}n=n.return}}function cf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new U1;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(ef=!0,c.add(a),t=q1.bind(null,t,n,a),n.then(t,t))}function q1(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,te===t&&(It&a)===a&&(ce===4||ce===3&&(It&62914560)===It&&300>Je()-Au?(Qt&2)===0&&fr(t,0):nf|=a,cr===It&&(cr=0)),_i(t)}function Gp(t,n){n===0&&(n=wo()),t=os(t,n),t!==null&&(Xa(t,n),_i(t))}function H1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Gp(t,a)}function G1(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Gp(t,a)}function Q1(t,n){return De(t,n)}var Du=null,mr=null,hf=!1,Vu=!1,ff=!1,ba=0;function _i(t){t!==mr&&t.next===null&&(mr===null?Du=mr=t:mr=mr.next=t),Vu=!0,hf||(hf=!0,Y1())}function Vl(t,n){if(!ff&&Vu){ff=!0;do for(var a=!1,l=Du;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-he(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Xp(l,f))}else f=It,f=ti(l,l===te?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Bn(l,f)||(a=!0,Xp(l,f));l=l.next}while(a);ff=!1}}function F1(){Qp()}function Qp(){Vu=hf=!1;var t=0;ba!==0&&iE()&&(t=ba);for(var n=Je(),a=null,l=Du;l!==null;){var c=l.next,f=Fp(l,n);f===0?(l.next=null,a===null?Du=c:a.next=c,c===null&&(mr=a)):(a=l,(t!==0||(f&3)!==0)&&(Vu=!0)),l=c}Ve!==0&&Ve!==5||Vl(t),ba!==0&&(ba=0)}function Fp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-he(f),E=1<<g,D=c[g];D===-1?((E&a)===0||(E&l)!==0)&&(c[g]=Pc(E,n)):D<=n&&(t.expiredLanes|=E),f&=~E}if(n=te,a=It,a=ti(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Xt===2||Xt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Zi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Bn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Zi(l),xi(a)){case 2:case 8:a=kr;break;case 32:a=$i;break;case 268435456:a=Eo;break;default:a=$i}return l=Yp.bind(null,t),a=De(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Zi(l),t.callbackPriority=2,t.callbackNode=null,2}function Yp(t,n){if(Ve!==0&&Ve!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Nu()&&t.callbackNode!==a)return null;var l=It;return l=ti(t,t===te?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Cp(t,l,n),Fp(t,Je()),t.callbackNode!=null&&t.callbackNode===a?Yp.bind(null,t):null)}function Xp(t,n){if(Nu())return null;Cp(t,n,!0)}function Y1(){sE(function(){(Qt&6)!==0?De(Pr,F1):Qp()})}function df(){if(ba===0){var t=Ws;t===0&&(t=Jn,Jn<<=1,(Jn&261888)===0&&(Jn=256)),ba=t}return ba}function Kp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ls(""+t)}function Zp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function X1(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Kp((c[ze]||null).action),g=l.submitter;g&&(n=(n=g[ze]||null)?Kp(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new hi("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ba!==0){var D=g?Zp(c,g):new FormData(c);Ih(a,{pending:!0,data:D,method:c.method,action:f},null,D)}}else typeof f=="function"&&(E.preventDefault(),D=g?Zp(c,g):new FormData(c),Ih(a,{pending:!0,data:D,method:c.method,action:f},f,D))},currentTarget:c}]})}}for(var mf=0;mf<Kc.length;mf++){var gf=Kc[mf],K1=gf.toLowerCase(),Z1=gf[0].toUpperCase()+gf.slice(1);Yn(K1,"on"+Z1)}Yn(xm,"onAnimationEnd"),Yn(Cm,"onAnimationIteration"),Yn(Nm,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(f1,"onTransitionRun"),Yn(d1,"onTransitionStart"),Yn(m1,"onTransitionCancel"),Yn(Dm,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function $p(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],D=E.instance,B=E.currentTarget;if(E=E.listener,D!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(Q){Fo(Q)}c.currentTarget=null,f=D}else for(g=0;g<l.length;g++){if(E=l[g],D=E.instance,B=E.currentTarget,E=E.listener,D!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(Q){Fo(Q)}c.currentTarget=null,f=D}}}}function Vt(t,n){var a=n[Ms];a===void 0&&(a=n[Ms]=new Set);var l=t+"__bubble";a.has(l)||(Jp(n,t,2,!1),a.add(l))}function pf(t,n,a){var l=0;n&&(l|=4),Jp(a,t,l,n)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function yf(t){if(!t[Iu]){t[Iu]=!0,Gr.forEach(function(a){a!=="selectionchange"&&($1.has(a)||pf(a,!1,t),pf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Iu]||(n[Iu]=!0,pf("selectionchange",!1,n))}}function Jp(t,n,a,l){switch(xy(n)){case 2:var c=wE;break;case 8:c=RE;break;default:c=If}a=c.bind(null,n,a,t),c=void 0,!ts||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function _f(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var D=g.tag;if((D===3||D===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ai(E),g===null)return;if(D=g.tag,D===5||D===6||D===26||D===27){l=f=g;continue t}E=E.parentNode}}l=l.return}ia(function(){var B=f,Q=wn(a),X=[];t:{var k=Vm.get(t);if(k!==void 0){var H=hi,ot=t;switch(t){case"keypress":if(ns(a)===0)break t;case"keydown":case"keyup":H=Ho;break;case"focusin":ot="focus",H=as;break;case"focusout":ot="blur",H=as;break;case"beforeblur":case"afterblur":H=as;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Oo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case xm:case Cm:case Nm:H=jo;break;case Dm:H=T;break;case"scroll":case"scrollend":H=nl;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Uo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Di;break;case"toggle":case"beforetoggle":H=St}var pt=(n&4)!==0,Wt=!pt&&(t==="scroll"||t==="scrollend"),j=pt?k!==null?k+"Capture":null:k;pt=[];for(var O=B,L;O!==null;){var F=O;if(L=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||L===null||j===null||(F=Hn(O,j),F!=null&&pt.push(Ml(O,F,L))),Wt)break;O=O.return}0<pt.length&&(k=new H(k,ot,null,a,Q),X.push({event:k,listeners:pt}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",k&&a!==Wr&&(ot=a.relatedTarget||a.fromElement)&&(ai(ot)||ot[ni]))break t;if((H||k)&&(k=Q.window===Q?Q:(k=Q.ownerDocument)?k.defaultView||k.parentWindow:window,H?(ot=a.relatedTarget||a.toElement,H=B,ot=ot?ai(ot):null,ot!==null&&(Wt=h(ot),pt=ot.tag,ot!==Wt||pt!==5&&pt!==27&&pt!==6)&&(ot=null)):(H=null,ot=B),H!==ot)){if(pt=il,F="onMouseLeave",j="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(pt=Di,F="onPointerLeave",j="onPointerEnter",O="pointer"),Wt=H==null?k:fn(H),L=ot==null?k:fn(ot),k=new pt(F,O+"leave",H,a,Q),k.target=Wt,k.relatedTarget=L,F=null,ai(Q)===B&&(pt=new pt(j,O+"enter",ot,a,Q),pt.target=L,pt.relatedTarget=Wt,F=pt),Wt=F,H&&ot)e:{for(pt=J1,j=H,O=ot,L=0,F=j;F;F=pt(F))L++;F=0;for(var mt=O;mt;mt=pt(mt))F++;for(;0<L-F;)j=pt(j),L--;for(;0<F-L;)O=pt(O),F--;for(;L--;){if(j===O||O!==null&&j===O.alternate){pt=j;break e}j=pt(j),O=pt(O)}pt=null}else pt=null;H!==null&&Wp(X,k,H,pt,!1),ot!==null&&Wt!==null&&Wp(X,Wt,ot,pt,!0)}}t:{if(k=B?fn(B):window,H=k.nodeName&&k.nodeName.toLowerCase(),H==="select"||H==="input"&&k.type==="file")var qt=pm;else if(mm(k))if(ym)qt=u1;else{qt=l1;var ct=r1}else H=k.nodeName,!H||H.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?B&&Us(B.elementType)&&(qt=pm):qt=o1;if(qt&&(qt=qt(t,B))){gm(X,qt,a,Q);break t}ct&&ct(t,k,B),t==="focusout"&&B&&k.type==="number"&&B.memoizedProps.value!=null&&Zr(k,"number",k.value)}switch(ct=B?fn(B):window,t){case"focusin":(mm(ct)||ct.contentEditable==="true")&&(Qs=ct,Fc=B,ol=null);break;case"focusout":ol=Fc=Qs=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,wm(X,a,Q);break;case"selectionchange":if(h1)break;case"keydown":case"keyup":wm(X,a,Q)}var xt;if(Gt)t:{switch(t){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else Gs?ss(t,a)&&(Mt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Mt="onCompositionStart");Mt&&(mi&&a.locale!=="ko"&&(Gs||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&Gs&&(xt=el()):(ci=Q,tl="value"in ci?ci.value:ci.textContent,Gs=!0)),ct=Mu(B,Mt),0<ct.length&&(Mt=new di(Mt,t,null,a,Q),X.push({event:Mt,listeners:ct}),xt?Mt.data=xt:(xt=Hs(a),xt!==null&&(Mt.data=xt)))),(xt=xn?n1(t,a):i1(t,a))&&(Mt=Mu(B,"onBeforeInput"),0<Mt.length&&(ct=new di("onBeforeInput","beforeinput",null,a,Q),X.push({event:ct,listeners:Mt}),ct.data=xt)),X1(X,t,B,a,Q)}$p(X,n)})}function Ml(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Mu(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Hn(t,a),c!=null&&l.unshift(Ml(t,c,f)),c=Hn(t,n),c!=null&&l.push(Ml(t,c,f))),t.tag===3)return l;t=t.return}return[]}function J1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Wp(t,n,a,l,c){for(var f=n._reactName,g=[];a!==null&&a!==l;){var E=a,D=E.alternate,B=E.stateNode;if(E=E.tag,D!==null&&D===l)break;E!==5&&E!==26&&E!==27||B===null||(D=B,c?(B=Hn(a,f),B!=null&&g.unshift(Ml(a,B,D))):c||(B=Hn(a,f),B!=null&&g.push(Ml(a,B,D)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var W1=/\r\n?/g,tE=/\u0000|\uFFFD/g;function ty(t){return(typeof t=="string"?t:""+t).replace(W1,`
`).replace(tE,"")}function ey(t,n){return n=ty(n),ty(t)===n}function Jt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&an(t,""+l);break;case"className":dn(t,"class",l);break;case"tabIndex":dn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(t,a,l);break;case"style":Jr(t,l,f);break;case"data":if(n!=="object"){dn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ls(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Jt(t,n,"name",c.name,c,null),Jt(t,n,"formEncType",c.formEncType,c,null),Jt(t,n,"formMethod",c.formMethod,c,null),Jt(t,n,"formTarget",c.formTarget,c,null)):(Jt(t,n,"encType",c.encType,c,null),Jt(t,n,"method",c.method,c,null),Jt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ls(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=qn);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ls(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),zs(t,"popover",l);break;case"xlinkActuate":Te(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Te(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Te(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Te(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Te(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Te(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Te(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Te(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Te(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":zs(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Mo.get(a)||a,zs(t,a,l))}}function vf(t,n,a,l,c,f){switch(a){case"style":Jr(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[ze]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):zs(t,a,l)}}}function Ge(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(t,n,f,g,a,null)}}c&&Jt(t,n,"srcSet",a.srcSet,a,null),l&&Jt(t,n,"src",a.src,a,null);return;case"input":Vt("invalid",t);var E=f=g=c=null,D=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":c=Q;break;case"type":g=Q;break;case"checked":D=Q;break;case"defaultChecked":B=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Jt(t,n,l,Q,a,null)}}Do(t,f,E,D,B,g,c,!1);return;case"select":Vt("invalid",t),l=g=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Jt(t,n,c,E,a,null)}n=f,a=g,t.multiple=!!l,n!=null?Wi(t,!!l,n,!1):a!=null&&Wi(t,!!l,a,!0);return;case"textarea":Vt("invalid",t),f=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Jt(t,n,g,E,a,null)}ta(t,l,c,f);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Jt(t,n,D,l,a,null)}return;case"dialog":Vt("beforetoggle",t),Vt("toggle",t),Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<Il.length;l++)Vt(Il[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(t,n,B,l,a,null)}return;default:if(Us(n)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&vf(t,n,Q,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Jt(t,n,E,l,a,null))}function eE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,D=null,B=null,Q=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":D=X;default:l.hasOwnProperty(H)||Jt(t,n,H,null,l,X)}}for(var k in l){var H=l[k];if(X=a[k],l.hasOwnProperty(k)&&(H!=null||X!=null))switch(k){case"type":f=H;break;case"name":c=H;break;case"checked":B=H;break;case"defaultChecked":Q=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==X&&Jt(t,n,k,H,l,X)}}js(t,g,E,D,B,Q,f,c);return;case"select":H=g=E=k=null;for(f in a)if(D=a[f],a.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":H=D;default:l.hasOwnProperty(f)||Jt(t,n,f,null,l,D)}for(c in l)if(f=l[c],D=a[c],l.hasOwnProperty(c)&&(f!=null||D!=null))switch(c){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==D&&Jt(t,n,c,f,l,D)}n=E,a=g,l=H,k!=null?Wi(t,!!a,k,!1):!!l!=!!a&&(n!=null?Wi(t,!!a,n,!0):Wi(t,!!a,a?[]:"",!1));return;case"textarea":H=k=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=a[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":k=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Jt(t,n,g,c,l,f)}Vo(t,k,H);return;case"option":for(var ot in a)if(k=a[ot],a.hasOwnProperty(ot)&&k!=null&&!l.hasOwnProperty(ot))switch(ot){case"selected":t.selected=!1;break;default:Jt(t,n,ot,null,l,k)}for(D in l)if(k=l[D],H=a[D],l.hasOwnProperty(D)&&k!==H&&(k!=null||H!=null))switch(D){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Jt(t,n,D,k,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)k=a[pt],a.hasOwnProperty(pt)&&k!=null&&!l.hasOwnProperty(pt)&&Jt(t,n,pt,null,l,k);for(B in l)if(k=l[B],H=a[B],l.hasOwnProperty(B)&&k!==H&&(k!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:Jt(t,n,B,k,l,H)}return;default:if(Us(n)){for(var Wt in a)k=a[Wt],a.hasOwnProperty(Wt)&&k!==void 0&&!l.hasOwnProperty(Wt)&&vf(t,n,Wt,void 0,l,k);for(Q in l)k=l[Q],H=a[Q],!l.hasOwnProperty(Q)||k===H||k===void 0&&H===void 0||vf(t,n,Q,k,l,H);return}}for(var j in a)k=a[j],a.hasOwnProperty(j)&&k!=null&&!l.hasOwnProperty(j)&&Jt(t,n,j,null,l,k);for(X in l)k=l[X],H=a[X],!l.hasOwnProperty(X)||k===H||k==null&&H==null||Jt(t,n,X,k,l,H)}function ny(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&ny(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var D=a[l],B=D.startTime;if(B>E)break;var Q=D.transferSize,X=D.initiatorType;Q&&ny(X)&&(D=D.responseEnd,g+=Q*(D<E?1:(E-B)/(D-B)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ef=null,Tf=null;function Ou(t){return t.nodeType===9?t:t.ownerDocument}function iy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ay(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function bf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Af=null;function iE(){var t=window.event;return t&&t.type==="popstate"?t===Af?!1:(Af=t,!0):(Af=null,!1)}var sy=typeof setTimeout=="function"?setTimeout:void 0,aE=typeof clearTimeout=="function"?clearTimeout:void 0,ry=typeof Promise=="function"?Promise:void 0,sE=typeof queueMicrotask=="function"?queueMicrotask:typeof ry<"u"?function(t){return ry.resolve(null).then(t).catch(rE)}:sy;function rE(t){setTimeout(function(){throw t})}function Aa(t){return t==="head"}function ly(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),_r(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ol(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ol(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ii]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Ol(t.ownerDocument.body);a=c}while(a);_r(n)}function oy(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Sf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sf(a),Os(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function lE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ii])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function oE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=On(t.nextSibling),t===null))return null;return t}function uy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=On(t.nextSibling),t===null))return null;return t}function wf(t){return t.data==="$?"||t.data==="$~"}function Rf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function uE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var xf=null;function cy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return On(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function hy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function fy(t,n,a){switch(n=Ou(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ol(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Os(t)}var zn=new Map,dy=new Set;function zu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Qi=W.d;W.d={f:cE,r:hE,D:fE,C:dE,L:mE,m:gE,X:yE,S:pE,M:_E};function cE(){var t=Qi.f(),n=Ru();return t||n}function hE(t){var n=Sn(t);n!==null&&n.tag===5&&n.type==="form"?Dg(n):Qi.r(t)}var gr=typeof document>"u"?null:document;function my(t,n,a){var l=gr;if(l&&typeof n=="string"&&n){var c=nn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),dy.has(c)||(dy.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Ge(n,"link",t),Ee(n),l.head.appendChild(n)))}}function fE(t){Qi.D(t),my("dns-prefetch",t,null)}function dE(t,n){Qi.C(t,n),my("preconnect",t,n)}function mE(t,n,a){Qi.L(t,n,a);var l=gr;if(l&&t&&n){var c='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+nn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+nn(a.imageSizes)+'"]')):c+='[href="'+nn(t)+'"]';var f=c;switch(n){case"style":f=pr(t);break;case"script":f=yr(t)}zn.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),zn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(zl(f))||n==="script"&&l.querySelector(jl(f))||(n=l.createElement("link"),Ge(n,"link",t),Ee(n),l.head.appendChild(n)))}}function gE(t,n){Qi.m(t,n);var a=gr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+nn(l)+'"][href="'+nn(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=yr(t)}if(!zn.has(f)&&(t=A({rel:"modulepreload",href:t},n),zn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jl(f)))return}l=a.createElement("link"),Ge(l,"link",t),Ee(l),a.head.appendChild(l)}}}function pE(t,n,a){Qi.S(t,n,a);var l=gr;if(l&&t){var c=si(l).hoistableStyles,f=pr(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(zl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=zn.get(f))&&Cf(t,a);var D=g=l.createElement("link");Ee(D),Ge(D,"link",t),D._p=new Promise(function(B,Q){D.onload=B,D.onerror=Q}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ju(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function yE(t,n){Qi.X(t,n);var a=gr;if(a&&t){var l=si(a).hoistableScripts,c=yr(t),f=l.get(c);f||(f=a.querySelector(jl(c)),f||(t=A({src:t,async:!0},n),(n=zn.get(c))&&Nf(t,n),f=a.createElement("script"),Ee(f),Ge(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function _E(t,n){Qi.M(t,n);var a=gr;if(a&&t){var l=si(a).hoistableScripts,c=yr(t),f=l.get(c);f||(f=a.querySelector(jl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=zn.get(c))&&Nf(t,n),f=a.createElement("script"),Ee(f),Ge(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function gy(t,n,a,l){var c=(c=Rt.current)?zu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=pr(a.href),a=si(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=pr(a.href);var f=si(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(zl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),zn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(t,a),f||vE(c,t,a,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=yr(a),a=si(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function pr(t){return'href="'+nn(t)+'"'}function zl(t){return'link[rel="stylesheet"]['+t+"]"}function py(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function vE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ge(n,"link",a),Ee(n),t.head.appendChild(n))}function yr(t){return'[src="'+nn(t)+'"]'}function jl(t){return"script[async]"+t}function yy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+nn(a.href)+'"]');if(l)return n.instance=l,Ee(l),l;var c=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ee(l),Ge(l,"style",c),ju(l,a.precedence,t),n.instance=l;case"stylesheet":c=pr(a.href);var f=t.querySelector(zl(c));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;l=py(a),(c=zn.get(c))&&Cf(l,c),f=(t.ownerDocument||t).createElement("link"),Ee(f);var g=f;return g._p=new Promise(function(E,D){g.onload=E,g.onerror=D}),Ge(f,"link",l),n.state.loading|=4,ju(f,a.precedence,t),n.instance=f;case"script":return f=yr(a.src),(c=t.querySelector(jl(f)))?(n.instance=c,Ee(c),c):(l=a,(c=zn.get(f))&&(l=A({},a),Nf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Ee(c),Ge(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,ju(l,a.precedence,t));return n.instance}function ju(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Cf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Nf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Uu=null;function _y(t,n,a){if(Uu===null){var l=new Map,c=Uu=new Map;c.set(a,l)}else c=Uu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[ii]||f[ve]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function vy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function EE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ey(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function TE(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=pr(l.href),f=n.querySelector(zl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Lu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Ee(f);return}f=n.ownerDocument||n,l=py(l),(c=zn.get(c))&&Cf(l,c),f=f.createElement("link"),Ee(f);var g=f;g._p=new Promise(function(E,D){g.onload=E,g.onerror=D}),Ge(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Lu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Df=0;function bE(t,n){return t.stylesheets&&t.count===0&&Pu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Pu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Df===0&&(Df=62500*nE());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Pu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Df?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Lu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Bu=null;function Pu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Bu=new Map,n.forEach(AE,t),Bu=null,Lu.call(t))}function AE(t,n){if(!(n.state.loading&4)){var a=Bu.get(t);if(a)var l=a.get(null);else{a=new Map,Bu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,c),a.set(g,c),this.count++,l=Lu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ul={$$typeof:ht,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function SE(t,n,a,l,c,f,g,E,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Ty(t,n,a,l,c,f,g,E,D,B,Q,X){return t=new SE(t,n,a,g,D,B,Q,X,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),t.current=f,f.stateNode=t,n=oh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},fh(f),t}function by(t){return t?(t=Xs,t):Xs}function Ay(t,n,a,l,c,f){c=by(c),l.context===null?l.context=c:l.pendingContext=c,l=fa(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=da(t,l,n),a!==null&&(un(a,t,n),gl(a,t,n))}function Sy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Vf(t,n){Sy(t,n),(t=t.alternate)&&Sy(t,n)}function wy(t){if(t.tag===13||t.tag===31){var n=os(t,67108864);n!==null&&un(n,t,67108864),Vf(t,67108864)}}function Ry(t){if(t.tag===13||t.tag===31){var n=En();n=Za(n);var a=os(t,n);a!==null&&un(a,t,n),Vf(t,n)}}var ku=!0;function wE(t,n,a,l){var c=G.T;G.T=null;var f=W.p;try{W.p=2,If(t,n,a,l)}finally{W.p=f,G.T=c}}function RE(t,n,a,l){var c=G.T;G.T=null;var f=W.p;try{W.p=8,If(t,n,a,l)}finally{W.p=f,G.T=c}}function If(t,n,a,l){if(ku){var c=Mf(l);if(c===null)_f(t,n,l,qu,a),Cy(t,l);else if(CE(c,t,n,a,l))l.stopPropagation();else if(Cy(t,l),n&4&&-1<xE.indexOf(t)){for(;c!==null;){var f=Sn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Wn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var D=1<<31-he(g);E.entanglements[1]|=D,g&=~D}_i(f),(Qt&6)===0&&(Su=Je()+500,Vl(0))}}break;case 31:case 13:E=os(f,2),E!==null&&un(E,f,2),Ru(),Vf(f,2)}if(f=Mf(l),f===null&&_f(t,n,l,qu,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else _f(t,n,l,null,a)}}function Mf(t){return t=wn(t),Of(t)}var qu=null;function Of(t){if(qu=null,t=ai(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return qu=t,null}function xy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fa()){case Pr:return 2;case kr:return 8;case $i:case Bc:return 32;case Eo:return 268435456;default:return 32}default:return 32}}var zf=!1,Sa=null,wa=null,Ra=null,Ll=new Map,Bl=new Map,xa=[],xE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cy(t,n){switch(t){case"focusin":case"focusout":Sa=null;break;case"dragenter":case"dragleave":wa=null;break;case"mouseover":case"mouseout":Ra=null;break;case"pointerover":case"pointerout":Ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(n.pointerId)}}function Pl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Sn(n),n!==null&&wy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function CE(t,n,a,l,c){switch(n){case"focusin":return Sa=Pl(Sa,t,n,a,l,c),!0;case"dragenter":return wa=Pl(wa,t,n,a,l,c),!0;case"mouseover":return Ra=Pl(Ra,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Ll.set(f,Pl(Ll.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Bl.set(f,Pl(Bl.get(f)||null,t,n,a,l,c)),!0}return!1}function Ny(t){var n=ai(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Pn(t.priority,function(){Ry(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,Pn(t.priority,function(){Ry(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Mf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Wr=l,a.target.dispatchEvent(l),Wr=null}else return n=Sn(a),n!==null&&wy(n),t.blockedOn=a,!1;n.shift()}return!0}function Dy(t,n,a){Hu(t)&&a.delete(n)}function NE(){zf=!1,Sa!==null&&Hu(Sa)&&(Sa=null),wa!==null&&Hu(wa)&&(wa=null),Ra!==null&&Hu(Ra)&&(Ra=null),Ll.forEach(Dy),Bl.forEach(Dy)}function Gu(t,n){t.blockedOn===n&&(t.blockedOn=null,zf||(zf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,NE)))}var Qu=null;function Vy(t){Qu!==t&&(Qu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Qu===t&&(Qu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Of(l||a)===null)continue;break}var f=Sn(a);f!==null&&(t.splice(n,3),n-=3,Ih(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function _r(t){function n(D){return Gu(D,t)}Sa!==null&&Gu(Sa,t),wa!==null&&Gu(wa,t),Ra!==null&&Gu(Ra,t),Ll.forEach(n),Bl.forEach(n);for(var a=0;a<xa.length;a++){var l=xa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<xa.length&&(a=xa[0],a.blockedOn===null);)Ny(a),a.blockedOn===null&&xa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],g=c[ze]||null;if(typeof f=="function")g||Vy(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[ze]||null)E=g.formAction;else if(Of(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Vy(a)}}}function Iy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function jf(t){this._internalRoot=t}Fu.prototype.render=jf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=En();Ay(a,l,t,n,null,null)},Fu.prototype.unmount=jf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ay(t.current,2,null,t,null,null),Ru(),n[ni]=null}};function Fu(t){this._internalRoot=t}Fu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ro();t={blockedOn:null,target:t,priority:n};for(var a=0;a<xa.length&&n!==0&&n<xa[a].priority;a++);xa.splice(a,0,t),a===0&&Ny(t)}};var My=e.version;if(My!=="19.2.0")throw Error(s(527,My,"19.2.0"));W.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var DE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yu.isDisabled&&Yu.supportsFiber)try{Ln=Yu.inject(DE),Be=Yu}catch{}}return ql.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",c=Pg,f=kg,g=qg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Ty(t,1,!1,null,null,a,l,null,c,f,g,Iy),t[ni]=n.current,yf(t),new jf(n)},ql.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,c="",f=Pg,g=kg,E=qg,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),n=Ty(t,1,!0,n,a??null,l,c,D,f,g,E,Iy),n.context=by(null),a=n.current,l=En(),l=Za(l),c=fa(l),c.callback=null,da(a,c,l),a=l,n.current.lanes=a,Xa(n,a),_i(n),t[ni]=n.current,yf(t),new Fu(n)},ql.version="19.2.0",ql}var Hy;function kE(){if(Hy)return Bf.exports;Hy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Bf.exports=PE(),Bf.exports}var qE=kE();const HE=s0(qE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QE=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),Gy=r=>{const e=QE(r);return e.charAt(0).toUpperCase()+e.slice(1)},r0=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),FE=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=Et.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:h,iconNode:d,...p},v)=>Et.createElement("svg",{ref:v,...YE,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:r0("lucide",o),...!h&&!FE(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,b])=>Et.createElement(_,b)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(r,e)=>{const i=Et.forwardRef(({className:s,...o},h)=>Et.createElement(XE,{ref:h,iconNode:e,className:r0(`lucide-${GE(Gy(r))}`,`lucide-${r}`,s),...o}));return i.displayName=Gy(r),i};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],ZE=Oe("archive",KE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],l0=Oe("calculator",$E);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],o0=Oe("chevron-down",JE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],u0=Oe("chevron-up",WE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],c0=Oe("clipboard-list",tT);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],nT=Oe("layout-dashboard",eT);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],aT=Oe("loader-circle",iT);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yl=Oe("plus",sT);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],lT=Oe("printer",rT);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],uT=Oe("puzzle",oT);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],nd=Oe("save",cT);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fT=Oe("settings",hT);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],mT=Oe("sliders-horizontal",dT);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],pT=Oe("square-check-big",gT);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],_T=Oe("square",yT);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Wl=Oe("trash-2",vT);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],TT=Oe("triangle-alert",ET);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],AT=Oe("warehouse",bT);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wT=Oe("x",ST),RT=({plan:r,onClose:e,onSave:i})=>{const s=r.details.reduce((h,d)=>h+d.printers,0),o=h=>h===1?"":h>1&&h<5?"":"";return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 p-4",children:x.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[x.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700",children:[x.jsxs("h2",{className:"text-2xl font-bold text-white",children:[' : "',r.name,'"']}),x.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-white transition-colors",children:x.jsx(wT,{size:24})})]}),x.jsxs("div",{className:"p-6 overflow-y-auto",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[x.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-md",children:[x.jsxs("h3",{className:"font-semibold text-lg text-blue-400 mb-2",children:["   (",s," ",o(s),")"]}),x.jsx("ul",{className:"space-y-1",children:r.details.map(h=>x.jsxs("li",{className:"flex justify-between text-gray-300",children:[x.jsx("span",{children:h.name}),x.jsxs("span",{className:"font-medium text-gray-200",children:[h.printers," ",o(h.printers)]})]},h.id))})]}),x.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-md",children:[x.jsx("h3",{className:"font-semibold text-lg text-blue-400 mb-2",children:" "}),x.jsx("ul",{className:"space-y-1",children:r.rooms.map(h=>x.jsxs("li",{className:"flex justify-between text-gray-300",children:[x.jsx("span",{children:h.name}),x.jsxs("span",{className:"font-medium text-gray-200",children:[h.printers," "]})]},h.id))})]})]}),x.jsx("h3",{className:"font-semibold text-xl text-blue-400 mb-4",children:""}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.rooms.map(h=>{const d=r.distribution.filter(p=>p.roomId===h.id);return d.length===0?null:x.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[x.jsx("h4",{className:"font-bold text-lg text-white mb-2",children:h.name}),x.jsx("ul",{className:"space-y-1 text-sm",children:d.map((p,v)=>x.jsxs("li",{className:"flex justify-between text-gray-300 border-b border-gray-600 py-1 last:border-b-0",children:[x.jsx("span",{children:p.detailName}),x.jsxs("span",{className:"font-semibold text-gray-200",children:[p.printers," ",o(p.printers)]})]},v))})]},h.id)})})]}),x.jsxs("div",{className:"flex justify-end p-4 border-t border-gray-700 bg-gray-800/50",children:[x.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-300 hover:bg-gray-700 rounded-md mr-2 transition-colors",children:""}),x.jsxs("button",{onClick:()=>i(r),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-md flex items-center gap-2 transition-colors",children:[x.jsx(nd,{size:18}),"  "]})]})]})})},Qy=({rooms:r,detailSpecs:e,createPlan:i})=>{const[s,o]=Et.useState(new Set),[h,d]=Et.useState([{id:`detail-${Date.now()}`,name:"",printers:0}]),[p,v]=Et.useState(""),[_,b]=Et.useState(()=>{const S=new Date,I=S.getFullYear(),N=(S.getMonth()+1).toString().padStart(2,"0"),M=S.getDate().toString().padStart(2,"0");return`${I}-${N}-${M}`}),[A,V]=Et.useState(null),[P,J]=Et.useState(null);Et.useEffect(()=>{o(S=>{const I=new Set,N=new Set(r.map(M=>M.id));return S.forEach(M=>{N.has(M)&&I.add(M)}),S.size===0&&r.length>0?new Set(r.map(M=>M.id)):I})},[r]);const tt=(S,I,N)=>{const M=[...h];M[S][I]=N,d(M)},$=()=>{d([...h,{id:`detail-${Date.now()}`,name:"",printers:0}])},ut=S=>{d(h.filter((I,N)=>N!==S))},ft=S=>{const I=new Set(s);I.has(S)?I.delete(S):I.add(S),o(I)},ht=()=>{s.size===r.length?o(new Set):o(new Set(r.map(S=>S.id)))},{totalPrintersRequired:_t,availablePrinters:Ct}=Et.useMemo(()=>{const S=h.reduce((N,M)=>N+(Number(M.printers)||0),0),I=r.filter(N=>s.has(N.id)).reduce((N,M)=>N+M.printers,0);return{totalPrintersRequired:S,availablePrinters:I}},[h,r,s]),at=Et.useMemo(()=>{if(h.length===0)return!1;const S=h[h.length-1];return S.name.trim()===""||(S.printers||0)<=0},[h]),C=Et.useCallback(()=>{if(V(null),p.trim()===""){V(" ,   .");return}const S=h.filter(st=>st.name.trim()!==""&&st.printers>0);if(S.length===0){V("           > 0.");return}if(s.size===0){V("      .");return}if(_t>Ct){V(`    (${_t})     (${Ct}).`);return}let I=[...S].sort((st,Nt)=>Nt.printers-st.printers),N=r.filter(st=>s.has(st.id)).map(st=>({...st,available:st.printers})).sort((st,Nt)=>Nt.available-st.available);const M=[];for(const st of I){let Nt=st.printers;for(const G of N){if(Nt===0)break;if(G.available>0){const W=Math.min(Nt,G.available);M.push({detailId:st.id,detailName:st.name,roomId:G.id,roomName:G.name,printers:W}),Nt-=W,G.available-=W}}}const w={id:`plan-${Date.now()}`,name:p.trim(),details:S,rooms:r.filter(st=>s.has(st.id)),distribution:M,date:_};J(w)},[h,r,s,_,p,_t,Ct]),R=S=>{i(S),J(null),d([{id:`detail-${Date.now()}`,name:"",printers:0}]),v(""),V("    ."),setTimeout(()=>V(null),3e3)};return x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[P&&x.jsx(RT,{plan:P,onSave:R,onClose:()=>J(null)}),x.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[x.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg",children:[x.jsxs("div",{className:"flex justify-between items-baseline mb-4",children:[x.jsx("h2",{className:"text-2xl font-bold text-white",children:"  "}),x.jsxs("span",{className:`text-base font-medium ${Ct-_t>=0?"text-gray-400":"text-red-400"}`,children:["  : ",x.jsx("span",{className:"font-bold text-lg",children:Ct-_t})]})]}),h.map((S,I)=>x.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 mb-3",children:[x.jsxs("div",{className:"w-full sm:flex-grow",children:[x.jsx("input",{type:"text",list:"detail-names",value:S.name,onChange:N=>tt(I,"name",N.target.value),placeholder:" ",className:"w-full bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),x.jsx("datalist",{id:"detail-names",children:e.map(N=>x.jsx("option",{value:N.name},N.id))})]}),x.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[x.jsx("input",{type:"number",min:"0",value:S.printers||"",onChange:N=>tt(I,"printers",parseInt(N.target.value,10)||0),placeholder:"- ",className:"flex-grow sm:flex-grow-0 sm:w-32 bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),x.jsx("button",{onClick:()=>ut(I),className:"p-2 text-gray-400 hover:text-red-500 transition-colors shrink-0",children:x.jsx(Wl,{size:20})})]})]},S.id)),x.jsxs("button",{onClick:$,disabled:at,className:"mt-2 flex items-center gap-2 text-blue-500 hover:text-blue-400 font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:at?"        ":"  ",children:[x.jsx(Yl,{size:18}),"  "]})]}),x.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h2",{className:"text-2xl font-bold text-white",children:"  "}),x.jsxs("button",{onClick:ht,className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-700 hover:bg-gray-600 rounded-md transition-colors",children:[s.size===r.length&&r.length>0?x.jsx(pT,{size:16}):x.jsx(_T,{size:16}),x.jsx("span",{children:" "})]})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(S=>x.jsx("div",{className:`p-4 rounded-md border-2 transition-all ${s.has(S.id)?"border-blue-500 bg-blue-500/10":"border-gray-700 bg-gray-700/50"}`,children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("label",{htmlFor:`room-${S.id}`,className:"flex items-center gap-3 cursor-pointer",children:[x.jsx("input",{type:"checkbox",id:`room-${S.id}`,checked:s.has(S.id),onChange:()=>ft(S.id),className:"h-5 w-5 rounded bg-gray-600 border-gray-500 text-blue-600 focus:ring-blue-500"}),x.jsx("span",{className:"font-semibold text-lg",children:S.name})]}),x.jsxs("span",{className:"text-sm text-gray-400",children:[": ",S.printers]})]})},S.id))})]})]}),x.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg self-start sticky top-6",children:[x.jsx("h2",{className:"text-2xl font-bold mb-6 text-white border-b border-gray-700 pb-3",children:" "}),x.jsxs("div",{className:"space-y-4 mb-6",children:[x.jsxs("div",{className:"flex justify-between items-center text-lg",children:[x.jsx("span",{className:"text-gray-400",children:" :"}),x.jsx("span",{className:"font-bold text-white",children:_t})]}),x.jsxs("div",{className:"flex justify-between items-center text-lg",children:[x.jsx("span",{className:"text-gray-400",children:" :"}),x.jsx("span",{className:`font-bold ${Ct>=_t?"text-green-400":"text-red-400"}`,children:Ct})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsxs("label",{htmlFor:"plan-name",className:"block text-sm font-medium text-gray-400 mb-1",children:["  ",x.jsx("span",{className:"text-red-400",children:"*"})]}),x.jsx("input",{type:"text",id:"plan-name",value:p,onChange:S=>v(S.target.value),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"plan-date",className:"block text-sm font-medium text-gray-400 mb-1",children:" "}),x.jsx("input",{type:"date",id:"plan-date",value:_,onChange:S=>b(S.target.value),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),x.jsxs("button",{onClick:C,className:"w-full flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-md transition-colors text-lg",children:[x.jsx(mT,{size:20})," "]})]}),A&&x.jsx("div",{className:`mt-4 p-3 rounded-md text-sm ${A.includes("")?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:A})]})]})},xT=({rooms:r,updateRoom:e,addRoom:i,deleteRoom:s,detailSpecs:o,addDetailSpec:h,updateDetailSpec:d,deleteDetailSpec:p,addMultipleDetailSpecs:v})=>{const[_,b]=Et.useState("rooms"),[A,V]=Et.useState(r),[P,J]=Et.useState({name:"",printers:0}),[tt,$]=Et.useState(o),[ut,ft]=Et.useState({name:"",partsPerPlate:0}),[ht,_t]=Et.useState("");Et.useEffect(()=>{V(r)},[r]),Et.useEffect(()=>{$(o)},[o]);const Ct=(w,st,Nt)=>{V(G=>G.map(W=>W.id===w?{...W,[st]:Nt}:W))},at=w=>e(w),C=()=>{P.name.trim()&&P.printers>0&&(i(P),J({name:"",printers:0}))},R=(w,st,Nt)=>{$(G=>G.map(W=>W.id===w?{...W,[st]:Nt}:W))},S=w=>d(w),I=()=>{ut.name.trim()&&ut.partsPerPlate>0&&(h(ut),ft({name:"",partsPerPlate:0}))},N=()=>{const w=ht.split(`
`).filter(Nt=>Nt.trim()!==""),st=[];w.forEach(Nt=>{const G=Nt.trim(),W=G.lastIndexOf(" ");if(W>0){const dt=G.substring(0,W).trim(),jt=G.substring(W+1).trim(),kt=parseInt(jt,10);dt&&!isNaN(kt)&&kt>0&&st.push({name:dt,partsPerPlate:kt})}}),st.length>0&&(v(st),_t(""))},M=({tab:w,label:st,icon:Nt})=>x.jsxs("button",{onClick:()=>b(w),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-t-lg transition-colors border-b-2 ${_===w?"text-blue-400 border-blue-400":"text-gray-400 border-transparent hover:text-white"}`,children:[x.jsx(Nt,{size:18}),st]});return x.jsxs("div",{className:"max-w-4xl mx-auto",children:[x.jsx("h2",{className:"text-3xl font-bold mb-6 text-white",children:" "}),x.jsxs("div",{className:"flex border-b border-gray-700 mb-6",children:[x.jsx(M,{tab:"rooms",label:"",icon:AT}),x.jsx(M,{tab:"details",label:"",icon:uT})]}),x.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg space-y-4",children:[_==="rooms"&&x.jsxs(x.Fragment,{children:[A.map(w=>x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-12 items-center gap-3 p-3 bg-gray-700/50 rounded-md",children:[x.jsx("input",{type:"text",value:w.name,onChange:st=>Ct(w.id,"name",st.target.value),placeholder:" ",className:"col-span-12 sm:col-span-7 bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500"}),x.jsx("input",{type:"number",min:"0",value:w.printers,onChange:st=>Ct(w.id,"printers",parseInt(st.target.value)||0),className:"col-span-6 sm:col-span-2 bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500"}),x.jsxs("div",{className:"col-span-6 sm:col-span-3 flex items-center justify-end gap-2",children:[x.jsx("button",{onClick:()=>at(w),title:"",className:"p-2 text-gray-300 hover:text-green-400 transition-colors",children:x.jsx(nd,{size:20})}),x.jsx("button",{onClick:()=>s(w.id),title:"",className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:x.jsx(Wl,{size:20})})]})]},w.id)),x.jsxs("div",{className:"pt-4 border-t border-gray-700 grid grid-cols-1 sm:grid-cols-12 items-center gap-3",children:[x.jsx("input",{type:"text",value:P.name,onChange:w=>J({...P,name:w.target.value}),placeholder:"  ",className:"col-span-12 sm:col-span-7 bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500"}),x.jsx("input",{type:"number",min:"0",value:P.printers||"",onChange:w=>J({...P,printers:parseInt(w.target.value)||0}),placeholder:"-",className:"col-span-9 sm:col-span-3 bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500"}),x.jsx("button",{onClick:C,title:" ",className:"col-span-3 sm:col-span-2 p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors flex justify-center",children:x.jsx(Yl,{size:20})})]})]}),_==="details"&&x.jsxs(x.Fragment,{children:[tt.map(w=>x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-12 items-center gap-3 p-3 bg-gray-700/50 rounded-md",children:[x.jsx("input",{type:"text",value:w.name,onChange:st=>R(w.id,"name",st.target.value),placeholder:" ",className:"col-span-12 sm:col-span-7 bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500"}),x.jsx("input",{type:"number",min:"0",value:w.partsPerPlate,onChange:st=>R(w.id,"partsPerPlate",parseInt(st.target.value)||0),className:"col-span-6 sm:col-span-2 bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500"}),x.jsxs("div",{className:"col-span-6 sm:col-span-3 flex items-center justify-end gap-2",children:[x.jsx("button",{onClick:()=>S(w),title:"",className:"p-2 text-gray-300 hover:text-green-400 transition-colors",children:x.jsx(nd,{size:20})}),x.jsx("button",{onClick:()=>p(w.id),title:"",className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:x.jsx(Wl,{size:20})})]})]},w.id)),x.jsxs("div",{className:"pt-4 border-t border-gray-700 grid grid-cols-1 sm:grid-cols-12 items-center gap-3",children:[x.jsx("input",{type:"text",value:ut.name,onChange:w=>ft({...ut,name:w.target.value}),placeholder:"  ",className:"col-span-12 sm:col-span-7 bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500"}),x.jsx("input",{type:"number",min:"0",value:ut.partsPerPlate||"",onChange:w=>ft({...ut,partsPerPlate:parseInt(w.target.value)||0}),placeholder:"-/",className:"col-span-9 sm:col-span-3 bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500"}),x.jsx("button",{onClick:I,title:" ",className:"col-span-3 sm:col-span-2 p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors flex justify-center",children:x.jsx(Yl,{size:20})})]}),x.jsxs("div",{className:"pt-6 mt-6 border-t border-gray-700",children:[x.jsx("h3",{className:"text-lg font-semibold mb-3 text-white",children:" "}),x.jsxs("p",{className:"text-sm text-gray-400 mb-3",children:["    : ",x.jsx("code",{children:"  [] __"}),".     ."]}),x.jsx("textarea",{value:ht,onChange:w=>_t(w.target.value),placeholder:`  10
  5`,className:"w-full bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 h-32 focus:ring-2 focus:ring-blue-500"}),x.jsxs("button",{onClick:N,className:"mt-3 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!ht.trim(),children:[x.jsx(Yl,{size:18})," "]})]})]})]})]})},CT=({archivedPlans:r})=>{const[e,i]=Et.useState(null),s=h=>{i(e===h?null:h)},o=h=>h===1?"":"";return r.length===0?x.jsxs("div",{className:"text-center py-10",children:[x.jsx("h2",{className:"text-3xl font-bold mb-2 text-white",children:" "}),x.jsx("p",{className:"text-gray-400",children:" .     ."})]}):x.jsxs("div",{className:"max-w-6xl mx-auto",children:[x.jsx("h2",{className:"text-3xl font-bold mb-6 text-white",children:" "}),x.jsx("div",{className:"space-y-4",children:r.map(({id:h,plan:d,archivedAt:p})=>x.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg overflow-hidden",children:[x.jsxs("button",{onClick:()=>s(h),className:"w-full flex justify-between items-center p-4 text-left",children:[x.jsxs("div",{children:[x.jsx("span",{className:"font-bold text-xl text-white",children:d.name}),x.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["  ",d.date,x.jsx("span",{className:"mx-2",children:""}),": ",new Date(p).toLocaleString("uk-UA")]})]}),e===h?x.jsx(u0,{className:"text-gray-400"}):x.jsx(o0,{className:"text-gray-400"})]}),e===h&&x.jsxs("div",{className:"p-6 bg-gray-800/50 border-t border-gray-700",children:[x.jsx("h3",{className:"text-xl font-semibold mb-4 text-blue-400",children:"  "}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.rooms.map(v=>{const _=d.distribution.filter(A=>A.roomId===v.id),b=_.reduce((A,V)=>A+V.printers,0);return b===0?null:x.jsxs("div",{className:"bg-gray-700 p-4 rounded-md",children:[x.jsx("h4",{className:"font-bold text-lg text-white mb-2",children:v.name}),x.jsxs("p",{className:"text-sm text-gray-400 mb-2",children:[" : ",b]}),x.jsx("ul",{className:"space-y-1 text-sm",children:_.map((A,V)=>x.jsxs("li",{className:"flex justify-between text-gray-300",children:[x.jsx("span",{children:A.detailName}),x.jsxs("span",{className:"font-medium text-gray-200",children:[A.printers," ",o(A.printers)]})]},V))})]},v.id)})})]})]},h))})]})},NT=({todayPlans:r,updateActualPrinters:e})=>{const[i,s]=Et.useState(null),o=p=>{s(i===p?null:p)};if(!r||r.length===0)return x.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-400",children:[x.jsx(c0,{className:"w-24 h-24 mb-4 text-gray-600"}),x.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"   "}),x.jsx("p",{children:"    ,   ' ."})]});const h=p=>p===1?"":p>1&&p<5?"":"",d=(p,v,_,b)=>{const A=parseInt(b,10);e(p,v,_,isNaN(A)?0:A)};return x.jsxs("div",{className:"max-w-7xl mx-auto",children:[x.jsx("div",{className:"mb-6",children:x.jsx("h2",{className:"text-3xl font-bold text-white",children:"  "})}),x.jsx("div",{className:"space-y-4",children:r.map(p=>{const{id:v,plan:_,actuals:b}=p,A=i===v;return x.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg overflow-hidden",children:[x.jsxs("button",{onClick:()=>o(v),className:"w-full flex justify-between items-center p-4 text-left",children:[x.jsxs("div",{children:[x.jsx("span",{className:"font-bold text-xl text-white",children:_.name}),x.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:[": ",new Date(p.archivedAt).toLocaleTimeString("uk-UA",{hour:"2-digit",minute:"2-digit"})]})]}),A?x.jsx(u0,{className:"text-gray-400"}):x.jsx(o0,{className:"text-gray-400"})]}),A&&x.jsx("div",{className:"p-6 bg-gray-800/50 border-t border-gray-700 space-y-6",children:_.rooms.map(V=>{const P=_.distribution.filter($=>$.roomId===V.id);if(P.length===0)return null;const J=P.reduce(($,ut)=>$+ut.printers,0),tt=P.reduce(($,ut)=>{var ft;return $+(((ft=b==null?void 0:b[V.id])==null?void 0:ft[ut.detailId])||0)},0);return x.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-lg",children:[x.jsxs("div",{className:"flex justify-between items-baseline mb-4 border-b border-gray-600 pb-3",children:[x.jsx("h3",{className:"font-bold text-xl text-blue-400",children:V.name}),x.jsxs("div",{className:"text-right",children:[x.jsxs("p",{className:"text-sm text-gray-400",children:[": ",x.jsx("span",{className:"font-semibold text-gray-200",children:J})]}),x.jsxs("p",{className:"text-sm text-gray-400",children:[": ",x.jsx("span",{className:`font-semibold ${tt>J?"text-red-400":"text-green-400"}`,children:tt})]})]})]}),x.jsx("div",{className:"space-y-3",children:P.map(($,ut)=>{var Ct;const ft=$.printers,ht=(Ct=b==null?void 0:b[V.id])==null?void 0:Ct[$.detailId],_t=typeof ht<"u"&&ht!==ft;return x.jsxs("div",{className:`grid grid-cols-2 md:grid-cols-12 items-center gap-x-4 gap-y-2 p-3 rounded-md ${_t?"bg-yellow-500/10":"bg-gray-900/20"}`,children:[x.jsx("div",{className:"col-span-2 md:col-span-5",children:x.jsx("span",{className:"font-medium text-white",children:$.detailName})}),x.jsx("div",{className:"col-span-1 md:col-span-3 text-gray-300 text-sm md:text-base",children:x.jsxs("span",{children:[": ",ft," ",h(ft)]})}),x.jsxs("div",{className:"col-span-1 md:col-span-4 flex items-center gap-2 justify-end md:justify-start",children:[x.jsx("label",{htmlFor:`actual-${v}-${$.roomId}-${$.detailId}`,className:"text-gray-400 text-sm",children:":"}),x.jsx("input",{type:"number",id:`actual-${v}-${$.roomId}-${$.detailId}`,min:"0",value:ht||"",onChange:at=>d(v,$.roomId,$.detailId,at.target.value),placeholder:"",className:"w-20 bg-gray-700 border border-gray-600 text-white rounded-md px-2 py-1.5 text-center focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),_t&&x.jsx(TT,{className:"w-5 h-5 text-yellow-400 shrink-0",title:"     "})]})]},`${$.detailId}-${ut}`)})})]},V.id)})})]},v)})})]})},DT=({detailSpecs:r,calculatorState:e,updateCalculatorState:i})=>{const s=(e==null?void 0:e.rows)||[],o=()=>{const _=[...s,{id:`calc-${Date.now()}`,detailSpecId:null,orderQuantity:0}];i({rows:_})},h=_=>{const b=s.filter(A=>A.id!==_);i({rows:b})},d=(_,b,A)=>{const V=s.map(P=>P.id===_?{...P,[b]:A}:P);i({rows:V})},p=()=>{window.confirm(" ,     ?     .")&&i({rows:[]})},v=Et.useMemo(()=>s.reduce((_,b)=>{if(!b.detailSpecId||!b.orderQuantity)return _;const A=r.find(P=>P.id===b.detailSpecId);if(!A||A.partsPerPlate<=0)return _;const V=Math.ceil(b.orderQuantity/A.partsPerPlate);return _+V},0),[s,r]);return r.length===0?x.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-400",children:[x.jsx(l0,{className:"w-24 h-24 mb-4 text-gray-600"}),x.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"   "}),x.jsx("p",{children:'      "".'})]}):x.jsxs("div",{className:"max-w-5xl mx-auto",children:[x.jsx("h2",{className:"text-3xl font-bold mb-6 text-white",children:" "}),x.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg",children:[x.jsxs("div",{className:"hidden md:grid grid-cols-12 gap-4 mb-2 px-3 text-sm font-semibold text-gray-400",children:[x.jsx("div",{className:"col-span-5",children:" "}),x.jsx("div",{className:"col-span-2",children:"-  "}),x.jsx("div",{className:"col-span-2",children:"-  "}),x.jsx("div",{className:"col-span-2",children:" "}),x.jsx("div",{className:"col-span-1"})]}),x.jsx("div",{className:"space-y-3",children:s.map(_=>{const b=r.find(P=>P.id===_.detailSpecId),A=(b==null?void 0:b.partsPerPlate)||0,V=A>0&&_.orderQuantity>0?Math.ceil(_.orderQuantity/A):0;return x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-x-4 gap-y-2 items-center p-3 bg-gray-700/50 rounded-md",children:[x.jsxs("div",{className:"col-span-12 md:col-span-5",children:[x.jsx("label",{className:"text-sm text-gray-400 md:hidden mb-1 block",children:" "}),x.jsxs("select",{value:_.detailSpecId||"",onChange:P=>d(_.id,"detailSpecId",P.target.value),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500",children:[x.jsx("option",{value:"",disabled:!0,children:" ..."}),r.map(P=>x.jsx("option",{value:P.id,children:P.name},P.id))]})]}),x.jsxs("div",{className:"col-span-6 md:col-span-2",children:[x.jsx("label",{className:"text-sm text-gray-400 md:hidden mb-1 block",children:"-  "}),x.jsx("div",{className:"w-full bg-gray-800 text-gray-300 rounded-md px-3 py-2 text-center h-10 flex items-center justify-center",children:A||"-"})]}),x.jsxs("div",{className:"col-span-6 md:col-span-2",children:[x.jsx("label",{className:"text-sm text-gray-400 md:hidden mb-1 block",children:"-  "}),x.jsx("input",{type:"number",min:"0",value:_.orderQuantity||"",onChange:P=>d(_.id,"orderQuantity",parseInt(P.target.value)||0),placeholder:"0",className:"w-full bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 text-center focus:ring-2 focus:ring-blue-500"})]}),x.jsxs("div",{className:"col-span-6 md:col-span-2",children:[x.jsx("label",{className:"text-sm text-gray-400 md:hidden mb-1 block",children:" "}),x.jsx("div",{className:"w-full bg-gray-800 text-green-400 font-bold rounded-md px-3 py-2 text-center h-10 flex items-center justify-center",children:V})]}),x.jsx("div",{className:"col-span-6 md:col-span-1 flex justify-end",children:x.jsx("button",{onClick:()=>h(_.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:x.jsx(Wl,{size:20})})})]},_.id)})}),x.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[x.jsxs("button",{onClick:o,className:"flex items-center gap-2 text-blue-500 hover:text-blue-400 font-semibold transition-colors",children:[x.jsx(Yl,{size:18}),"    "]}),s.length>0&&x.jsxs("button",{onClick:p,className:"flex items-center gap-2 text-sm text-red-500 hover:text-red-400 font-semibold transition-colors",children:[x.jsx(Wl,{size:16}),"  "]})]}),x.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-700 flex justify-end items-center",children:[x.jsx("span",{className:"text-lg font-medium text-gray-300",children:"  :"}),x.jsx("span",{className:"ml-4 text-2xl font-bold text-green-400 bg-gray-700 px-4 py-2 rounded-md",children:v})]})]})]})},VT=()=>{};var Fy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},IT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],p=r[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},f0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,p=d?r[o+1]:0,v=o+2<r.length,_=v?r[o+2]:0,b=h>>2,A=(h&3)<<4|p>>4;let V=(p&15)<<2|_>>6,P=_&63;v||(P=64,d||(V=64)),s.push(i[b],i[A],i[V],i[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(h0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):IT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const A=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||p==null||_==null||A==null)throw new MT;const V=h<<2|p>>4;if(s.push(V),_!==64){const P=p<<4&240|_>>2;if(s.push(P),A!==64){const J=_<<6&192|A;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class MT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OT=function(r){const e=h0(r);return f0.encodeByteArray(e,!0)},lc=function(r){return OT(r).replace(/\./g,"")},zT=function(r){try{return f0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=()=>jT().__FIREBASE_DEFAULTS__,LT=()=>{if(typeof process>"u"||typeof Fy>"u")return;const r=Fy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},BT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&zT(r[1]);return e&&JSON.parse(e)},Cd=()=>{try{return VT()||UT()||LT()||BT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},PT=r=>{var e,i;return(i=(e=Cd())==null?void 0:e.emulatorHosts)==null?void 0:i[r]},kT=r=>{const e=PT(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},d0=()=>{var r;return(r=Cd())==null?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function HT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[lc(JSON.stringify(i)),lc(JSON.stringify(d)),""].join(".")}const Xl={};function QT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Xl))Xl[e]?r.emulator.push(e):r.prod.push(e);return r}function FT(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Yy=!1;function YT(r,e){if(typeof window>"u"||typeof document>"u"||!Nd(window.location.host)||Xl[r]===e||Xl[r]||Yy)return;Xl[r]=e;function i(V){return`__firebase__banner__${V}`}const s="__firebase__banner",h=QT().prod.length>0;function d(){const V=document.getElementById(s);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function v(V,P){V.setAttribute("width","24"),V.setAttribute("id",P),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{Yy=!0,d()},V}function b(V,P){V.setAttribute("id",P),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function A(){const V=FT(s),P=i("text"),J=document.getElementById(P)||document.createElement("span"),tt=i("learnmore"),$=document.getElementById(tt)||document.createElement("a"),ut=i("preprendIcon"),ft=document.getElementById(ut)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const ht=V.element;p(ht),b($,tt);const _t=_();v(ft,ut),ht.append(ft,J,$,_t),document.body.appendChild(ht)}h?(J.innerText="Preview backend disconnected.",ft.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ft.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KT(){var e;const r=(e=Cd())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZT(){return!KT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $T(){try{return typeof indexedDB=="object"}catch{return!1}}function JT(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)==null?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="FirebaseError";class Vr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=WT,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,m0.prototype.create)}}class m0{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?t2(h,s):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Vr(o,p,s)}}function t2(r,e){return r.replace(e2,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const e2=/\{\$([^}]+)}/g;function oc(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=r[o],d=e[o];if(Xy(h)&&Xy(d)){if(!oc(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Xy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(r){return r&&r._delegate?r._delegate:r}class to{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new qT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(a2(e))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=Ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ts){return this.instances.has(e)}getOptions(e=Ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);s===p&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const h=this.instances.get(s);return h&&e(h,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:i2(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ts){return this.component?this.component.multipleInstances?e:Ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function i2(r){return r===Ts?void 0:r}function a2(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new n2(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const r2={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},l2=Pt.INFO,o2={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},u2=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=o2[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class g0{constructor(e){this.name=e,this._logLevel=l2,this._logHandler=u2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?r2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const c2=(r,e)=>e.some(i=>r instanceof i);let Ky,Zy;function h2(){return Ky||(Ky=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f2(){return Zy||(Zy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p0=new WeakMap,id=new WeakMap,y0=new WeakMap,Hf=new WeakMap,Dd=new WeakMap;function d2(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Da(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&p0.set(i,r)}).catch(()=>{}),Dd.set(e,r),e}function m2(r){if(id.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});id.set(r,e)}let ad={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return id.get(r);if(e==="objectStoreNames")return r.objectStoreNames||y0.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Da(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function g2(r){ad=r(ad)}function p2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Gf(this),e,...i);return y0.set(s,e.sort?e.sort():[e]),Da(s)}:f2().includes(r)?function(...e){return r.apply(Gf(this),e),Da(p0.get(this))}:function(...e){return Da(r.apply(Gf(this),e))}}function y2(r){return typeof r=="function"?p2(r):(r instanceof IDBTransaction&&m2(r),c2(r,h2())?new Proxy(r,ad):r)}function Da(r){if(r instanceof IDBRequest)return d2(r);if(Hf.has(r))return Hf.get(r);const e=y2(r);return e!==r&&(Hf.set(r,e),Dd.set(e,r)),e}const Gf=r=>Dd.get(r);function _2(r,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),p=Da(d);return s&&d.addEventListener("upgradeneeded",v=>{s(Da(d.result),v.oldVersion,v.newVersion,Da(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const v2=["get","getKey","getAll","getAllKeys","count"],E2=["put","add","delete","clear"],Qf=new Map;function $y(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Qf.get(e))return Qf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=E2.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||v2.includes(i)))return;const h=async function(d,...p){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&v.done]))[0]};return Qf.set(e,h),h}g2(r=>({...r,get:(e,i,s)=>$y(e,i)||r.get(e,i,s),has:(e,i)=>!!$y(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(b2(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function b2(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sd="@firebase/app",Jy="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new g0("@firebase/app"),A2="@firebase/app-compat",S2="@firebase/analytics-compat",w2="@firebase/analytics",R2="@firebase/app-check-compat",x2="@firebase/app-check",C2="@firebase/auth",N2="@firebase/auth-compat",D2="@firebase/database",V2="@firebase/data-connect",I2="@firebase/database-compat",M2="@firebase/functions",O2="@firebase/functions-compat",z2="@firebase/installations",j2="@firebase/installations-compat",U2="@firebase/messaging",L2="@firebase/messaging-compat",B2="@firebase/performance",P2="@firebase/performance-compat",k2="@firebase/remote-config",q2="@firebase/remote-config-compat",H2="@firebase/storage",G2="@firebase/storage-compat",Q2="@firebase/firestore",F2="@firebase/ai",Y2="@firebase/firestore-compat",X2="firebase",K2="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd="[DEFAULT]",Z2={[sd]:"fire-core",[A2]:"fire-core-compat",[w2]:"fire-analytics",[S2]:"fire-analytics-compat",[x2]:"fire-app-check",[R2]:"fire-app-check-compat",[C2]:"fire-auth",[N2]:"fire-auth-compat",[D2]:"fire-rtdb",[V2]:"fire-data-connect",[I2]:"fire-rtdb-compat",[M2]:"fire-fn",[O2]:"fire-fn-compat",[z2]:"fire-iid",[j2]:"fire-iid-compat",[U2]:"fire-fcm",[L2]:"fire-fcm-compat",[B2]:"fire-perf",[P2]:"fire-perf-compat",[k2]:"fire-rc",[q2]:"fire-rc-compat",[H2]:"fire-gcs",[G2]:"fire-gcs-compat",[Q2]:"fire-fst",[Y2]:"fire-fst-compat",[F2]:"fire-vertex","fire-js":"fire-js",[X2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=new Map,$2=new Map,ld=new Map;function Wy(r,e){try{r.container.addComponent(e)}catch(i){Fi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function cc(r){const e=r.name;if(ld.has(e))return Fi.debug(`There were multiple attempts to register component ${e}.`),!1;ld.set(e,r);for(const i of uc.values())Wy(i,r);for(const i of $2.values())Wy(i,r);return!0}function J2(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function W2(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Va=new m0("app","Firebase",tb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new to("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Va.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=K2;function _0(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:rd,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Va.create("bad-app-name",{appName:String(o)});if(i||(i=d0()),!i)throw Va.create("no-options");const h=uc.get(o);if(h){if(oc(i,h.options)&&oc(s,h.config))return h;throw Va.create("duplicate-app",{appName:o})}const d=new s2(o);for(const v of ld.values())d.addComponent(v);const p=new eb(i,s,d);return uc.set(o,p),p}function ib(r=rd){const e=uc.get(r);if(!e&&r===rd&&d0())return _0();if(!e)throw Va.create("no-app",{appName:r});return e}function Ar(r,e,i){let s=Z2[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fi.warn(d.join(" "));return}cc(new to(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="firebase-heartbeat-database",sb=1,eo="firebase-heartbeat-store";let Ff=null;function v0(){return Ff||(Ff=_2(ab,sb,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(eo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Va.create("idb-open",{originalErrorMessage:r.message})})),Ff}async function rb(r){try{const i=(await v0()).transaction(eo),s=await i.objectStore(eo).get(E0(r));return await i.done,s}catch(e){if(e instanceof Vr)Fi.warn(e.message);else{const i=Va.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fi.warn(i.message)}}}async function t_(r,e){try{const s=(await v0()).transaction(eo,"readwrite");await s.objectStore(eo).put(e,E0(r)),await s.done}catch(i){if(i instanceof Vr)Fi.warn(i.message);else{const s=Va.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Fi.warn(s.message)}}}function E0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=1024,ob=30;class ub{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new hb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=e_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>ob){const d=fb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Fi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=e_(),{heartbeatsToSend:s,unsentEntries:o}=cb(this._heartbeatsCache.heartbeats),h=lc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Fi.warn(i),""}}}function e_(){return new Date().toISOString().substring(0,10)}function cb(r,e=lb){const i=[];let s=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),n_(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),n_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class hb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $T()?JT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await rb(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return t_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return t_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function n_(r){return lc(JSON.stringify({version:2,heartbeats:r})).length}function fb(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(r){cc(new to("platform-logger",e=>new T2(e),"PRIVATE")),cc(new to("heartbeat",e=>new ub(e),"PRIVATE")),Ar(sd,Jy,r),Ar(sd,Jy,"esm2020"),Ar("fire-js","")}db("");var mb="firebase",gb="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar(mb,gb,"app");var i_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ia,T0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,R){function S(){}S.prototype=R.prototype,C.F=R.prototype,C.prototype=new S,C.prototype.constructor=C,C.D=function(I,N,M){for(var w=Array(arguments.length-2),st=2;st<arguments.length;st++)w[st-2]=arguments[st];return R.prototype[N].apply(I,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,R,S){S||(S=0);const I=Array(16);if(typeof R=="string")for(var N=0;N<16;++N)I[N]=R.charCodeAt(S++)|R.charCodeAt(S++)<<8|R.charCodeAt(S++)<<16|R.charCodeAt(S++)<<24;else for(N=0;N<16;++N)I[N]=R[S++]|R[S++]<<8|R[S++]<<16|R[S++]<<24;R=C.g[0],S=C.g[1],N=C.g[2];let M=C.g[3],w;w=R+(M^S&(N^M))+I[0]+3614090360&4294967295,R=S+(w<<7&4294967295|w>>>25),w=M+(N^R&(S^N))+I[1]+3905402710&4294967295,M=R+(w<<12&4294967295|w>>>20),w=N+(S^M&(R^S))+I[2]+606105819&4294967295,N=M+(w<<17&4294967295|w>>>15),w=S+(R^N&(M^R))+I[3]+3250441966&4294967295,S=N+(w<<22&4294967295|w>>>10),w=R+(M^S&(N^M))+I[4]+4118548399&4294967295,R=S+(w<<7&4294967295|w>>>25),w=M+(N^R&(S^N))+I[5]+1200080426&4294967295,M=R+(w<<12&4294967295|w>>>20),w=N+(S^M&(R^S))+I[6]+2821735955&4294967295,N=M+(w<<17&4294967295|w>>>15),w=S+(R^N&(M^R))+I[7]+4249261313&4294967295,S=N+(w<<22&4294967295|w>>>10),w=R+(M^S&(N^M))+I[8]+1770035416&4294967295,R=S+(w<<7&4294967295|w>>>25),w=M+(N^R&(S^N))+I[9]+2336552879&4294967295,M=R+(w<<12&4294967295|w>>>20),w=N+(S^M&(R^S))+I[10]+4294925233&4294967295,N=M+(w<<17&4294967295|w>>>15),w=S+(R^N&(M^R))+I[11]+2304563134&4294967295,S=N+(w<<22&4294967295|w>>>10),w=R+(M^S&(N^M))+I[12]+1804603682&4294967295,R=S+(w<<7&4294967295|w>>>25),w=M+(N^R&(S^N))+I[13]+4254626195&4294967295,M=R+(w<<12&4294967295|w>>>20),w=N+(S^M&(R^S))+I[14]+2792965006&4294967295,N=M+(w<<17&4294967295|w>>>15),w=S+(R^N&(M^R))+I[15]+1236535329&4294967295,S=N+(w<<22&4294967295|w>>>10),w=R+(N^M&(S^N))+I[1]+4129170786&4294967295,R=S+(w<<5&4294967295|w>>>27),w=M+(S^N&(R^S))+I[6]+3225465664&4294967295,M=R+(w<<9&4294967295|w>>>23),w=N+(R^S&(M^R))+I[11]+643717713&4294967295,N=M+(w<<14&4294967295|w>>>18),w=S+(M^R&(N^M))+I[0]+3921069994&4294967295,S=N+(w<<20&4294967295|w>>>12),w=R+(N^M&(S^N))+I[5]+3593408605&4294967295,R=S+(w<<5&4294967295|w>>>27),w=M+(S^N&(R^S))+I[10]+38016083&4294967295,M=R+(w<<9&4294967295|w>>>23),w=N+(R^S&(M^R))+I[15]+3634488961&4294967295,N=M+(w<<14&4294967295|w>>>18),w=S+(M^R&(N^M))+I[4]+3889429448&4294967295,S=N+(w<<20&4294967295|w>>>12),w=R+(N^M&(S^N))+I[9]+568446438&4294967295,R=S+(w<<5&4294967295|w>>>27),w=M+(S^N&(R^S))+I[14]+3275163606&4294967295,M=R+(w<<9&4294967295|w>>>23),w=N+(R^S&(M^R))+I[3]+4107603335&4294967295,N=M+(w<<14&4294967295|w>>>18),w=S+(M^R&(N^M))+I[8]+1163531501&4294967295,S=N+(w<<20&4294967295|w>>>12),w=R+(N^M&(S^N))+I[13]+2850285829&4294967295,R=S+(w<<5&4294967295|w>>>27),w=M+(S^N&(R^S))+I[2]+4243563512&4294967295,M=R+(w<<9&4294967295|w>>>23),w=N+(R^S&(M^R))+I[7]+1735328473&4294967295,N=M+(w<<14&4294967295|w>>>18),w=S+(M^R&(N^M))+I[12]+2368359562&4294967295,S=N+(w<<20&4294967295|w>>>12),w=R+(S^N^M)+I[5]+4294588738&4294967295,R=S+(w<<4&4294967295|w>>>28),w=M+(R^S^N)+I[8]+2272392833&4294967295,M=R+(w<<11&4294967295|w>>>21),w=N+(M^R^S)+I[11]+1839030562&4294967295,N=M+(w<<16&4294967295|w>>>16),w=S+(N^M^R)+I[14]+4259657740&4294967295,S=N+(w<<23&4294967295|w>>>9),w=R+(S^N^M)+I[1]+2763975236&4294967295,R=S+(w<<4&4294967295|w>>>28),w=M+(R^S^N)+I[4]+1272893353&4294967295,M=R+(w<<11&4294967295|w>>>21),w=N+(M^R^S)+I[7]+4139469664&4294967295,N=M+(w<<16&4294967295|w>>>16),w=S+(N^M^R)+I[10]+3200236656&4294967295,S=N+(w<<23&4294967295|w>>>9),w=R+(S^N^M)+I[13]+681279174&4294967295,R=S+(w<<4&4294967295|w>>>28),w=M+(R^S^N)+I[0]+3936430074&4294967295,M=R+(w<<11&4294967295|w>>>21),w=N+(M^R^S)+I[3]+3572445317&4294967295,N=M+(w<<16&4294967295|w>>>16),w=S+(N^M^R)+I[6]+76029189&4294967295,S=N+(w<<23&4294967295|w>>>9),w=R+(S^N^M)+I[9]+3654602809&4294967295,R=S+(w<<4&4294967295|w>>>28),w=M+(R^S^N)+I[12]+3873151461&4294967295,M=R+(w<<11&4294967295|w>>>21),w=N+(M^R^S)+I[15]+530742520&4294967295,N=M+(w<<16&4294967295|w>>>16),w=S+(N^M^R)+I[2]+3299628645&4294967295,S=N+(w<<23&4294967295|w>>>9),w=R+(N^(S|~M))+I[0]+4096336452&4294967295,R=S+(w<<6&4294967295|w>>>26),w=M+(S^(R|~N))+I[7]+1126891415&4294967295,M=R+(w<<10&4294967295|w>>>22),w=N+(R^(M|~S))+I[14]+2878612391&4294967295,N=M+(w<<15&4294967295|w>>>17),w=S+(M^(N|~R))+I[5]+4237533241&4294967295,S=N+(w<<21&4294967295|w>>>11),w=R+(N^(S|~M))+I[12]+1700485571&4294967295,R=S+(w<<6&4294967295|w>>>26),w=M+(S^(R|~N))+I[3]+2399980690&4294967295,M=R+(w<<10&4294967295|w>>>22),w=N+(R^(M|~S))+I[10]+4293915773&4294967295,N=M+(w<<15&4294967295|w>>>17),w=S+(M^(N|~R))+I[1]+2240044497&4294967295,S=N+(w<<21&4294967295|w>>>11),w=R+(N^(S|~M))+I[8]+1873313359&4294967295,R=S+(w<<6&4294967295|w>>>26),w=M+(S^(R|~N))+I[15]+4264355552&4294967295,M=R+(w<<10&4294967295|w>>>22),w=N+(R^(M|~S))+I[6]+2734768916&4294967295,N=M+(w<<15&4294967295|w>>>17),w=S+(M^(N|~R))+I[13]+1309151649&4294967295,S=N+(w<<21&4294967295|w>>>11),w=R+(N^(S|~M))+I[4]+4149444226&4294967295,R=S+(w<<6&4294967295|w>>>26),w=M+(S^(R|~N))+I[11]+3174756917&4294967295,M=R+(w<<10&4294967295|w>>>22),w=N+(R^(M|~S))+I[2]+718787259&4294967295,N=M+(w<<15&4294967295|w>>>17),w=S+(M^(N|~R))+I[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+M&4294967295}s.prototype.v=function(C,R){R===void 0&&(R=C.length);const S=R-this.blockSize,I=this.C;let N=this.h,M=0;for(;M<R;){if(N==0)for(;M<=S;)o(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<R;)if(I[N++]=C.charCodeAt(M++),N==this.blockSize){o(this,I),N=0;break}}else for(;M<R;)if(I[N++]=C[M++],N==this.blockSize){o(this,I),N=0;break}}this.h=N,this.o+=R},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;R=this.o*8;for(var S=C.length-8;S<C.length;++S)C[S]=R&255,R/=256;for(this.v(C),C=Array(16),R=0,S=0;S<4;++S)for(let I=0;I<32;I+=8)C[R++]=this.g[S]>>>I&255;return C};function h(C,R){var S=p;return Object.prototype.hasOwnProperty.call(S,C)?S[C]:S[C]=R(C)}function d(C,R){this.h=R;const S=[];let I=!0;for(let N=C.length-1;N>=0;N--){const M=C[N]|0;I&&M==R||(S[N]=M,I=!1)}this.g=S}var p={};function v(C){return-128<=C&&C<128?h(C,function(R){return new d([R|0],R<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return $(_(-C));const R=[];let S=1;for(let I=0;C>=S;I++)R[I]=C/S|0,S*=4294967296;return new d(R,0)}function b(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return $(b(C.substring(1),R));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=_(Math.pow(R,8));let I=A;for(let M=0;M<C.length;M+=8){var N=Math.min(8,C.length-M);const w=parseInt(C.substring(M,M+N),R);N<8?(N=_(Math.pow(R,N)),I=I.j(N).add(_(w))):(I=I.j(S),I=I.add(_(w)))}return I}var A=v(0),V=v(1),P=v(16777216);r=d.prototype,r.m=function(){if(tt(this))return-$(this).m();let C=0,R=1;for(let S=0;S<this.g.length;S++){const I=this.i(S);C+=(I>=0?I:4294967296+I)*R,R*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(J(this))return"0";if(tt(this))return"-"+$(this).toString(C);const R=_(Math.pow(C,6));var S=this;let I="";for(;;){const N=_t(S,R).g;S=ut(S,N.j(R));let M=((S.g.length>0?S.g[0]:S.h)>>>0).toString(C);if(S=N,J(S))return M+I;for(;M.length<6;)M="0"+M;I=M+I}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function J(C){if(C.h!=0)return!1;for(let R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function tt(C){return C.h==-1}r.l=function(C){return C=ut(this,C),tt(C)?-1:J(C)?0:1};function $(C){const R=C.g.length,S=[];for(let I=0;I<R;I++)S[I]=~C.g[I];return new d(S,~C.h).add(V)}r.abs=function(){return tt(this)?$(this):this},r.add=function(C){const R=Math.max(this.g.length,C.g.length),S=[];let I=0;for(let N=0;N<=R;N++){let M=I+(this.i(N)&65535)+(C.i(N)&65535),w=(M>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);I=w>>>16,M&=65535,w&=65535,S[N]=w<<16|M}return new d(S,S[S.length-1]&-2147483648?-1:0)};function ut(C,R){return C.add($(R))}r.j=function(C){if(J(this)||J(C))return A;if(tt(this))return tt(C)?$(this).j($(C)):$($(this).j(C));if(tt(C))return $(this.j($(C)));if(this.l(P)<0&&C.l(P)<0)return _(this.m()*C.m());const R=this.g.length+C.g.length,S=[];for(var I=0;I<2*R;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(let N=0;N<C.g.length;N++){const M=this.i(I)>>>16,w=this.i(I)&65535,st=C.i(N)>>>16,Nt=C.i(N)&65535;S[2*I+2*N]+=w*Nt,ft(S,2*I+2*N),S[2*I+2*N+1]+=M*Nt,ft(S,2*I+2*N+1),S[2*I+2*N+1]+=w*st,ft(S,2*I+2*N+1),S[2*I+2*N+2]+=M*st,ft(S,2*I+2*N+2)}for(C=0;C<R;C++)S[C]=S[2*C+1]<<16|S[2*C];for(C=R;C<2*R;C++)S[C]=0;return new d(S,0)};function ft(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function ht(C,R){this.g=C,this.h=R}function _t(C,R){if(J(R))throw Error("division by zero");if(J(C))return new ht(A,A);if(tt(C))return R=_t($(C),R),new ht($(R.g),$(R.h));if(tt(R))return R=_t(C,$(R)),new ht($(R.g),R.h);if(C.g.length>30){if(tt(C)||tt(R))throw Error("slowDivide_ only works with positive integers.");for(var S=V,I=R;I.l(C)<=0;)S=Ct(S),I=Ct(I);var N=at(S,1),M=at(I,1);for(I=at(I,2),S=at(S,2);!J(I);){var w=M.add(I);w.l(C)<=0&&(N=N.add(S),M=w),I=at(I,1),S=at(S,1)}return R=ut(C,N.j(R)),new ht(N,R)}for(N=A;C.l(R)>=0;){for(S=Math.max(1,Math.floor(C.m()/R.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),M=_(S),w=M.j(R);tt(w)||w.l(C)>0;)S-=I,M=_(S),w=M.j(R);J(M)&&(M=V),N=N.add(M),C=ut(C,w)}return new ht(N,C)}r.B=function(C){return _t(this,C).h},r.and=function(C){const R=Math.max(this.g.length,C.g.length),S=[];for(let I=0;I<R;I++)S[I]=this.i(I)&C.i(I);return new d(S,this.h&C.h)},r.or=function(C){const R=Math.max(this.g.length,C.g.length),S=[];for(let I=0;I<R;I++)S[I]=this.i(I)|C.i(I);return new d(S,this.h|C.h)},r.xor=function(C){const R=Math.max(this.g.length,C.g.length),S=[];for(let I=0;I<R;I++)S[I]=this.i(I)^C.i(I);return new d(S,this.h^C.h)};function Ct(C){const R=C.g.length+1,S=[];for(let I=0;I<R;I++)S[I]=C.i(I)<<1|C.i(I-1)>>>31;return new d(S,C.h)}function at(C,R){const S=R>>5;R%=32;const I=C.g.length-S,N=[];for(let M=0;M<I;M++)N[M]=R>0?C.i(M+S)>>>R|C.i(M+S+1)<<32-R:C.i(M+S);return new d(N,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,T0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,Ia=d}).apply(typeof i_<"u"?i_:typeof self<"u"?self:typeof window<"u"?window:{});var Xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var b0,Hl,A0,tc,od,S0,w0,R0;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xu=="object"&&Xu];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var y=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in y))break t;y=y[U]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var y=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&y.push([T,m[T]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,y){return u.call.apply(u.bind,arguments)}function _(u,m,y){return _=v,_.apply(null,arguments)}function b(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(T,U,q){for(var et=Array(arguments.length-2),St=2;St<arguments.length;St++)et[St-2]=arguments[St];return m.prototype[U].apply(T,et)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function P(u){const m=u.length;if(m>0){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var y=typeof U;if(y=y!="object"?y:U?Array.isArray(U)?"array":y:"null",y=="array"||y=="object"&&typeof U.length=="number"){y=u.length||0;const q=U.length||0;u.length=y+q;for(let et=0;et<q;et++)u[y+et]=U[et]}else u.push(U)}}class tt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function ut(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ft{constructor(){this.h=this.g=null}add(m,y){const T=ht.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var ht=new tt(()=>new _t,u=>u.reset());class _t{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Ct,at=!1,C=new ft,R=()=>{const u=Promise.resolve(void 0);Ct=()=>{u.then(S)}};function S(){for(var u;u=ut();){try{u.h.call(u.g)}catch(y){$(y)}var m=ht;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}at=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function st(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(st,N),st.prototype.init=function(u,m){const y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Nt="closure_listenable_"+(Math.random()*1e6|0),G=0;function W(u,m,y,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=U,this.key=++G,this.da=this.fa=!1}function dt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function jt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function kt(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function z(u){const m={};for(const y in u)m[y]=u[y];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let y,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(y in T)u[y]=T[y];for(let q=0;q<K.length;q++)y=K[q],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function lt(u){this.src=u,this.g={},this.h=0}lt.prototype.add=function(u,m,y,T,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const et=Rt(u,m,T,U);return et>-1?(m=u[et],y||(m.fa=!1)):(m=new W(m,this.src,q,!!T,U),m.fa=y,u.push(m)),m};function vt(u,m){const y=m.type;if(y in u.g){var T=u.g[y],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(T,U,1),q&&(dt(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Rt(u,m,y,T){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==T)return U}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Ne={};function se(u,m,y,T,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)se(u,m[q],y,T,U);return null}return y=Br(y),u&&u[Nt]?u.J(m,y,p(T)?!!T.capture:!1,U):Ga(u,m,y,!1,T,U)}function Ga(u,m,y,T,U,q){if(!m)throw Error("Invalid event type");const et=p(U)?!!U.capture:!!U;let St=Qa(u);if(St||(u[Lt]=St=new lt(u)),y=St.add(m,y,T,et,q),y.proxy)return y;if(T=Ns(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)M||(U=et),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent($n(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ns(){function u(y){return m.call(u.src,u.listener,y)}const m=Ur;return u}function Ds(u,m,y,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ds(u,m[q],y,T,U);else T=p(T)?!!T.capture:!!T,y=Br(y),u&&u[Nt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],y=Rt(m,y,T,U),y>-1&&(dt(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Qa(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Rt(m,y,T,U)),(y=u>-1?m[u]:null)&&Vs(y))}function Vs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Nt])vt(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent($n(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=Qa(m))?(vt(y,u),y.h==0&&(y.src=null,m[Lt]=null)):dt(u)}}}function $n(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function Ur(u,m){if(u.da)u=!0;else{m=new st(m,this);const y=u.listener,T=u.ha||u.src;u.fa&&Vs(u),u=y.call(T,m)}return u}function Qa(u){return u=u[Lt],u instanceof lt?u:null}var Lr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Br(u){return typeof u=="function"?u:(u[Lr]||(u[Lr]=function(m){return u.handleEvent(m)}),u[Lr])}function ye(){I.call(this),this.i=new lt(this),this.M=this,this.G=null}A(ye,I),ye.prototype[Nt]=!0,ye.prototype.removeEventListener=function(u,m,y,T){Ds(this,u,m,y,T)};function De(u,m){var y,T=u.G;if(T)for(y=[];T;T=T.G)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var U=m;m=new N(T,u),nt(m,U)}U=!0;let q,et;if(y)for(et=y.length-1;et>=0;et--)q=m.g=y[et],U=Zi(q,T,!0,m)&&U;if(q=m.g=u,U=Zi(q,T,!0,m)&&U,U=Zi(q,T,!1,m)&&U,y)for(et=0;et<y.length;et++)q=m.g=y[et],U=Zi(q,T,!1,m)&&U}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let T=0;T<y.length;T++)dt(y[T]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},ye.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function Zi(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const et=m[q];if(et&&!et.da&&et.capture==y){const St=et.listener,fe=et.ha||et.src;et.fa&&vt(u.i,et),U=St.call(fe,T)!==!1&&U}}return U&&!T.defaultPrevented}function Lc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function vo(u){u.g=Lc(()=>{u.g=null,u.i&&(u.i=!1,vo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Je extends I{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:vo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fa(u){I.call(this),this.h=u,this.g={}}A(Fa,I);var Pr=[];function kr(u){jt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Vs(m)},u),u.g={}}Fa.prototype.N=function(){Fa.Z.N.call(this),kr(this)},Fa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $i=d.JSON.stringify,Bc=d.JSON.parse,Eo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function To(){}function bo(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){N.call(this,"d")}A(Be,N);function An(){N.call(this,"c")}A(An,N);var he={},Ao=null;function Is(){return Ao=Ao||new ye}he.Ia="serverreachability";function So(u){N.call(this,he.Ia,u)}A(So,N);function Jn(u){const m=Is();De(m,new So(m))}he.STAT_EVENT="statevent";function Ya(u,m){N.call(this,he.STAT_EVENT,u),this.stat=m}A(Ya,N);function _e(u){const m=Is();De(m,new Ya(m,u))}he.Ja="timingevent";function Wn(u,m){N.call(this,he.Ja,u),this.size=m}A(Wn,N);function ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function Pc(u,m,y,T,U,q){u.info(function(){if(u.g)if(q){var et="",St=q.split("&");for(let Gt=0;Gt<St.length;Gt++){var fe=St[Gt].split("=");if(fe.length>1){const re=fe[0];fe=fe[1];const xn=re.split("_");et=xn.length>=2&&xn[1]=="type"?et+(re+"="+fe+"&"):et+(re+"=redacted&")}}}else et=null;else et=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+y+`
`+et})}function wo(u,m,y,T,U,q,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+y+`
`+q+" "+et})}function ei(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+kc(u,y)+(T?" "+T:"")})}function Xa(u,m){u.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function kc(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var y=q[u];if(!(y.length<2)){var T=y[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return $i(q)}catch{return m}}var Ka={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},qr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Hr;function Za(){}A(Za,To),Za.prototype.g=function(){return new XMLHttpRequest},Hr=new Za;function xi(u){return encodeURIComponent(String(u))}function Ro(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function Pn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.S=T||1,this.V=new Fa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new kn}function kn(){this.i=null,this.g="",this.h=!1}var ve={},ze={};function ni(u,m,y){u.M=1,u.A=$a(Te(m)),u.u=y,u.R=!0,Ms(u,null)}function Ms(u,m){u.F=Date.now(),ii(u),u.B=Te(u.A);var y=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Us(y.i,"t",T),u.C=0,y=u.j.L,u.h=new kn,u.g=ko(u.j,y?m:null,!u.u),u.P>0&&(u.O=new Je(_(u.Y,u,u.g),u.P)),m=u.V,y=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Pr[0]=U.toString()),U=Pr);for(let q=0;q<U.length;q++){const et=se(y,U[q],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?z(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Jn(),Pc(u.i,u.v,u.B,u.l,u.S,u.u)}Pn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Gn(u)==3?m.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)t:{const St=Gn(this.g),fe=this.g.ya(),Gt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||Pe(this.g)))){this.K||St!=4||fe==7||(fe==8||Gt<=0?Jn(3):Jn(2)),ai(this);var m=this.g.ca();this.X=m;var y=qc(this);if(this.o=m==200,wo(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var q=T;break e}}q=null}if(u=q)ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,si(this,u);else{this.o=!1,this.m=3,_e(12),fn(this),Sn(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<y.length;)if(re=Co(this,y),re==ze){St==4&&(this.m=4,_e(14),u=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(re==ve){this.m=4,_e(15),ei(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else ei(this.i,this.l,re,null),si(this,re);if(xo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||y.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)ei(this.i,this.l,y,"[Invalid Chunked Response]"),fn(this),Sn(this);else if(y.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),al(et),et.P=!0,_e(11))}}else ei(this.i,this.l,y,null),si(this,y);St==4&&fn(this),this.o&&!this.K&&(St==4?Uo(this.j,this):(this.o=!1,ii(this)))}else Ni(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),fn(this),Sn(this)}}}catch{}finally{}};function qc(u){if(!xo(u))return u.g.la();const m=Pe(u.g);if(m==="")return"";let y="";const T=m.length,U=Gn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,y+=u.h.i.decode(m[q],{stream:!(U&&q==T-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function xo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Co(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?ze:(y=Number(m.substring(y,T)),isNaN(y)?ve:(T+=1,T+y>m.length?ze:(m=m.slice(T,T+y),u.C=T+y,m)))}Pn.prototype.cancel=function(){this.K=!0,fn(this)};function ii(u){u.T=Date.now()+u.H,Os(u,u.H)}function Os(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ti(_(u.aa,u),m)}function ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Pn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Xa(this.i,this.B),this.M!=2&&(Jn(),_e(17)),fn(this),this.m=2,Sn(this)):Os(this,this.T-u)};function Sn(u){u.j.I==0||u.K||Uo(u.j,u)}function fn(u){ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,kr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function si(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||li(y.h,u))){if(!u.L&&li(y.h,u)&&y.I==3){try{var T=y.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)qs(y),sa(y);else break t;as(y),_e(18)}}else y.xa=U[1],0<y.xa-y.K&&U[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=ti(_(y.Va,y),6e3));ri(y.h)<=1&&y.ta&&(y.ta=void 0)}else di(y,11)}else if((u.L||y.g==u)&&qs(y),!w(m))for(U=y.Ba.g.parse(m),m=0;m<U.length;m++){let Gt=U[m];const re=Gt[0];if(!(re<=y.K))if(y.K=re,Gt=Gt[1],y.I==2)if(Gt[0]=="c"){y.M=Gt[1],y.ba=Gt[2];const xn=Gt[3];xn!=null&&(y.ka=xn,y.j.info("VER="+y.ka));const mi=Gt[4];mi!=null&&(y.za=mi,y.j.info("SVER="+y.za));const Qn=Gt[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(T=1.5*Qn,y.O=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Fn=u.g;if(Fn){const ss=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ss){var q=T.h;q.g||ss.indexOf("spdy")==-1&&ss.indexOf("quic")==-1&&ss.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Fr(q,q.h),q.h=null))}if(T.G){const Hs=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Hs&&(T.wa=Hs,Yt(T.J,T.G,Hs))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),T=y;var et=u;if(T.na=Po(T,T.L?T.ba:null,T.W),et.L){Yr(T.h,et);var St=et,fe=T.O;fe&&(St.H=fe),St.D&&(ai(St),ii(St)),T.g=et}else zo(T);y.i.length>0&&fi(y)}else Gt[0]!="stop"&&Gt[0]!="close"||di(y,7);else y.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?di(y,7):nl(y):Gt[0]!="noop"&&y.l&&y.l.qa(Gt),y.A=0)}}Jn(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function Gr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Qr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ri(u){return u.h?1:u.g?u.g.size:0}function li(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Fr(u,m){u.g?u.g.add(m):u.h=m}function Yr(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Gr.prototype.cancel=function(){if(this.i=Xr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Xr(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return P(u.i)}var No=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zs(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const T=u[y].indexOf("=");let U,q=null;T>=0?(U=u[y].substring(0,T),q=u[y].substring(T+1)):U=u[y],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,je(this,u.j),this.o=u.o,this.g=u.g,Ji(this,u.u),this.h=u.h,Kr(this,Mo(u.i)),this.m=u.m):u&&(m=String(u).match(No))?(this.l=!1,je(this,m[1]||"",!0),this.o=oi(m[2]||""),this.g=oi(m[3]||"",!0),Ji(this,m[4]),this.h=oi(m[5]||"",!0),Kr(this,m[6]||"",!0),this.m=oi(m[7]||"")):(this.l=!1,this.i=new ta(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ja(m,js,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ja(m,js,!0),"@"),u.push(xi(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Ja(y,y.charAt(0)=="/"?Zr:Do,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Ja(y,Vo)),u.join("")},dn.prototype.resolve=function(u){const m=Te(this);let y=!!u.j;y?je(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var T=u.h;if(y)Ji(m,u.u);else if(y=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let et=0;et<U.length;){const St=U[et++];St=="."?T&&et==U.length&&q.push(""):St==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&et==U.length&&q.push("")):(q.push(St),T=!0)}T=q.join("/")}else T=U}return y?m.h=T:y=u.i.toString()!=="",y?Kr(m,Mo(u.i)):y=!!u.m,y&&(m.m=u.m),m};function Te(u){return new dn(u)}function je(u,m,y){u.j=y?oi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ji(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Kr(u,m,y){m instanceof ta?(u.i=m,Ls(u.i,u.l)):(y||(m=Ja(m,Wi)),u.i=new ta(m,u.l))}function Yt(u,m,y){u.i.set(m,y)}function $a(u){return Yt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function oi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ja(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var js=/[#\/\?@]/g,Do=/[#\?:]/g,Zr=/[#\?]/g,Wi=/[#\?@]/g,Vo=/#/g;function ta(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&zs(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=ta.prototype,r.add=function(u,m){an(this),this.i=null,u=ea(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Io(u,m){an(u),m=ea(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function $r(u,m){return an(u),m=ea(u,m),u.g.has(m)}r.forEach=function(u,m){an(this),this.g.forEach(function(y,T){y.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Jr(u,m){an(u);let y=[];if(typeof m=="string")$r(u,m)&&(y=y.concat(u.g.get(ea(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}r.set=function(u,m){return an(this),this.i=null,u=ea(this,u),$r(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Jr(this,u),u.length>0?String(u[0]):m):m};function Us(u,m,y){Io(u,m),y.length>0&&(u.i=null,u.g.set(ea(u,m),P(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var y=m[T];const U=xi(y);y=Jr(this,y);for(let q=0;q<y.length;q++){let et=U;y[q]!==""&&(et+="="+xi(y[q])),u.push(et)}}return this.i=u.join("&")};function Mo(u){const m=new ta;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ea(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ls(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(y,T){const U=T.toLowerCase();T!=U&&(Io(this,T),Us(this,U,y))},u)),u.j=m}function qn(u,m){const y=new Bn;if(d.Image){const T=new Image;T.onload=b(wn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=b(wn,y,"TestLoadImage: error",!1,m,T),T.onabort=b(wn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(wn,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Wr(u,m){const y=new Bn,T=new AbortController,U=setTimeout(()=>{T.abort(),wn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?wn(y,"TestPingServer: ok",!0,m):wn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),wn(y,"TestPingServer: error",!1,m)})}function wn(u,m,y,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(y)}catch{}}function na(){this.g=new Eo}function ui(u){this.i=u.Sb||null,this.h=u.ab||!1}A(ui,To),ui.prototype.g=function(){return new Wa(this.i,this.h)};function Wa(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Wa,ye),r=Wa.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Hn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ia(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Bs(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Bs(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ia(this):Hn(this),this.readyState==3&&Bs(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ia(this))},r.Na=function(u){this.g&&(this.response=u,ia(this))},r.ga=function(){this.g&&ia(this)};function ia(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Hn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Wa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let m="";return jt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function ts(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=Rn(y),typeof u=="string"?y!=null&&xi(y):Yt(u,m,y))}function Zt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Zt,ye);var ci=/^https?$/i,tl=["POST","PUT"];r=Zt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Hr.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){es(this,q);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)y.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())y.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(tl,m,void 0)>=0)||T||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of y)this.g.setRequestHeader(q,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){es(this,q)}};function es(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,el(u),Ci(u)}function el(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Ci(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ci(this,!0)),Zt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ns(this):this.Xa())},r.Xa=function(){ns(this)};function ns(u){if(u.h&&typeof h<"u"){if(u.v&&Gn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=q===0){let et=String(u.D).match(No)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!ci.test(et?et.toLowerCase():"")}y=T}if(y)De(u,"complete"),De(u,"success");else{u.o=6;try{var U=Gn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",el(u)}}finally{Ci(u)}}}}function Ci(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||De(u,"ready");try{y.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Bc(m)}};function Pe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ni(u){const m={};u=(u.g&&Gn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var y=Ro(u[T]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[U]||[];m[U]=q,q.push(y)}kt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function aa(u){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hi("baseRetryDelayMs",5e3,u),this.Za=hi("retryDelaySeedMs",1e4,u),this.Ta=hi("forwardChannelMaxRetries",2,u),this.va=hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Gr(u&&u.concurrentRequestLimit),this.Ba=new na,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=aa.prototype,r.ka=8,r.I=1,r.connect=function(u,m,y,T){_e(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.J=Po(this,null,this.W),fi(this)};function nl(u){if(Ps(u),u.I==3){var m=u.V++,y=Te(u.J);if(Yt(y,"SID",u.M),Yt(y,"RID",m),Yt(y,"TYPE","terminate"),is(u,y),m=new Pn(u,u.j,m),m.M=2,m.A=$a(Te(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=ko(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ii(m)}Bo(u)}function sa(u){u.g&&(al(u),u.g.cancel(),u.g=null)}function Ps(u){sa(u),u.v&&(d.clearTimeout(u.v),u.v=null),qs(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function fi(u){if(!Qr(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ct||R(),at||(Ct(),at=!0),C.add(m,u),u.D=0}}function ks(u,m){return ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ti(_(u.Ea,u,m),Lo(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Pn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=z(q),nt(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=Oo(this,U,m),y=Te(this.J),Yt(y,"RID",u),Yt(y,"CVER",22),this.G&&Yt(y,"X-HTTP-Session-Id",this.G),is(this,y),q&&(this.R?m="headers="+xi(Rn(q))+"&"+m:this.u&&ts(y,this.u,q)),Fr(this.h,U),this.Ra&&Yt(y,"TYPE","init"),this.S?(Yt(y,"$req",m),Yt(y,"SID","null"),U.U=!0,ni(U,y,null)):ni(U,y,m),this.I=2}}else this.I==3&&(u?il(this,u):this.i.length==0||Qr(this.h)||il(this))};function il(u,m){var y;m?y=m.l:y=u.V++;const T=Te(u.J);Yt(T,"SID",u.M),Yt(T,"RID",y),Yt(T,"AID",u.K),is(u,T),u.u&&u.o&&ts(T,u.u,u.o),y=new Pn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Oo(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Fr(u.h,y),ni(y,T,m)}function is(u,m){u.H&&jt(u.H,function(y,T){Yt(m,T,y)}),u.l&&jt({},function(y,T){Yt(m,T,y)})}function Oo(u,m,y){y=Math.min(u.i.length,y);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let St=-1;for(;;){const fe=["count="+y];St==-1?y>0?(St=U[0].g,fe.push("ofs="+St)):St=0:fe.push("ofs="+St);let Gt=!0;for(let re=0;re<y;re++){var q=U[re].g;const xn=U[re].map;if(q-=St,q<0)St=Math.max(0,U[re].g-100),Gt=!1;else try{q="req"+q+"_"||"";try{var et=xn instanceof Map?xn:Object.entries(xn);for(const[mi,Qn]of et){let Fn=Qn;p(Qn)&&(Fn=$i(Qn)),fe.push(q+mi+"="+encodeURIComponent(Fn))}}catch(mi){throw fe.push(q+"type="+encodeURIComponent("_badmap")),mi}}catch{T&&T(xn)}}if(Gt){et=fe.join("&");break t}}et=void 0}return u=u.i.splice(0,y),m.G=u,et}function zo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ct||R(),at||(Ct(),at=!0),C.add(m,u),u.A=0}}function as(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ti(_(u.Da,u),Lo(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,jo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ti(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),sa(this),jo(this))};function al(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function jo(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Yt(m,"RID","rpc"),Yt(m,"SID",u.M),Yt(m,"AID",u.K),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Yt(m,"TO",u.ia),Yt(m,"TYPE","xmlhttp"),is(u,m),u.u&&u.o&&ts(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=$a(Te(m)),y.u=null,y.R=!0,Ms(y,u)}r.Va=function(){this.C!=null&&(this.C=null,sa(this),as(this),_e(19))};function qs(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Uo(u,m){var y=null;if(u.g==m){qs(u),al(u),u.g=null;var T=2}else if(li(u.h,m))y=m.G,Yr(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Is(),De(T,new Wn(T,y)),fi(u)}else zo(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&ks(u,m)||T==2&&as(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),U){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function Lo(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function di(u,m){if(u.j.info("Error code "+m),m==2){var y=_(u.bb,u),T=u.Ua;const U=!T;T=new dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||je(T,"https"),$a(T),U?qn(T.toString(),y):Wr(T.toString(),y)}else _e(2);u.I=0,u.l&&u.l.pa(m),Bo(u),Ps(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function Bo(u){if(u.I=0,u.ja=[],u.l){const m=Xr(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,P(u.i),u.i.length=0),u.l.oa()}}function Po(u,m,y){var T=y instanceof dn?Te(y):new dn(y);if(T.g!="")m&&(T.g=m+"."+T.g),Ji(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new dn(null);T&&je(q,T),m&&(q.g=m),U&&Ji(q,U),y&&(q.h=y),T=q}return y=u.G,m=u.wa,y&&m&&Yt(T,y,m),Yt(T,"VER",u.ka),is(u,T),T}function ko(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Zt(new ui({ab:y})):new Zt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function qo(){}r=qo.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ra(){}ra.prototype.g=function(u,m){return new We(u,m)};function We(u,m){ye.call(this),this.g=new aa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Di(this)}A(We,ye),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){nl(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=$i(u),u=y);m.i.push(new Ee(m.Ya++,u)),m.I==3&&fi(m)},We.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,We.Z.N.call(this)};function Ho(u){Be.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Ho,Be);function Go(){An.call(this),this.status=1}A(Go,An);function Di(u){this.g=u}A(Di,qo),Di.prototype.ra=function(){De(this.g,"a")},Di.prototype.qa=function(u){De(this.g,new Ho(u))},Di.prototype.pa=function(u){De(this.g,new Go)},Di.prototype.oa=function(){De(this.g,"b")},ra.prototype.createWebChannel=ra.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,R0=function(){return new ra},w0=function(){return Is()},S0=he,od={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ka.NO_ERROR=0,Ka.TIMEOUT=8,Ka.HTTP_ERROR=6,tc=Ka,qr.COMPLETE="complete",A0=qr,bo.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Hl=bo,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,b0=Zt}).apply(typeof Xu<"u"?Xu:typeof self<"u"?self:typeof window<"u"?window:{});const a_="@firebase/firestore",s_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ir="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new g0("@firebase/firestore");function vr(){return ws.logLevel}function rt(r,...e){if(ws.logLevel<=Pt.DEBUG){const i=e.map(Vd);ws.debug(`Firestore (${Ir}): ${r}`,...i)}}function Yi(r,...e){if(ws.logLevel<=Pt.ERROR){const i=e.map(Vd);ws.error(`Firestore (${Ir}): ${r}`,...i)}}function wr(r,...e){if(ws.logLevel<=Pt.WARN){const i=e.map(Vd);ws.warn(`Firestore (${Ir}): ${r}`,...i)}}function Vd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,x0(r,s,i)}function x0(r,e,i){let s=`FIRESTORE (${Ir}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Yi(s),new Error(s)}function Ft(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||x0(e,o,s)}function At(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends Vr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ze.UNAUTHENTICATED)))}shutdown(){}}class yb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class _b{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ft(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let h=new Ma;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ma,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ma)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new C0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string",2055,{h:e}),new Ze(e)}}class vb{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Eb{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new vb(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class r_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tb{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,W2(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ft(this.o===void 0,3512);const s=h=>{h.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>s(h)))};const o=h=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new r_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new r_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=bb(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function Ot(r,e){return r<e?-1:r>e?1:0}function ud(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),h=e.charAt(s);if(o!==h)return Yf(o)===Yf(h)?Ot(o,h):Yf(o)?1:-1}return Ot(r.length,e.length)}const Ab=55296,Sb=57343;function Yf(r){const e=r.charCodeAt(0);return e>=Ab&&e<=Sb}function Rr(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="__name__";class Ei{constructor(e,i,s){i===void 0?i=0:i>e.length&&yt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&yt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Ei.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ei?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=Ei.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Ot(e.length,i.length)}static compareSegments(e,i){const s=Ei.isNumericId(e),o=Ei.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Ei.extractNumericId(e).compare(Ei.extractNumericId(i)):ud(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ia.fromString(e.substring(4,e.length-2))}}class ee extends Ei{construct(e,i,s){return new ee(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new it(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const wb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends Ei{construct(e,i,s){return new Fe(e,i,s)}static isValidIdentifier(e){return wb.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===l_}static keyField(){return new Fe([l_])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new it(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new it(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new it(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(s+=p,o++):(h(),o++)}if(h(),d)throw new it(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fe(i)}static emptyPath(){return new Fe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(ee.fromString(e))}static fromName(e){return new gt(ee.fromString(e).popFirst(5))}static empty(){return new gt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ee.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new ee(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(r,e,i){if(!i)throw new it(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Rb(r,e,i,s){if(e===!0&&s===!0)throw new it(Y.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function o_(r){if(!gt.isDocumentKey(r))throw new it(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function u_(r){if(gt.isDocumentKey(r))throw new it(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function D0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function bc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function bn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new it(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=bc(r);throw new it(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(r,e){const i={typeString:r};return e&&(i.value=e),i}function uo(r,e){if(!D0(r))throw new it(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new it(Y.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=-62135596800,h_=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(e){return ae.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*h_);return new ae(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new it(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<c_)throw new it(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/h_}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(uo(e,ae._jsonSchema))return new ae(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-c_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:Ce("string",ae._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new ae(0,0))}static max(){return new Tt(new ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=-1;function xb(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(s===1e9?new ae(i+1,0):new ae(i,s));return new za(o,gt.empty(),e)}function Cb(r){return new za(r.readTime,r.key,no)}class za{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new za(Tt.min(),gt.empty(),no)}static max(){return new za(Tt.max(),gt.empty(),no)}}function Nb(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=gt.comparator(r.documentKey,e.documentKey),i!==0?i:Ot(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Vb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mr(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==Db)throw r;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,s)=>{i(e)}))}static reject(e){return new Z(((i,s)=>{s(e)}))}static waitFor(e){return new Z(((i,s)=>{let o=0,h=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++h,d&&h===o&&i()}),(v=>s(v)))})),d=!0,h===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const s of e)i=i.next((o=>o?Z.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,h)=>{s.push(i.call(this,o,h))})),this.waitFor(s)}static mapArray(e,i){return new Z(((s,o)=>{const h=e.length,d=new Array(h);let p=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((b=>{d[_]=b,++p,p===h&&s(d)}),(b=>o(b)))}}))}static doWhile(e,i){return new Z(((s,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):s()};h()}))}}function Ib(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Or(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ac.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=-1;function Sc(r){return r==null}function hc(r){return r===0&&1/r==-1/0}function Mb(r){return typeof r=="number"&&Number.isInteger(r)&&!hc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="";function Ob(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=f_(e)),e=zb(r.get(i),e);return f_(e)}function zb(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case V0:i+="";break;default:i+=h}}return i}function f_(r){return r+V0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function ka(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function I0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e,i){this.comparator=e,this.root=i||Qe.EMPTY}insert(e,i){return new oe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(e){return new oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ku(this.root,e,this.comparator,!0)}}class Ku{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qe{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??Qe.RED,this.left=o??Qe.EMPTY,this.right=h??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new Qe(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Qe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw yt(27949);return e+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new Qe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.comparator=e,this.data=new oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new m_(this.data.getIterator())}getIteratorFrom(e){return new m_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Me(this.comparator);return i.data=e,i}}class m_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(Fe.comparator)}static empty(){return new Tn([])}unionWith(e){let i=new Me(Fe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Tn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Rr(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new M0("Invalid base64 string: "+h):h}})(e);return new Ye(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Ye(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const jb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ja(r){if(Ft(!!r,39018),typeof r=="string"){let e=0;const i=jb.exec(r);if(Ft(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ua(r){return typeof r=="string"?Ye.fromBase64String(r):Ye.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="server_timestamp",z0="__type__",j0="__previous_value__",U0="__local_write_time__";function Od(r){var i,s;return((s=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[z0])==null?void 0:s.stringValue)===O0}function wc(r){const e=r.mapValue.fields[j0];return Od(e)?wc(e):e}function io(r){const e=ja(r.mapValue.fields[U0].timestampValue);return new ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,i,s,o,h,d,p,v,_,b){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=b}}const fc="(default)";class ao{constructor(e,i){this.projectId=e,this.database=i||fc}static empty(){return new ao("","")}get isDefaultDatabase(){return this.database===fc}isEqual(e){return e instanceof ao&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="__type__",Lb="__max__",Zu={mapValue:{}},B0="__vector__",dc="value";function La(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Od(r)?4:Pb(r)?9007199254740991:Bb(r)?10:11:yt(28295,{value:r})}function Ri(r,e){if(r===e)return!0;const i=La(r);if(i!==La(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return io(r).isEqual(io(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=ja(o.timestampValue),p=ja(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,h){return Ua(o.bytesValue).isEqual(Ua(h.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,h){return ge(o.geoPointValue.latitude)===ge(h.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(h.geoPointValue.longitude)})(r,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return ge(o.integerValue)===ge(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ge(o.doubleValue),p=ge(h.doubleValue);return d===p?hc(d)===hc(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return Rr(r.arrayValue.values||[],e.arrayValue.values||[],Ri);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},p=h.mapValue.fields||{};if(d_(d)!==d_(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Ri(d[v],p[v])))return!1;return!0})(r,e);default:return yt(52216,{left:r})}}function so(r,e){return(r.values||[]).find((i=>Ri(i,e)))!==void 0}function xr(r,e){if(r===e)return 0;const i=La(r),s=La(e);if(i!==s)return Ot(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(r.booleanValue,e.booleanValue);case 2:return(function(h,d){const p=ge(h.integerValue||h.doubleValue),v=ge(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(r,e);case 3:return g_(r.timestampValue,e.timestampValue);case 4:return g_(io(r),io(e));case 5:return ud(r.stringValue,e.stringValue);case 6:return(function(h,d){const p=Ua(h),v=Ua(d);return p.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(h,d){const p=h.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const b=Ot(p[_],v[_]);if(b!==0)return b}return Ot(p.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(h,d){const p=Ot(ge(h.latitude),ge(d.latitude));return p!==0?p:Ot(ge(h.longitude),ge(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return p_(r.arrayValue,e.arrayValue);case 10:return(function(h,d){var V,P,J,tt;const p=h.fields||{},v=d.fields||{},_=(V=p[dc])==null?void 0:V.arrayValue,b=(P=v[dc])==null?void 0:P.arrayValue,A=Ot(((J=_==null?void 0:_.values)==null?void 0:J.length)||0,((tt=b==null?void 0:b.values)==null?void 0:tt.length)||0);return A!==0?A:p_(_,b)})(r.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Zu.mapValue&&d===Zu.mapValue)return 0;if(h===Zu.mapValue)return 1;if(d===Zu.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),_=d.fields||{},b=Object.keys(_);v.sort(),b.sort();for(let A=0;A<v.length&&A<b.length;++A){const V=ud(v[A],b[A]);if(V!==0)return V;const P=xr(p[v[A]],_[b[A]]);if(P!==0)return P}return Ot(v.length,b.length)})(r.mapValue,e.mapValue);default:throw yt(23264,{he:i})}}function g_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ot(r,e);const i=ja(r),s=ja(e),o=Ot(i.seconds,s.seconds);return o!==0?o:Ot(i.nanos,s.nanos)}function p_(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=xr(i[o],s[o]);if(h)return h}return Ot(i.length,s.length)}function Cr(r){return cd(r)}function cd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=ja(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Ua(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return gt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=cd(h);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${cd(i.fields[d])}`;return o+"}"})(r.mapValue):yt(61005,{value:r})}function ec(r){switch(La(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wc(r);return e?16+ec(e):16;case 5:return 2*r.stringValue.length;case 6:return Ua(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,h)=>o+ec(h)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ka(s.fields,((h,d)=>{o+=h.length+ec(d)})),o})(r.mapValue);default:throw yt(13486,{value:r})}}function y_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function hd(r){return!!r&&"integerValue"in r}function zd(r){return!!r&&"arrayValue"in r}function __(r){return!!r&&"nullValue"in r}function v_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function nc(r){return!!r&&"mapValue"in r}function Bb(r){var i,s;return((s=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[L0])==null?void 0:s.stringValue)===B0}function Kl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ka(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Kl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Kl(r.arrayValue.values[i]);return e}return{...r}}function Pb(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Lb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!nc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(i)}setAll(e){let i=Fe.emptyPath(),s={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,s,o),s={},o=[],i=p.popLast()}d?s[p.lastSegment()]=Kl(d):o.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());nc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ri(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];nc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){ka(i,((o,h)=>e[o]=h));for(const o of s)delete e[o]}clone(){return new hn(Kl(this.value))}}function P0(r){const e=[];return ka(r.fields,((i,s)=>{const o=new Fe([i]);if(nc(s)){const h=P0(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,i,s,o,h,d,p){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new $e(e,0,Tt.min(),Tt.min(),Tt.min(),hn.empty(),0)}static newFoundDocument(e,i,s,o){return new $e(e,1,i,Tt.min(),s,o,0)}static newNoDocument(e,i){return new $e(e,2,i,Tt.min(),Tt.min(),hn.empty(),0)}static newUnknownDocument(e,i){return new $e(e,3,i,Tt.min(),Tt.min(),hn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $e&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,i){this.position=e,this.inclusive=i}}function E_(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?s=gt.comparator(gt.fromName(d.referenceValue),i.key):s=xr(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function T_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ri(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,i="asc"){this.field=e,this.dir=i}}function kb(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{}class xe extends k0{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new Hb(e,i,s):i==="array-contains"?new Fb(e,s):i==="in"?new Yb(e,s):i==="not-in"?new Xb(e,s):i==="array-contains-any"?new Kb(e,s):new xe(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new Gb(e,s):new Qb(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(xr(i,this.value)):i!==null&&La(this.value)===La(i)&&this.matchesComparison(xr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends k0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Zn(e,i)}matches(e){return q0(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function q0(r){return r.op==="and"}function H0(r){return qb(r)&&q0(r)}function qb(r){for(const e of r.filters)if(e instanceof Zn)return!1;return!0}function fd(r){if(r instanceof xe)return r.field.canonicalString()+r.op.toString()+Cr(r.value);if(H0(r))return r.filters.map((e=>fd(e))).join(",");{const e=r.filters.map((i=>fd(i))).join(",");return`${r.op}(${e})`}}function G0(r,e){return r instanceof xe?(function(s,o){return o instanceof xe&&s.op===o.op&&s.field.isEqual(o.field)&&Ri(s.value,o.value)})(r,e):r instanceof Zn?(function(s,o){return o instanceof Zn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((h,d,p)=>h&&G0(d,o.filters[p])),!0):!1})(r,e):void yt(19439)}function Q0(r){return r instanceof xe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Cr(i.value)}`})(r):r instanceof Zn?(function(i){return i.op.toString()+" {"+i.getFilters().map(Q0).join(" ,")+"}"})(r):"Filter"}class Hb extends xe{constructor(e,i,s){super(e,i,s),this.key=gt.fromName(s.referenceValue)}matches(e){const i=gt.comparator(e.key,this.key);return this.matchesComparison(i)}}class Gb extends xe{constructor(e,i){super(e,"in",i),this.keys=F0("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Qb extends xe{constructor(e,i){super(e,"not-in",i),this.keys=F0("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function F0(r,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((s=>gt.fromName(s.referenceValue)))}class Fb extends xe{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return zd(i)&&so(i.arrayValue,this.value)}}class Yb extends xe{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&so(this.value.arrayValue,i)}}class Xb extends xe{constructor(e,i){super(e,"not-in",i)}matches(e){if(so(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!so(this.value.arrayValue,i)}}class Kb extends xe{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!zd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>so(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,i=null,s=[],o=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function b_(r,e=null,i=[],s=[],o=null,h=null,d=null){return new Zb(r,e,i,s,o,h,d)}function jd(r){const e=At(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>fd(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),Sc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Cr(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Cr(s))).join(",")),e.Te=i}return e.Te}function Ud(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!kb(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!G0(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!T_(r.startAt,e.startAt)&&T_(r.endAt,e.endAt)}function dd(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,i=null,s=[],o=[],h=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $b(r,e,i,s,o,h,d,p){return new zr(r,e,i,s,o,h,d,p)}function Ld(r){return new zr(r)}function A_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Y0(r){return r.collectionGroup!==null}function Zl(r){const e=At(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Fe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new ro(h,s))})),i.has(Fe.keyField().canonicalString())||e.Ie.push(new ro(Fe.keyField(),s))}return e.Ie}function bi(r){const e=At(r);return e.Ee||(e.Ee=Jb(e,Zl(r))),e.Ee}function Jb(r,e){if(r.limitType==="F")return b_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new ro(o.field,h)}));const i=r.endAt?new mc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new mc(r.startAt.position,r.startAt.inclusive):null;return b_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function md(r,e){const i=r.filters.concat([e]);return new zr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function gd(r,e,i){return new zr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Rc(r,e){return Ud(bi(r),bi(e))&&r.limitType===e.limitType}function X0(r){return`${jd(bi(r))}|lt:${r.limitType}`}function Er(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>Q0(o))).join(", ")}]`),Sc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Cr(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Cr(o))).join(",")),`Target(${s})`})(bi(r))}; limitType=${r.limitType})`}function xc(r,e){return e.isFoundDocument()&&(function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):gt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(r,e)&&(function(s,o){for(const h of Zl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(d,p,v){const _=E_(d,p,v);return d.inclusive?_<=0:_<0})(s.startAt,Zl(s),o)||s.endAt&&!(function(d,p,v){const _=E_(d,p,v);return d.inclusive?_>=0:_>0})(s.endAt,Zl(s),o))})(r,e)}function Wb(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function K0(r){return(e,i)=>{let s=!1;for(const o of Zl(r)){const h=tA(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function tA(r,e,i){const s=r.field.isKeyField()?gt.comparator(e.key,i.key):(function(h,d,p){const v=d.data.field(h),_=p.data.field(h);return v!==null&&_!==null?xr(v,_):yt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return yt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ka(this.inner,((i,s)=>{for(const[o,h]of s)e(o,h)}))}isEmpty(){return I0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=new oe(gt.comparator);function Xi(){return eA}const Z0=new oe(gt.comparator);function Gl(...r){let e=Z0;for(const i of r)e=e.insert(i.key,i);return e}function $0(r){let e=Z0;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function bs(){return $l()}function J0(){return $l()}function $l(){return new xs((r=>r.toString()),((r,e)=>r.isEqual(e)))}const nA=new oe(gt.comparator),iA=new Me(gt.comparator);function zt(...r){let e=iA;for(const i of r)e=e.add(i);return e}const aA=new Me(Ot);function sA(){return aA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hc(e)?"-0":e}}function W0(r){return{integerValue:""+r}}function rA(r,e){return Mb(e)?W0(e):Bd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(){this._=void 0}}function lA(r,e,i){return r instanceof gc?(function(o,h){const d={fields:{[z0]:{stringValue:O0},[U0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Od(h)&&(h=wc(h)),h&&(d.fields[j0]=h),{mapValue:d}})(i,e):r instanceof lo?ev(r,e):r instanceof oo?nv(r,e):(function(o,h){const d=tv(o,h),p=S_(d)+S_(o.Ae);return hd(d)&&hd(o.Ae)?W0(p):Bd(o.serializer,p)})(r,e)}function oA(r,e,i){return r instanceof lo?ev(r,e):r instanceof oo?nv(r,e):i}function tv(r,e){return r instanceof pc?(function(s){return hd(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(e)?e:{integerValue:0}:null}class gc extends Cc{}class lo extends Cc{constructor(e){super(),this.elements=e}}function ev(r,e){const i=iv(e);for(const s of r.elements)i.some((o=>Ri(o,s)))||i.push(s);return{arrayValue:{values:i}}}class oo extends Cc{constructor(e){super(),this.elements=e}}function nv(r,e){let i=iv(e);for(const s of r.elements)i=i.filter((o=>!Ri(o,s)));return{arrayValue:{values:i}}}class pc extends Cc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function S_(r){return ge(r.integerValue||r.doubleValue)}function iv(r){return zd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function uA(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof lo&&o instanceof lo||s instanceof oo&&o instanceof oo?Rr(s.elements,o.elements,Ri):s instanceof pc&&o instanceof pc?Ri(s.Ae,o.Ae):s instanceof gc&&o instanceof gc})(r.transform,e.transform)}class cA{constructor(e,i){this.version=e,this.transformResults=i}}class en{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new en}static exists(e){return new en(void 0,e)}static updateTime(e){return new en(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ic(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Nc{}function av(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Dc(r.key,en.none()):new co(r.key,r.data,en.none());{const i=r.data,s=hn.empty();let o=new Me(Fe.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new qa(r.key,s,new Tn(o.toArray()),en.none())}}function hA(r,e,i){r instanceof co?(function(o,h,d){const p=o.value.clone(),v=R_(o.fieldTransforms,h,d.transformResults);p.setAll(v),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):r instanceof qa?(function(o,h,d){if(!ic(o.precondition,h))return void h.convertToUnknownDocument(d.version);const p=R_(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(sv(o)),v.setAll(p),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Jl(r,e,i,s){return r instanceof co?(function(h,d,p,v){if(!ic(h.precondition,d))return p;const _=h.value.clone(),b=x_(h.fieldTransforms,v,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,s):r instanceof qa?(function(h,d,p,v){if(!ic(h.precondition,d))return p;const _=x_(h.fieldTransforms,v,d),b=d.data;return b.setAll(sv(h)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((A=>A.field)))})(r,e,i,s):(function(h,d,p){return ic(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,i)}function fA(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),h=tv(s.transform,o||null);h!=null&&(i===null&&(i=hn.empty()),i.set(s.field,h))}return i||null}function w_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Rr(s,o,((h,d)=>uA(h,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class co extends Nc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class qa extends Nc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function sv(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function R_(r,e,i){const s=new Map;Ft(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,p=e.data.field(h.field);s.set(h.field,oA(d,p,i[o]))}return s}function x_(r,e,i){const s=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);s.set(o.field,lA(h,d,e))}return s}class Dc extends Nc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dA extends Nc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&hA(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Jl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Jl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=J0();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(o.key)?null:p;const v=av(d,p);v!==null&&s.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),zt())}isEqual(e){return this.batchId===e.batchId&&Rr(this.mutations,e.mutations,((i,s)=>w_(i,s)))&&Rr(this.baseMutations,e.baseMutations,((i,s)=>w_(i,s)))}}class Pd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Ft(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return nA})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new Pd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,Bt;function yA(r){switch(r){case Y.OK:return yt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function rv(r){if(r===void 0)return Yi("GRPC error has no .code"),Y.UNKNOWN;switch(r){case Re.OK:return Y.OK;case Re.CANCELLED:return Y.CANCELLED;case Re.UNKNOWN:return Y.UNKNOWN;case Re.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Re.INTERNAL:return Y.INTERNAL;case Re.UNAVAILABLE:return Y.UNAVAILABLE;case Re.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Re.NOT_FOUND:return Y.NOT_FOUND;case Re.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Re.ABORTED:return Y.ABORTED;case Re.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Re.DATA_LOSS:return Y.DATA_LOSS;default:return yt(39323,{code:r})}}(Bt=Re||(Re={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=new Ia([4294967295,4294967295],0);function C_(r){const e=_A().encode(r),i=new T0;return i.update(e),new Uint8Array(i.digest())}function N_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Ia([i,s],0),new Ia([o,h],0)]}class kd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Ql(`Invalid padding: ${i}`);if(s<0)throw new Ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ia.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(Ia.fromNumber(s)));return o.compare(vA)===1&&(o=new Ia([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=C_(e),[s,o]=N_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new kd(h,o,i);return s.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=C_(e),[s,o]=N_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,ho.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Vc(Tt.min(),o,new oe(Ot),Xi(),zt())}}class ho{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new ho(s,i,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class lv{constructor(e,i){this.targetId=e,this.Ce=i}}class ov{constructor(e,i,s=Ye.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class D_{constructor(){this.ve=0,this.Fe=V_(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=zt(),i=zt(),s=zt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:yt(38017,{changeType:h})}})),new ho(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=V_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class EA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xi(),this.Je=$u(),this.He=$u(),this.Ye=new oe(Ot)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:yt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(dd(h))if(s===0){const d=new gt(h.path);this.et(i,d,$e.newNoDocument(d,Tt.min()))}else Ft(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(e),v=p?this.ct(p,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,p;try{d=Ua(s).toUint8Array()}catch(v){if(v instanceof M0)return wr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new kd(d,o,h)}catch(v){return wr(v instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&dd(p.target)){const v=new gt(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,$e.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let s=zt();this.He.forEach(((h,d)=>{let p=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Vc(e,i,this.Ye,this.je,s);return this.je=Xi(),this.Je=$u(),this.He=$u(),this.Ye=new oe(Ot),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new D_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Me(Ot),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Me(Ot),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new D_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function $u(){return new oe(gt.comparator)}function V_(){return new oe(gt.comparator)}const TA={asc:"ASCENDING",desc:"DESCENDING"},bA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AA={and:"AND",or:"OR"};class SA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function pd(r,e){return r.useProto3Json||Sc(e)?e:{value:e}}function yc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function wA(r,e){return yc(r,e.toTimestamp())}function Ai(r){return Ft(!!r,49232),Tt.fromTimestamp((function(i){const s=ja(i);return new ae(s.seconds,s.nanos)})(r))}function qd(r,e){return yd(r,e).canonicalString()}function yd(r,e){const i=(function(o){return new ee(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function cv(r){const e=ee.fromString(r);return Ft(gv(e),10190,{key:e.toString()}),e}function _d(r,e){return qd(r.databaseId,e.path)}function Xf(r,e){const i=cv(e);if(i.get(1)!==r.databaseId.projectId)throw new it(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new it(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new gt(fv(i))}function hv(r,e){return qd(r.databaseId,e)}function RA(r){const e=cv(r);return e.length===4?ee.emptyPath():fv(e)}function vd(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function fv(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function I_(r,e,i){return{name:_d(r,e),fields:i.value.mapValue.fields}}function xA(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:yt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,b){return _.useProto3Json?(Ft(b===void 0||typeof b=="string",58123),Ye.fromBase64String(b||"")):(Ft(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ye.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const b=_.code===void 0?Y.UNKNOWN:rv(_.code);return new it(b,_.message||"")})(d);i=new ov(s,o,h,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Xf(r,s.document.name),h=Ai(s.document.updateTime),d=s.document.createTime?Ai(s.document.createTime):Tt.min(),p=new hn({mapValue:{fields:s.document.fields}}),v=$e.newFoundDocument(o,h,d,p),_=s.targetIds||[],b=s.removedTargetIds||[];i=new ac(_,b,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Xf(r,s.document),h=s.readTime?Ai(s.readTime):Tt.min(),d=$e.newNoDocument(o,h),p=s.removedTargetIds||[];i=new ac([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Xf(r,s.document),h=s.removedTargetIds||[];i=new ac([],h,o,null)}else{if(!("filter"in e))return yt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new pA(o,h),p=s.targetId;i=new lv(p,d)}}return i}function CA(r,e){let i;if(e instanceof co)i={update:I_(r,e.key,e.value)};else if(e instanceof Dc)i={delete:_d(r,e.key)};else if(e instanceof qa)i={update:I_(r,e.key,e.data),updateMask:UA(e.fieldMask)};else{if(!(e instanceof dA))return yt(16599,{Vt:e.type});i={verify:_d(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(h,d){const p=d.transform;if(p instanceof gc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof lo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof oo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof pc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw yt(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:wA(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:yt(27497)})(r,e.precondition)),i}function NA(r,e){return r&&r.length>0?(Ft(e!==void 0,14353),r.map((i=>(function(o,h){let d=o.updateTime?Ai(o.updateTime):Ai(h);return d.isEqual(Tt.min())&&(d=Ai(h)),new cA(d,o.transformResults||[])})(i,e)))):[]}function DA(r,e){return{documents:[hv(r,e.path)]}}function VA(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=hv(r,o);const h=(function(_){if(_.length!==0)return mv(Zn.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((b=>(function(V){return{field:Tr(V.field),direction:OA(V.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=pd(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function IA(r){let e=RA(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Ft(s===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let h=[];i.where&&(h=(function(A){const V=dv(A);return V instanceof Zn&&H0(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((V=>(function(J){return new ro(br(J.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let V;return V=typeof A=="object"?A.value:A,Sc(V)?null:V})(i.limit));let v=null;i.startAt&&(v=(function(A){const V=!!A.before,P=A.values||[];return new mc(P,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const V=!A.before,P=A.values||[];return new mc(P,V)})(i.endAt)),$b(e,o,d,h,p,"F",v,_)}function MA(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function dv(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=br(i.unaryFilter.field);return xe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=br(i.unaryFilter.field);return xe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=br(i.unaryFilter.field);return xe.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=br(i.unaryFilter.field);return xe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return xe.create(br(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Zn.create(i.compositeFilter.filters.map((s=>dv(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(r):yt(30097,{filter:r})}function OA(r){return TA[r]}function zA(r){return bA[r]}function jA(r){return AA[r]}function Tr(r){return{fieldPath:r.canonicalString()}}function br(r){return Fe.fromServerFormat(r.fieldPath)}function mv(r){return r instanceof xe?(function(i){if(i.op==="=="){if(v_(i.value))return{unaryFilter:{field:Tr(i.field),op:"IS_NAN"}};if(__(i.value))return{unaryFilter:{field:Tr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(v_(i.value))return{unaryFilter:{field:Tr(i.field),op:"IS_NOT_NAN"}};if(__(i.value))return{unaryFilter:{field:Tr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tr(i.field),op:zA(i.op),value:i.value}}})(r):r instanceof Zn?(function(i){const s=i.getFilters().map((o=>mv(o)));return s.length===1?s[0]:{compositeFilter:{op:jA(i.op),filters:s}}})(r):yt(54877,{filter:r})}function UA(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function gv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,i,s,o,h=Tt.min(),d=Tt.min(),p=Ye.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new Na(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e){this.yt=e}}function BA(r){const e=IA({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?gd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(){this.Cn=new kA}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(za.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(za.min())}updateCollectionGroup(e,i,s){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class kA{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Me(ee.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Me(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pv=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(pv,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Nr(0)}static cr(){return new Nr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="LruGarbageCollector",qA=1048576;function z_([r,e],[i,s]){const o=Ot(r,i);return o===0?Ot(e,s):o}class HA{constructor(e){this.Ir=e,this.buffer=new Me(z_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();z_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class GA{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){rt(O_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Or(i)?rt(O_,"Ignoring IndexedDB error during garbage collection: ",i):await Mr(i)}await this.Vr(3e5)}))}}class QA{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(Ac.ce);const s=new HA(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(M_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),M_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,h,d,p,v,_;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(s=A,p=Date.now(),this.removeTargets(e,s,i)))).next((A=>(h=A,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((A=>(_=Date.now(),vr()<=Pt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${A} documents in `+(_-v)+`ms
Total Duration: ${_-b}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:A}))))}}function FA(r,e){return new QA(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(){this.changes=new xs((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,$e.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&Jl(s.mutation,o,Tn.empty(),ae.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,zt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=zt()){const o=bs();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((h=>{let d=Gl();return h.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=bs();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,zt())))}populateOverlays(e,i,s){const o=[];return s.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,s,o){let h=Xi();const d=$l(),p=(function(){return $l()})();return i.forEach(((v,_)=>{const b=s.get(_.key);o.has(_.key)&&(b===void 0||b.mutation instanceof qa)?h=h.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),Jl(b.mutation,_,b.mutation.getFieldMask(),ae.now())):d.set(_.key,Tn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>p.set(_,new XA(b,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const s=$l();let o=new oe(((d,p)=>d-p)),h=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let b=s.get(v)||Tn.empty();b=p.applyToLocalView(_,b),s.set(v,b);const A=(o.get(p.batchId)||zt()).add(v);o=o.insert(p.batchId,A)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,b=v.value,A=J0();b.forEach((V=>{if(!h.has(V)){const P=av(i.get(V),s.get(V));P!==null&&A.set(V,P),h=h.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return Z.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Y0(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):Z.resolve(bs());let p=no,v=h;return d.next((_=>Z.forEach(_,((b,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),h.get(b)?Z.resolve():this.remoteDocumentCache.getEntry(e,b).next((V=>{v=v.insert(b,V)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,zt()))).next((b=>({batchId:p,changes:$0(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new gt(i)).next((s=>{let o=Gl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=Gl();return this.indexManager.getCollectionParents(e,h).next((p=>Z.forEach(p,(v=>{const _=(function(A,V){return new zr(V,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next((b=>{b.forEach(((A,V)=>{d=d.insert(A,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o)))).next((d=>{h.forEach(((v,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,$e.newInvalidDocument(b)))}));let p=Gl();return d.forEach(((v,_)=>{const b=h.get(v);b!==void 0&&Jl(b.mutation,_,Tn.empty(),ae.now()),xc(i,_)&&(p=p.insert(v,_))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ai(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:BA(o.bundledQuery),readTime:Ai(o.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(){this.overlays=new oe(gt.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const s=bs();return Z.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&s.set(o,h)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,h)=>{this.St(e,i,h)})),Z.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(s)),Z.resolve()}getOverlaysForCollection(e,i,s){const o=bs(),h=i.length+1,d=new gt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>s&&o.set(v.getKey(),v)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new oe(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let b=h.get(_.largestBatchId);b===null&&(b=bs(),h=h.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const p=bs(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,b)=>p.set(_,b))),!(p.size()>=o)););return Z.resolve(p)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new gA(i,s));let h=this.qr.get(i);h===void 0&&(h=zt(),this.qr.set(i,h)),this.qr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(){this.Qr=new Me(Le.$r),this.Ur=new Me(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Le(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Le(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new gt(new ee([])),s=new Le(i,e),o=new Le(i,e+1),h=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new gt(new ee([])),s=new Le(i,e),o=new Le(i,e+1);let h=zt();return this.Ur.forEachInRange([s,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Le(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Le{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return gt.comparator(e.key,i.key)||Ot(e.Yr,i.Yr)}static Kr(e,i){return Ot(e.Yr,i.Yr)||gt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Le.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new mA(h,i,s,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Le(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),h=o<0?0:o;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Md:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,o],(d=>{const p=this.Xr(d.Yr);h.push(p)})),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Me(Ot);return i.forEach((o=>{const h=new Le(o,0),d=new Le(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(p=>{s=s.add(p.Yr)}))})),Z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;gt.isDocumentKey(h)||(h=h.child(""));const d=new Le(new gt(h),0);let p=new Me(Ot);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(p=p.add(v.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ft(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Z.forEach(i.mutations,(o=>{const h=new Le(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Le(i,0),o=this.Zr.firstAfterOrEqual(s);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e){this.ri=e,this.docs=(function(){return new oe(gt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(e,i){let s=Xi();return i.forEach((o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():$e.newInvalidDocument(o))})),Z.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=Xi();const d=i.path,p=new gt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:b}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Nb(Cb(b),s)<=0||(o.has(b.key)||xc(i,b))&&(h=h.insert(b.key,b.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,s,o){yt(9500)}ii(e,i){return Z.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new eS(this)}getSize(e){return Z.resolve(this.size)}}class eS extends YA{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this.persistence=e,this.si=new xs((i=>jd(i)),Ud),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new Hd,this.targetCount=0,this.ai=Nr.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Nr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),Z.waitFor(h).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return Z.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),Z.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return Z.resolve(s)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,i){this.ui={},this.overlays={},this.ci=new Ac(0),this.li=!1,this.li=!0,this.hi=new JA,this.referenceDelegate=e(this),this.Pi=new nS(this),this.indexManager=new PA,this.remoteDocumentCache=(function(o){return new tS(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new LA(i),this.Ii=new ZA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new $A,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new WA(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){rt("MemoryPersistence","Starting transaction:",e);const o=new iS(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return Z.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class iS extends Vb{constructor(e){super(),this.currentSequenceNumber=e}}class Gd{constructor(e){this.persistence=e,this.Ri=new Hd,this.Vi=null}static mi(e){return new Gd(e)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),Z.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(s=>{const o=gt.fromPath(s);return this.gi(e,o).next((h=>{h||i.removeEntry(o,Tt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class _c{constructor(e,i){this.persistence=e,this.pi=new xs((s=>Ob(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=FA(this,i)}static mi(e,i){return new _c(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((s,o)=>this.br(e,s,o).next((h=>h?Z.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(s++,h.removeEntry(d,Tt.min()))})))).next((()=>h.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ec(e.data.value)),i}br(e,i,s){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=zt(),o=zt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Qd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ZT()?8:Ib(XT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,s).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new aS;return this.Ss(e,i,d).next((p=>{if(h.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>h.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(vr()<=Pt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Er(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(vr()<=Pt.DEBUG&&rt("QueryEngine","Query:",Er(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(vr()<=Pt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Er(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(i))):Z.resolve())}ys(e,i){if(A_(i))return Z.resolve(null);let s=bi(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=gd(i,null,"F"),s=bi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((h=>{const d=zt(...h);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,s).next((v=>{const _=this.Ds(i,p);return this.Cs(i,_,d,v.readTime)?this.ys(e,gd(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,s,o){return A_(i)||o.isEqual(Tt.min())?Z.resolve(null):this.ps.getDocuments(e,s).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,s,o)?Z.resolve(null):(vr()<=Pt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Er(i)),this.vs(e,d,i,xb(o,no)).next((p=>p)))}))}Ds(e,i){let s=new Me(K0(e));return i.forEach(((o,h)=>{xc(e,h)&&(s=s.add(h))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,s){return vr()<=Pt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Er(i)),this.ps.getDocumentsMatchingQuery(e,i,za.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="LocalStore",rS=3e8;class lS{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new oe(Ot),this.xs=new xs((h=>jd(h)),Ud),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function oS(r,e,i,s){return new lS(r,e,i,s)}async function _v(r,e){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((h=>{const d=[],p=[];let v=zt();for(const _ of o){d.push(_.batchId);for(const b of _.mutations)v=v.add(b.key)}for(const _ of h){p.push(_.batchId);for(const b of _.mutations)v=v.add(b.key)}return i.localDocuments.getDocuments(s,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function uS(r,e){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,v,_,b){const A=_.batch,V=A.keys();let P=Z.resolve();return V.forEach((J=>{P=P.next((()=>b.getEntry(v,J))).next((tt=>{const $=_.docVersions.get(J);Ft($!==null,48541),tt.version.compareTo($)<0&&(A.applyToRemoteDocument(tt,_),tt.isValidDocument()&&(tt.setReadTime(_.commitVersion),b.addEntry(tt)))}))})),P.next((()=>p.mutationQueue.removeMutationBatch(v,A)))})(i,s,e,h).next((()=>h.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let v=zt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function vv(r){const e=At(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function cS(r,e){const i=At(r),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((b,A)=>{const V=o.get(A);if(!V)return;p.push(i.Pi.removeMatchingKeys(h,b.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(h,b.addedDocuments,A))));let P=V.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(A)!==null?P=P.withResumeToken(Ye.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):b.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(b.resumeToken,s)),o=o.insert(A,P),(function(tt,$,ut){return tt.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=rS?!0:ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0})(V,P,b)&&p.push(i.Pi.updateTargetData(h,P))}));let v=Xi(),_=zt();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,b))})),p.push(hS(h,d,e.documentUpdates).next((b=>{v=b.ks,_=b.qs}))),!s.isEqual(Tt.min())){const b=i.Pi.getLastRemoteSnapshotVersion(h).next((A=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s)));p.push(b)}return Z.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=o,h)))}function hS(r,e,i){let s=zt(),o=zt();return i.forEach((h=>s=s.add(h))),e.getEntries(r,s).next((h=>{let d=Xi();return i.forEach(((p,v)=>{const _=h.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(Tt.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):rt(Fd,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function fS(r,e){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Md),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function dS(r,e){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((h=>h?(o=h,Z.resolve(o)):i.Pi.allocateTargetId(s).next((d=>(o=new Na(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function Ed(r,e,i){const s=At(r),o=s.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Or(d))throw d;rt(Fd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function j_(r,e,i){const s=At(r);let o=Tt.min(),h=zt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,b){const A=At(v),V=A.xs.get(b);return V!==void 0?Z.resolve(A.Ms.get(V)):A.Pi.getTargetData(_,b)})(s,d,bi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((v=>{h=v}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:Tt.min(),i?h:zt()))).next((p=>(mS(s,Wb(e),p),{documents:p,Qs:h})))))}function mS(r,e,i){let s=r.Os.get(e)||Tt.min();i.forEach(((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),r.Os.set(e,s)}class U_{constructor(){this.activeTargetIds=sA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gS{constructor(){this.Mo=new U_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new U_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="ConnectivityMonitor";class B_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(L_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){rt(L_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju=null;function Td(){return Ju===null?Ju=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ju++,"0x"+Ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="RestConnection",yS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _S{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===fc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,h){const d=Td(),p=this.zo(e,i.toUriEncodedString());rt(Kf,`Sending RPC '${e}' ${d}:`,p,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(p),b=Nd(_);return this.Jo(e,p,v,s,b).then((A=>(rt(Kf,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw wr(Kf,`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",s),A}))}Ho(e,i,s,o,h,d){return this.Go(e,i,s,o,h)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ir})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),s&&s.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const s=yS[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke="WebChannelConnection";class ES extends _S{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,h){const d=Td();return new Promise(((p,v)=>{const _=new b0;_.setWithCredentials(!0),_.listenOnce(A0.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case tc.NO_ERROR:const A=_.getResponseJson();rt(Ke,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),p(A);break;case tc.TIMEOUT:rt(Ke,`RPC '${e}' ${d} timed out`),v(new it(Y.DEADLINE_EXCEEDED,"Request time out"));break;case tc.HTTP_ERROR:const V=_.getStatus();if(rt(Ke,`RPC '${e}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let P=_.getResponseJson();Array.isArray(P)&&(P=P[0]);const J=P==null?void 0:P.error;if(J&&J.status&&J.message){const tt=(function(ut){const ft=ut.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(ft)>=0?ft:Y.UNKNOWN})(J.status);v(new it(tt,J.message))}else v(new it(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new it(Y.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{rt(Ke,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(o);rt(Ke,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",b,s,15)}))}T_(e,i,s){const o=Td(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=R0(),p=w0(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const b=h.join("");rt(Ke,`Creating RPC '${e}' stream ${o}: ${b}`,v);const A=d.createWebChannel(b,v);this.I_(A);let V=!1,P=!1;const J=new vS({Yo:$=>{P?rt(Ke,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(V||(rt(Ke,`Opening RPC '${e}' stream ${o} transport.`),A.open(),V=!0),rt(Ke,`RPC '${e}' stream ${o} sending:`,$),A.send($))},Zo:()=>A.close()}),tt=($,ut,ft)=>{$.listen(ut,(ht=>{try{ft(ht)}catch(_t){setTimeout((()=>{throw _t}),0)}}))};return tt(A,Hl.EventType.OPEN,(()=>{P||(rt(Ke,`RPC '${e}' stream ${o} transport opened.`),J.o_())})),tt(A,Hl.EventType.CLOSE,(()=>{P||(P=!0,rt(Ke,`RPC '${e}' stream ${o} transport closed`),J.a_(),this.E_(A))})),tt(A,Hl.EventType.ERROR,($=>{P||(P=!0,wr(Ke,`RPC '${e}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),J.a_(new it(Y.UNAVAILABLE,"The operation could not be completed")))})),tt(A,Hl.EventType.MESSAGE,($=>{var ut;if(!P){const ft=$.data[0];Ft(!!ft,16349);const ht=ft,_t=(ht==null?void 0:ht.error)||((ut=ht[0])==null?void 0:ut.error);if(_t){rt(Ke,`RPC '${e}' stream ${o} received error:`,_t);const Ct=_t.status;let at=(function(S){const I=Re[S];if(I!==void 0)return rv(I)})(Ct),C=_t.message;at===void 0&&(at=Y.INTERNAL,C="Unknown error status: "+Ct+" with message "+_t.message),P=!0,J.a_(new it(at,C)),A.close()}else rt(Ke,`RPC '${e}' stream ${o} received:`,ft),J.u_(ft)}})),tt(p,S0.STAT_EVENT,($=>{$.stat===od.PROXY?rt(Ke,`RPC '${e}' stream ${o} detected buffering proxy`):$.stat===od.NOPROXY&&rt(Ke,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Zf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(r){return new SA(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&rt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="PersistentStream";class Tv{constructor(e,i,s,o,h,d,p,v){this.Mi=e,this.S_=s,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ev(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(Yi(i.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new it(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return rt(P_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(rt(P_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class TS extends Tv{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=xA(this.serializer,e),s=(function(h){if(!("targetChange"in h))return Tt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?Ai(d.readTime):Tt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=vd(this.serializer),i.addTarget=(function(h,d){let p;const v=d.target;if(p=dd(v)?{documents:DA(h,v)}:{query:VA(h,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=uv(h,d.resumeToken);const _=pd(h,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Tt.min())>0){p.readTime=yc(h,d.snapshotVersion.toTimestamp());const _=pd(h,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const s=MA(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=vd(this.serializer),i.removeTarget=e,this.q_(i)}}class bS extends Tv{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=NA(e.writeResults,e.commitTime),s=Ai(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=vd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>CA(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{}class SS extends AS{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new it(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,yd(i,s),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new it(Y.UNKNOWN,h.toString())}))}Ho(e,i,s,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,yd(i,s),o,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class wS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yi(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="RemoteStore";class RS{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Cs(this)&&(rt(Rs,"Restarting streams for network reachability change."),await(async function(v){const _=At(v);_.Ea.add(4),await fo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Mc(_)})(this))}))})),this.Ra=new wS(s,o)}}async function Mc(r){if(Cs(r))for(const e of r.da)await e(!0)}async function fo(r){for(const e of r.da)await e(!1)}function bv(r,e){const i=At(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Zd(i)?Kd(i):jr(i).O_()&&Xd(i,e))}function Yd(r,e){const i=At(r),s=jr(i);i.Ia.delete(e),s.O_()&&Av(i,e),i.Ia.size===0&&(s.O_()?s.L_():Cs(i)&&i.Ra.set("Unknown"))}function Xd(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}jr(r).Y_(e)}function Av(r,e){r.Va.Ue(e),jr(r).Z_(e)}function Kd(r){r.Va=new EA({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),jr(r).start(),r.Ra.ua()}function Zd(r){return Cs(r)&&!jr(r).x_()&&r.Ia.size>0}function Cs(r){return At(r).Ea.size===0}function Sv(r){r.Va=void 0}async function xS(r){r.Ra.set("Online")}async function CS(r){r.Ia.forEach(((e,i)=>{Xd(r,e)}))}async function NS(r,e){Sv(r),Zd(r)?(r.Ra.ha(e),Kd(r)):r.Ra.set("Unknown")}async function DS(r,e,i){if(r.Ra.set("Online"),e instanceof ov&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const p of h.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(s){rt(Rs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await vc(r,s)}else if(e instanceof ac?r.Va.Ze(e):e instanceof lv?r.Va.st(e):r.Va.tt(e),!i.isEqual(Tt.min()))try{const s=await vv(r.localStore);i.compareTo(s)>=0&&await(function(h,d){const p=h.Va.Tt(d);return p.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const b=h.Ia.get(_);b&&h.Ia.set(_,b.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,_)=>{const b=h.Ia.get(v);if(!b)return;h.Ia.set(v,b.withResumeToken(Ye.EMPTY_BYTE_STRING,b.snapshotVersion)),Av(h,v);const A=new Na(b.target,v,_,b.sequenceNumber);Xd(h,A)})),h.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(s){rt(Rs,"Failed to raise snapshot:",s),await vc(r,s)}}async function vc(r,e,i){if(!Or(e))throw e;r.Ea.add(1),await fo(r),r.Ra.set("Offline"),i||(i=()=>vv(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(Rs,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Mc(r)}))}function wv(r,e){return e().catch((i=>vc(r,i,e)))}async function Oc(r){const e=At(r),i=Ba(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Md;for(;VS(e);)try{const o=await fS(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,IS(e,o)}catch(o){await vc(e,o)}Rv(e)&&xv(e)}function VS(r){return Cs(r)&&r.Ta.length<10}function IS(r,e){r.Ta.push(e);const i=Ba(r);i.O_()&&i.X_&&i.ea(e.mutations)}function Rv(r){return Cs(r)&&!Ba(r).x_()&&r.Ta.length>0}function xv(r){Ba(r).start()}async function MS(r){Ba(r).ra()}async function OS(r){const e=Ba(r);for(const i of r.Ta)e.ea(i.mutations)}async function zS(r,e,i){const s=r.Ta.shift(),o=Pd.from(s,e,i);await wv(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Oc(r)}async function jS(r,e){e&&Ba(r).X_&&await(async function(s,o){if((function(d){return yA(d)&&d!==Y.ABORTED})(o.code)){const h=s.Ta.shift();Ba(s).B_(),await wv(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Oc(s)}})(r,e),Rv(r)&&xv(r)}async function k_(r,e){const i=At(r);i.asyncQueue.verifyOperationInProgress(),rt(Rs,"RemoteStore received new credentials");const s=Cs(i);i.Ea.add(3),await fo(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Mc(i)}async function US(r,e){const i=At(r);e?(i.Ea.delete(2),await Mc(i)):e||(i.Ea.add(2),await fo(i),i.Ra.set("Unknown"))}function jr(r){return r.ma||(r.ma=(function(i,s,o){const h=At(i);return h.sa(),new TS(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:xS.bind(null,r),t_:CS.bind(null,r),r_:NS.bind(null,r),H_:DS.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Zd(r)?Kd(r):r.Ra.set("Unknown")):(await r.ma.stop(),Sv(r))}))),r.ma}function Ba(r){return r.fa||(r.fa=(function(i,s,o){const h=At(i);return h.sa(),new bS(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:MS.bind(null,r),r_:jS.bind(null,r),ta:OS.bind(null,r),na:zS.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Oc(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(Rs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new Ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,p=new $d(e,i,d,o,h);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jd(r,e){if(Yi("AsyncQueue",`${e}: ${r}`),Or(r))return new it(Y.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{static emptySet(e){return new Sr(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||gt.comparator(i.key,s.key):(i,s)=>gt.comparator(i.key,s.key),this.keyedMap=Gl(),this.sortedSet=new oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Sr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Sr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.ga=new oe(gt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):yt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Dr{constructor(e,i,s,o,h,d,p,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Dr(e,i,Sr.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class BS{constructor(){this.queries=H_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=At(i),h=o.queries;o.queries=H_(),h.forEach(((d,p)=>{for(const v of p.Sa)v.onError(s)}))})(this,new it(Y.ABORTED,"Firestore shutting down"))}}function H_(){return new xs((r=>X0(r)),Rc)}async function Cv(r,e){const i=At(r);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(s=2):(h=new LS,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Jd(d,`Initialization of query '${Er(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Wd(i)}async function Nv(r,e){const i=At(r),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function PS(r,e){const i=At(r);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const p of d.Sa)p.Fa(o)&&(s=!0);d.wa=o}}s&&Wd(i)}function kS(r,e,i){const s=At(r),o=s.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);s.queries.delete(e)}function Wd(r){r.Ca.forEach((e=>{e.next()}))}var bd,G_;(G_=bd||(bd={})).Ma="default",G_.Cache="cache";class Dv{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Dr(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Dr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==bd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e){this.key=e}}class Iv{constructor(e){this.key=e}}class qS{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=K0(e),this.tu=new Sr(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new q_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,A)=>{const V=o.get(b),P=xc(this.query,A)?A:null,J=!!V&&this.mutatedKeys.has(V.key),tt=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let $=!1;V&&P?V.data.isEqual(P.data)?J!==tt&&(s.track({type:3,doc:P}),$=!0):this.su(V,P)||(s.track({type:2,doc:P}),$=!0,(v&&this.eu(P,v)>0||_&&this.eu(P,_)<0)&&(p=!0)):!V&&P?(s.track({type:0,doc:P}),$=!0):V&&!P&&(s.track({type:1,doc:V}),$=!0,(v||_)&&(p=!0)),$&&(P?(d=d.add(P),h=tt?h.add(b):h.delete(b)):(d=d.delete(b),h=h.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),h=h.delete(b.key),s.track({type:1,doc:b})}return{tu:d,iu:s,Cs:p,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,A)=>(function(P,J){const tt=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:$})}};return tt(P)-tt(J)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(s),o=o??!1;const p=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Dr(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new q_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=zt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new Iv(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new Vv(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=zt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Dr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const tm="SyncEngine";class HS{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class GS{constructor(e){this.key=e,this.hu=!1}}class QS{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new xs((p=>X0(p)),Rc),this.Iu=new Map,this.Eu=new Set,this.du=new oe(gt.comparator),this.Au=new Map,this.Ru=new Hd,this.Vu={},this.mu=new Map,this.fu=Nr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FS(r,e,i=!0){const s=Lv(r);let o;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await Mv(s,e,i,!0),o}async function YS(r,e){const i=Lv(r);await Mv(i,e,!0,!1)}async function Mv(r,e,i,s){const o=await dS(r.localStore,bi(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let p;return s&&(p=await XS(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&bv(r.remoteStore,o),p}async function XS(r,e,i,s,o){r.pu=(A,V,P)=>(async function(tt,$,ut,ft){let ht=$.view.ru(ut);ht.Cs&&(ht=await j_(tt.localStore,$.query,!1).then((({documents:C})=>$.view.ru(C,ht))));const _t=ft&&ft.targetChanges.get($.targetId),Ct=ft&&ft.targetMismatches.get($.targetId)!=null,at=$.view.applyChanges(ht,tt.isPrimaryClient,_t,Ct);return F_(tt,$.targetId,at.au),at.snapshot})(r,A,V,P);const h=await j_(r.localStore,e,!0),d=new qS(e,h.Qs),p=d.ru(h.documents),v=ho.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),_=d.applyChanges(p,r.isPrimaryClient,v);F_(r,i,_.au);const b=new HS(e,i,d);return r.Tu.set(e,b),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function KS(r,e,i){const s=At(r),o=s.Tu.get(e),h=s.Iu.get(o.targetId);if(h.length>1)return s.Iu.set(o.targetId,h.filter((d=>!Rc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ed(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Yd(s.remoteStore,o.targetId),Ad(s,o.targetId)})).catch(Mr)):(Ad(s,o.targetId),await Ed(s.localStore,o.targetId,!0))}async function ZS(r,e){const i=At(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Yd(i.remoteStore,s.targetId))}async function $S(r,e,i){const s=aw(r);try{const o=await(function(d,p){const v=At(d),_=ae.now(),b=p.reduce(((P,J)=>P.add(J.key)),zt());let A,V;return v.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let J=Xi(),tt=zt();return v.Ns.getEntries(P,b).next(($=>{J=$,J.forEach(((ut,ft)=>{ft.isValidDocument()||(tt=tt.add(ut))}))})).next((()=>v.localDocuments.getOverlayedDocuments(P,J))).next(($=>{A=$;const ut=[];for(const ft of p){const ht=fA(ft,A.get(ft.key).overlayedDocument);ht!=null&&ut.push(new qa(ft.key,ht,P0(ht.value.mapValue),en.exists(!0)))}return v.mutationQueue.addMutationBatch(P,_,ut,p)})).next(($=>{V=$;const ut=$.applyToLocalDocumentSet(A,tt);return v.documentOverlayCache.saveOverlays(P,$.batchId,ut)}))})).then((()=>({batchId:V.batchId,changes:$0(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,p,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new oe(Ot)),_=_.insert(p,v),d.Vu[d.currentUser.toKey()]=_})(s,o.batchId,i),await mo(s,o.changes),await Oc(s.remoteStore)}catch(o){const h=Jd(o,"Failed to persist write");i.reject(h)}}async function Ov(r,e){const i=At(r);try{const s=await cS(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ft(d.hu,14607):o.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await mo(i,s,e)}catch(s){await Mr(s)}}function Q_(r,e,i){const s=At(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((h,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const v=At(d);v.onlineState=p;let _=!1;v.queries.forEach(((b,A)=>{for(const V of A.Sa)V.va(p)&&(_=!0)})),_&&Wd(v)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function JS(r,e,i){const s=At(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),h=o&&o.key;if(h){let d=new oe(gt.comparator);d=d.insert(h,$e.newNoDocument(h,Tt.min()));const p=zt().add(h),v=new Vc(Tt.min(),new Map,new oe(Ot),d,p);await Ov(s,v),s.du=s.du.remove(h),s.Au.delete(e),em(s)}else await Ed(s.localStore,e,!1).then((()=>Ad(s,e,i))).catch(Mr)}async function WS(r,e){const i=At(r),s=e.batch.batchId;try{const o=await uS(i.localStore,e);jv(i,s,null),zv(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await mo(i,o)}catch(o){await Mr(o)}}async function tw(r,e,i){const s=At(r);try{const o=await(function(d,p){const v=At(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return v.mutationQueue.lookupMutationBatch(_,p).next((A=>(Ft(A!==null,37113),b=A.keys(),v.mutationQueue.removeMutationBatch(_,A)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,b,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>v.localDocuments.getDocuments(_,b)))}))})(s.localStore,e);jv(s,e,i),zv(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await mo(s,o)}catch(o){await Mr(o)}}function zv(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function jv(r,e,i){const s=At(r);let o=s.Vu[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Ad(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||Uv(r,s)}))}function Uv(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Yd(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),em(r))}function F_(r,e,i){for(const s of i)s instanceof Vv?(r.Ru.addReference(s.key,e),ew(r,s)):s instanceof Iv?(rt(tm,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||Uv(r,s.key)):yt(19791,{wu:s})}function ew(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(rt(tm,"New document in limbo: "+i),r.Eu.add(s),em(r))}function em(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new gt(ee.fromString(e)),s=r.fu.next();r.Au.set(s,new GS(i)),r.du=r.du.insert(i,s),bv(r.remoteStore,new Na(bi(Ld(i.path)),s,"TargetPurposeLimboResolution",Ac.ce))}}async function mo(r,e,i){const s=At(r),o=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,v)=>{d.push(s.pu(v,e,i).then((_=>{var b;if((_||i)&&s.isPrimaryClient){const A=_?!_.fromCache:(b=i==null?void 0:i.targetChanges.get(v.targetId))==null?void 0:b.current;s.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){o.push(_);const A=Qd.As(v.targetId,_);h.push(A)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(v,_){const b=At(v);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Z.forEach(_,(V=>Z.forEach(V.Es,(P=>b.persistence.referenceDelegate.addReference(A,V.targetId,P))).next((()=>Z.forEach(V.ds,(P=>b.persistence.referenceDelegate.removeReference(A,V.targetId,P)))))))))}catch(A){if(!Or(A))throw A;rt(Fd,"Failed to update sequence numbers: "+A)}for(const A of _){const V=A.targetId;if(!A.fromCache){const P=b.Ms.get(V),J=P.snapshotVersion,tt=P.withLastLimboFreeSnapshotVersion(J);b.Ms=b.Ms.insert(V,tt)}}})(s.localStore,h))}async function nw(r,e){const i=At(r);if(!i.currentUser.isEqual(e)){rt(tm,"User change. New user:",e.toKey());const s=await _v(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((p=>{p.forEach((v=>{v.reject(new it(Y.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await mo(i,s.Ls)}}function iw(r,e){const i=At(r),s=i.Au.get(e);if(s&&s.hu)return zt().add(s.key);{let o=zt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function Lv(r){const e=At(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ov.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JS.bind(null,e),e.Pu.H_=PS.bind(null,e.eventManager),e.Pu.yu=kS.bind(null,e.eventManager),e}function aw(r){const e=At(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tw.bind(null,e),e}class Ec{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ic(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return oS(this.persistence,new sS,e.initialUser,this.serializer)}Cu(e){return new yv(Gd.mi,this.serializer)}Du(e){return new gS}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ec.provider={build:()=>new Ec};class sw extends Ec{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ft(this.persistence.referenceDelegate instanceof _c,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new GA(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new yv((s=>_c.mi(s,i)),this.serializer)}}class Sd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Q_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=nw.bind(null,this.syncEngine),await US(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new BS})()}createDatastore(e){const i=Ic(e.databaseInfo.databaseId),s=(function(h){return new ES(h)})(e.databaseInfo);return(function(h,d,p,v){return new SS(h,d,p,v)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,h,d,p){return new RS(s,o,h,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>Q_(this.syncEngine,i,0)),(function(){return B_.v()?new B_:new pS})())}createSyncEngine(e,i){return(function(o,h,d,p,v,_,b){const A=new QS(o,h,d,p,v,_);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const h=At(o);rt(Rs,"RemoteStore shutting down."),h.Ea.add(5),await fo(h),h.Aa.shutdown(),h.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}Sd.provider={build:()=>new Sd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Yi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="FirestoreClient";class rw{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ze.UNAUTHENTICATED,this.clientId=Id.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async d=>{rt(Pa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(rt(Pa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Jd(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function $f(r,e){r.asyncQueue.verifyOperationInProgress(),rt(Pa,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await _v(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Y_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await lw(r);rt(Pa,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>k_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>k_(e.remoteStore,o))),r._onlineComponents=e}async function lw(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(Pa,"Using user provided OfflineComponentProvider");try{await $f(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;wr("Error using user provided cache. Falling back to memory cache: "+i),await $f(r,new Ec)}}else rt(Pa,"Using default OfflineComponentProvider"),await $f(r,new sw(void 0));return r._offlineComponents}async function Pv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(Pa,"Using user provided OnlineComponentProvider"),await Y_(r,r._uninitializedComponentsProvider._online)):(rt(Pa,"Using default OnlineComponentProvider"),await Y_(r,new Sd))),r._onlineComponents}function ow(r){return Pv(r).then((e=>e.syncEngine))}async function wd(r){const e=await Pv(r),i=e.eventManager;return i.onListen=FS.bind(null,e.syncEngine),i.onUnlisten=KS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=YS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=ZS.bind(null,e.syncEngine),i}function uw(r,e,i={}){const s=new Ma;return r.asyncQueue.enqueueAndForget((async()=>(function(h,d,p,v,_){const b=new Bv({next:V=>{b.Nu(),d.enqueueAndForget((()=>Nv(h,A))),V.fromCache&&v.source==="server"?_.reject(new it(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(V)},error:V=>_.reject(V)}),A=new Dv(p,b,{includeMetadataChanges:!0,qa:!0});return Cv(h,A)})(await wd(r),r.asyncQueue,e,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="firestore.googleapis.com",K_=!0;class Z_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new it(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qv,this.ssl=K_}else this.host=e.host,this.ssl=e.ssl??K_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qA)throw new it(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Rb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kv(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new it(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new it(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new it(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new it(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new pb;switch(s.type){case"firstParty":return new Eb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new it(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=X_.get(i);s&&(rt("ComponentProvider","Removing Datastore"),X_.delete(i),s.terminate())})(this),Promise.resolve()}}function cw(r,e,i,s={}){var _;r=bn(r,zc);const o=Nd(e),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;o&&(HT(`https://${p}`),YT("Firestore",!0)),h.host!==qv&&h.host!==p&&wr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:p,ssl:o,emulatorOptions:s};if(!oc(v,d)&&(r._setSettings(v),s.mockUserToken)){let b,A;if(typeof s.mockUserToken=="string")b=s.mockUserToken,A=Ze.MOCK_USER;else{b=GT(s.mockUserToken,(_=r._app)==null?void 0:_.options.projectId);const V=s.mockUserToken.sub||s.mockUserToken.user_id;if(!V)throw new it(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ze(V)}r._authCredentials=new yb(new C0(b,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ha(this.firestore,e,this._query)}}class pe{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pe(this.firestore,e,this._key)}toJSON(){return{type:pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(uo(i,pe._jsonSchema))return new pe(e,s||null,new gt(ee.fromString(i.referencePath)))}}pe._jsonSchemaVersion="firestore/documentReference/1.0",pe._jsonSchema={type:Ce("string",pe._jsonSchemaVersion),referencePath:Ce("string")};class Oa extends Ha{constructor(e,i,s){super(e,i,Ld(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pe(this.firestore,null,new gt(e))}withConverter(e){return new Oa(this.firestore,e,this._path)}}function Ti(r,e,...i){if(r=Un(r),N0("collection","path",e),r instanceof zc){const s=ee.fromString(e,...i);return u_(s),new Oa(r,null,s)}{if(!(r instanceof pe||r instanceof Oa))throw new it(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(e,...i));return u_(s),new Oa(r.firestore,null,s)}}function vi(r,e,...i){if(r=Un(r),arguments.length===1&&(e=Id.newId()),N0("doc","path",e),r instanceof zc){const s=ee.fromString(e,...i);return o_(s),new pe(r,null,new gt(s))}{if(!(r instanceof pe||r instanceof Oa))throw new it(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(e,...i));return o_(s),new pe(r.firestore,r instanceof Oa?r.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="AsyncQueue";class J_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ev(this,"async_queue_retry"),this._c=()=>{const s=Zf();s&&rt($_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Zf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Zf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ma;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Or(e))throw e;rt($_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Yi("INTERNAL UNHANDLED ERROR: ",W_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=$d.createAndSchedule(this,e,i,s,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:W_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function W_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of s)if(h in o&&typeof o[h]=="function")return!0;return!1})(r,["next","error","complete"])}class Ki extends zc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new J_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new J_(e),this._firestoreClient=void 0,await e}}}function hw(r,e){const i=typeof r=="object"?r:ib(),s=typeof r=="string"?r:fc,o=J2(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=kT("firestore");h&&cw(o,...h)}return o}function jc(r){if(r._terminated)throw new it(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||fw(r),r._firestoreClient}function fw(r){var s,o,h;const e=r._freezeSettings(),i=(function(p,v,_,b){return new Ub(p,v,_,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,kv(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((h=e.localCache)!=null&&h._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new rw(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(p){const v=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(v),_online:v}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn(Ye.fromBase64String(e))}catch(i){throw new it(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new jn(Ye.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(uo(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Ce("string",jn._jsonSchemaVersion),bytes:Ce("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new it(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new it(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new it(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Si._jsonSchemaVersion}}static fromJSON(e){if(uo(e,Si._jsonSchema))return new Si(e.latitude,e.longitude)}}Si._jsonSchemaVersion="firestore/geoPoint/1.0",Si._jsonSchema={type:Ce("string",Si._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(uo(e,wi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new wi(e.vectorValues);throw new it(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:Ce("string",wi._jsonSchemaVersion),vectorValues:Ce("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=/^__.*__$/;class mw{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new qa(e,this.data,this.fieldMask,i,this.fieldTransforms):new co(e,this.data,i,this.fieldTransforms)}}class Hv{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new qa(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Gv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:r})}}class im{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new im({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Tc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Gv(this.Ac)&&dw.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class gw{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Ic(e)}Cc(e,i,s,o=!1){return new im({Ac:e,methodName:i,Dc:s,path:Fe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function po(r){const e=r._freezeSettings(),i=Ic(r._databaseId);return new gw(r._databaseId,!!e.ignoreUndefinedProperties,i)}function am(r,e,i,s,o,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,e,i,o);sm("Data must be an object, but it was:",d,s);const p=Yv(s,d);let v,_;if(h.merge)v=new Tn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const b=[];for(const A of h.mergeFields){const V=Rd(e,A,i);if(!d.contains(V))throw new it(Y.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);Kv(b,V)||b.push(V)}v=new Tn(b),_=d.fieldTransforms.filter((A=>v.covers(A.field)))}else v=null,_=d.fieldTransforms;return new mw(new hn(p),v,_)}class Uc extends nm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uc}}function Qv(r,e,i,s){const o=r.Cc(1,e,i);sm("Data must be an object, but it was:",o,s);const h=[],d=hn.empty();ka(s,((v,_)=>{const b=rm(e,v,i);_=Un(_);const A=o.yc(b);if(_ instanceof Uc)h.push(b);else{const V=yo(_,A);V!=null&&(h.push(b),d.set(b,V))}}));const p=new Tn(h);return new Hv(d,p,o.fieldTransforms)}function Fv(r,e,i,s,o,h){const d=r.Cc(1,e,i),p=[Rd(e,s,i)],v=[o];if(h.length%2!=0)throw new it(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<h.length;V+=2)p.push(Rd(e,h[V])),v.push(h[V+1]);const _=[],b=hn.empty();for(let V=p.length-1;V>=0;--V)if(!Kv(_,p[V])){const P=p[V];let J=v[V];J=Un(J);const tt=d.yc(P);if(J instanceof Uc)_.push(P);else{const $=yo(J,tt);$!=null&&(_.push(P),b.set(P,$))}}const A=new Tn(_);return new Hv(b,A,d.fieldTransforms)}function pw(r,e,i,s=!1){return yo(i,r.Cc(s?4:3,e))}function yo(r,e){if(Xv(r=Un(r)))return sm("Unsupported field value:",e,r),Yv(r,e);if(r instanceof nm)return(function(s,o){if(!Gv(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const h=[];let d=0;for(const p of s){let v=yo(p,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(r,e)}return(function(s,o){if((s=Un(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return rA(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=ae.fromDate(s);return{timestampValue:yc(o.serializer,h)}}if(s instanceof ae){const h=new ae(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:yc(o.serializer,h)}}if(s instanceof Si)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof jn)return{bytesValue:uv(o.serializer,s._byteString)};if(s instanceof pe){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:qd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof wi)return(function(d,p){return{mapValue:{fields:{[L0]:{stringValue:B0},[dc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Bd(p.serializer,_)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${bc(s)}`)})(r,e)}function Yv(r,e){const i={};return I0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ka(r,((s,o)=>{const h=yo(o,e.mc(s));h!=null&&(i[s]=h)})),{mapValue:{fields:i}}}function Xv(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ae||r instanceof Si||r instanceof jn||r instanceof pe||r instanceof nm||r instanceof wi)}function sm(r,e,i){if(!Xv(i)||!D0(i)){const s=bc(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Rd(r,e,i){if((e=Un(e))instanceof go)return e._internalPath;if(typeof e=="string")return rm(r,e);throw Tc("Field path arguments must be of type string or ",r,!1,void 0,i)}const yw=new RegExp("[~\\*/\\[\\]]");function rm(r,e,i){if(e.search(yw)>=0)throw Tc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new go(...e.split("."))._internalPath}catch{throw Tc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Tc(r,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${s}`),d&&(v+=` in document ${o}`),v+=")"),new it(Y.INVALID_ARGUMENT,p+r+v)}function Kv(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _w(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(lm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class _w extends Zv{data(){return super.data()}}function lm(r,e){return typeof e=="string"?rm(r,e):e instanceof go?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new it(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class om{}class Jv extends om{}function Jf(r,e,...i){let s=[];e instanceof om&&s.push(e),s=s.concat(i),(function(h){const d=h.filter((v=>v instanceof cm)).length,p=h.filter((v=>v instanceof um)).length;if(d>1||d>0&&p>0)throw new it(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class um extends Jv{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new um(e,i,s)}_apply(e){const i=this._parse(e);return Wv(e._query,i),new Ha(e.firestore,e.converter,md(e._query,i))}_parse(e){const i=po(e.firestore);return(function(h,d,p,v,_,b,A){let V;if(_.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new it(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){n0(A,b);const J=[];for(const tt of A)J.push(e0(v,h,tt));V={arrayValue:{values:J}}}else V=e0(v,h,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||n0(A,b),V=pw(p,d,A,b==="in"||b==="not-in");return xe.create(_,b,V)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class cm extends om{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new cm(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Zn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const p=h.getFlattenedFilters();for(const v of p)Wv(d,v),d=md(d,v)})(e._query,i),new Ha(e.firestore,e.converter,md(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class hm extends Jv{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new hm(e,i)}_apply(e){const i=(function(o,h,d){if(o.startAt!==null)throw new it(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new it(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ro(h,d)})(e._query,this._field,this._direction);return new Ha(e.firestore,e.converter,(function(o,h){const d=o.explicitOrderBy.concat([h]);return new zr(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function Wf(r,e="asc"){const i=e,s=lm("orderBy",r);return hm._create(s,i)}function e0(r,e,i){if(typeof(i=Un(i))=="string"){if(i==="")throw new it(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Y0(e)&&i.indexOf("/")!==-1)throw new it(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(ee.fromString(i));if(!gt.isDocumentKey(s))throw new it(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return y_(r,new gt(s))}if(i instanceof pe)return y_(r,i._key);throw new it(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bc(i)}.`)}function n0(r,e){if(!Array.isArray(r)||r.length===0)throw new it(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Wv(r,e){const i=(function(o,h){for(const d of o)for(const p of d.getFlattenedFilters())if(h.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new it(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new it(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class vw{convertValue(e,i="none"){switch(La(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw yt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return ka(e,((o,h)=>{s[o]=this.convertValue(h,i)})),s}convertVectorValue(e){var s,o,h;const i=(h=(o=(s=e.fields)==null?void 0:s[dc].arrayValue)==null?void 0:o.values)==null?void 0:h.map((d=>ge(d.doubleValue)));return new wi(i)}convertGeoPoint(e){return new Si(ge(e.latitude),ge(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=wc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(io(e));default:return null}}convertTimestamp(e){const i=ja(e);return new ae(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ee.fromString(e);Ft(gv(s),9688,{name:e});const o=new ao(s.get(1),s.get(3)),h=new gt(s.popFirst(5));return o.isEqual(i)||Yi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(r,e,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,s}class Fl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class As extends Zv{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(lm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=As._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}As._jsonSchemaVersion="firestore/documentSnapshot/1.0",As._jsonSchema={type:Ce("string",As._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class sc extends As{data(e={}){return super.data(e)}}class Ss{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Fl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new sc(this._firestore,this._userDataWriter,s.key,s,new Fl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const v=new sc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Fl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const v=new sc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Fl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,b=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:Ew(p.type),doc:v,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ss._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Id.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Ew(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}Ss._jsonSchemaVersion="firestore/querySnapshot/1.0",Ss._jsonSchema={type:Ce("string",Ss._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class dm extends vw{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new pe(this.firestore,null,i)}}function i0(r){r=bn(r,Ha);const e=bn(r.firestore,Ki),i=jc(e),s=new dm(e);return $v(r._query),uw(i,r._query).then((o=>new Ss(e,s,r,o)))}function Tw(r,e,i){r=bn(r,pe);const s=bn(r.firestore,Ki),o=fm(r.converter,e,i);return _o(s,[am(po(s),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,en.none())])}function td(r,e,i,...s){r=bn(r,pe);const o=bn(r.firestore,Ki),h=po(o);let d;return d=typeof(e=Un(e))=="string"||e instanceof go?Fv(h,"updateDoc",r._key,e,i,s):Qv(h,"updateDoc",r._key,e),_o(o,[d.toMutation(r._key,en.exists(!0))])}function a0(r){return _o(bn(r.firestore,Ki),[new Dc(r._key,en.none())])}function rc(r,e){const i=bn(r.firestore,Ki),s=vi(r),o=fm(r.converter,e);return _o(i,[am(po(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,en.exists(!1))]).then((()=>s))}function Wu(r,...e){var v,_,b;r=Un(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||t0(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(t0(e[s])){const A=e[s];e[s]=(v=A.next)==null?void 0:v.bind(A),e[s+1]=(_=A.error)==null?void 0:_.bind(A),e[s+2]=(b=A.complete)==null?void 0:b.bind(A)}let h,d,p;if(r instanceof pe)d=bn(r.firestore,Ki),p=Ld(r._key.path),h={next:A=>{e[s]&&e[s](bw(d,r,A))},error:e[s+1],complete:e[s+2]};else{const A=bn(r,Ha);d=bn(A.firestore,Ki),p=A._query;const V=new dm(d);h={next:P=>{e[s]&&e[s](new Ss(d,V,A,P))},error:e[s+1],complete:e[s+2]},$v(r._query)}return(function(V,P,J,tt){const $=new Bv(tt),ut=new Dv(P,$,J);return V.asyncQueue.enqueueAndForget((async()=>Cv(await wd(V),ut))),()=>{$.Nu(),V.asyncQueue.enqueueAndForget((async()=>Nv(await wd(V),ut)))}})(jc(d),p,o,h)}function _o(r,e){return(function(s,o){const h=new Ma;return s.asyncQueue.enqueueAndForget((async()=>$S(await ow(s),o,h))),h.promise})(jc(r),e)}function bw(r,e,i){const s=i.docs.get(e._key),o=new dm(r);return new As(r,o,e._key,s,new Fl(i.hasPendingWrites,i.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=po(e)}set(e,i,s){this._verifyNotCommitted();const o=ed(e,this._firestore),h=fm(o.converter,i,s),d=am(this._dataReader,"WriteBatch.set",o._key,h,o.converter!==null,s);return this._mutations.push(d.toMutation(o._key,en.none())),this}update(e,i,s,...o){this._verifyNotCommitted();const h=ed(e,this._firestore);let d;return d=typeof(i=Un(i))=="string"||i instanceof go?Fv(this._dataReader,"WriteBatch.update",h._key,i,s,o):Qv(this._dataReader,"WriteBatch.update",h._key,i),this._mutations.push(d.toMutation(h._key,en.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=ed(e,this._firestore);return this._mutations=this._mutations.concat(new Dc(i._key,en.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new it(Y.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ed(r,e){if((r=Un(r)).firestore!==e)throw new it(Y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(r){return jc(r=bn(r,Ki)),new Aw(r,(e=>_o(r,e)))}(function(e,i=!0){(function(o){Ir=o})(nb),cc(new to("firestore",((s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),p=new Ki(new _b(s.getProvider("auth-internal")),new Tb(d,s.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new it(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ao(_.options.projectId,b)})(d,o),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),Ar(a_,s_,e),Ar(a_,s_,"esm2020")})();const Sw={apiKey:"AIzaSyDgBhuDaAeEdRK_JRSvtINSrRoRF1DX7MM",authDomain:"farm-alg.firebaseapp.com",projectId:"farm-alg",storageBucket:"farm-alg.firebasestorage.app",messagingSenderId:"1031050662811",appId:"1:1031050662811:web:4b25b99e5e25f99fa9073e"},ww=_0(Sw),Ie=hw(ww),Rw=async()=>{const r=Ti(Ie,"rooms");if((await i0(r)).empty){console.log("Seeding initial room data to Firestore...");const o=[{name:"",printers:90},{name:"",printers:130},{name:"_2",printers:60},{name:"",printers:30},{name:"",printers:150}],h=t1(Ie);o.forEach(d=>{const p=vi(Ti(Ie,"rooms"));h.set(p,d)}),await h.commit()}const i=Ti(Ie,"detailSpecs");(await i0(i)).empty&&(console.log("Seeding initial empty detailSpecs collection."),await rc(i,{name:" ",partsPerPlate:10}))},xw=()=>{const[r,e]=Et.useState([]),[i,s]=Et.useState([]),[o,h]=Et.useState([]),[d,p]=Et.useState([]),[v,_]=Et.useState({rows:[]}),[b,A]=Et.useState(!0);Et.useEffect(()=>{const at=[];return(async()=>{await Rw();const R=Jf(Ti(Ie,"rooms"),Wf("name"));at.push(Wu(R,M=>{const w=M.docs.map(st=>({...st.data(),id:st.id}));e(w),b&&A(!1)},M=>{console.error("Error fetching rooms: ",M),b&&A(!1)}));const S=Jf(Ti(Ie,"archivedPlans"),Wf("archivedAt","desc"));at.push(Wu(S,M=>{const w=M.docs.map(st=>({...st.data(),id:st.id}));h(w)},M=>{console.error("Error fetching archived plans: ",M)}));const I=Jf(Ti(Ie,"detailSpecs"),Wf("name"));at.push(Wu(I,M=>{const w=M.docs.map(st=>({...st.data(),id:st.id}));s(w)},M=>{console.error("Error fetching detail specs: ",M)}));const N=vi(Ie,"calculatorState","main");at.push(Wu(N,M=>{M.exists()?_(M.data()):_({rows:[{id:`calc-${Date.now()}`,detailSpecId:null,orderQuantity:0}]})},M=>{console.error("Error fetching calculator state: ",M)}))})().catch(R=>{console.error("Initialization failed:",R),A(!1)}),()=>{at.forEach(R=>R())}},[]),Et.useEffect(()=>{const at=new Date,C=at.getFullYear(),R=(at.getMonth()+1).toString().padStart(2,"0"),S=at.getDate().toString().padStart(2,"0"),I=`${C}-${R}-${S}`,N=o.filter(M=>M.plan.date===I);p(N)},[o]);const V=Et.useCallback(async at=>{const{id:C,...R}=at,S=vi(Ie,"rooms",C);await td(S,R)},[]),P=Et.useCallback(async at=>{await rc(Ti(Ie,"rooms"),at)},[]),J=Et.useCallback(async at=>{await a0(vi(Ie,"rooms",at))},[]),tt=Et.useCallback(async at=>{await rc(Ti(Ie,"detailSpecs"),at)},[]),$=Et.useCallback(async at=>{if(at.length===0)return;const C=t1(Ie);at.forEach(R=>{const S=vi(Ti(Ie,"detailSpecs"));C.set(S,R)}),await C.commit()},[]),ut=Et.useCallback(async at=>{const{id:C,...R}=at,S=vi(Ie,"detailSpecs",C);await td(S,R)},[]),ft=Et.useCallback(async at=>{await a0(vi(Ie,"detailSpecs",at))},[]),ht=Et.useCallback(async at=>{const C={plan:at,archivedAt:new Date().toISOString(),actuals:{}};await rc(Ti(Ie,"archivedPlans"),C)},[]),_t=Et.useCallback(async(at,C,R,S)=>{const I=vi(Ie,"archivedPlans",at),N=`actuals.${C}.${R}`;await td(I,{[N]:S}).catch(M=>console.error("Failed to update actual printers: ",M))},[]),Ct=Et.useCallback(async at=>{const C=vi(Ie,"calculatorState","main");await Tw(C,at)},[]);return{rooms:r,updateRoom:V,addRoom:P,deleteRoom:J,detailSpecs:i,addDetailSpec:tt,addMultipleDetailSpecs:$,updateDetailSpec:ut,deleteDetailSpec:ft,archivedPlans:o,createPlan:ht,todayPlans:d,updateActualPrinters:_t,calculatorState:v,updateCalculatorState:Ct,loading:b}},Cw=()=>{const[r,e]=Et.useState("planner"),i=xw(),s=()=>{switch(r){case"planner":return x.jsx(Qy,{...i});case"current_plan":return x.jsx(NT,{todayPlans:i.todayPlans,updateActualPrinters:i.updateActualPrinters});case"setup":return x.jsx(xT,{...i});case"archive":return x.jsx(CT,{archivedPlans:i.archivedPlans});case"calculator":return x.jsx(DT,{detailSpecs:i.detailSpecs,calculatorState:i.calculatorState,updateCalculatorState:i.updateCalculatorState});default:return x.jsx(Qy,{...i})}},o=({view:h,label:d,icon:p})=>x.jsxs("button",{onClick:()=>e(h),title:d,className:`flex items-center gap-2 p-2 md:px-4 md:py-2 text-sm font-medium rounded-md transition-colors ${r===h?"bg-blue-600 text-white":"text-gray-400 hover:bg-gray-700 hover:text-white"}`,children:[x.jsx(p,{className:"w-5 h-5"}),x.jsx("span",{className:"hidden md:inline",children:d})]});return x.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-200 flex flex-col",children:[x.jsx("header",{className:"bg-gray-800 shadow-md",children:x.jsxs("div",{className:"container mx-auto px-4 py-3 flex flex-wrap justify-between items-center gap-y-2",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(lT,{className:"w-8 h-8 text-blue-500"}),x.jsxs("h1",{className:"text-lg sm:text-xl font-bold text-white whitespace-nowrap",children:["3D Print Farm ",x.jsx("span",{className:"hidden sm:inline",children:"Planner"})]})]}),x.jsxs("nav",{className:"flex items-center gap-2 p-1 bg-gray-900 rounded-lg",children:[x.jsx(o,{view:"planner",label:"",icon:nT}),x.jsx(o,{view:"current_plan",label:" ",icon:c0}),x.jsx(o,{view:"calculator",label:"",icon:l0}),x.jsx(o,{view:"setup",label:"",icon:fT}),x.jsx(o,{view:"archive",label:"",icon:ZE})]})]})}),x.jsx("main",{className:"flex-grow container mx-auto p-4 md:p-6 flex",children:i.loading?x.jsxs("div",{className:"flex-grow flex flex-col justify-center items-center h-full text-center",children:[x.jsx(aT,{className:"w-16 h-16 text-blue-500 animate-spin mb-4"}),x.jsx("h2",{className:"text-2xl font-semibold text-white",children:" ..."}),x.jsx("p",{className:"text-gray-400 mt-2",children:"   .     ."})]}):x.jsx("div",{className:"w-full",children:s()})}),x.jsx("footer",{className:"text-center py-4 text-gray-600 text-sm border-t border-gray-700",children:x.jsxs("p",{children:[" ",new Date().getFullYear()," 3D Print Farm Planner"]})})]})},e1=document.getElementById("root");if(!e1)throw new Error("Could not find root element to mount to");const Nw=HE.createRoot(e1);Nw.render(x.jsx(zE.StrictMode,{children:x.jsx(Cw,{})}));
