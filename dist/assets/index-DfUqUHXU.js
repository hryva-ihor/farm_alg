(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function Fb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var kd={exports:{}},pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function Gb(){if(X_)return pl;X_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:u}}return pl.Fragment=t,pl.jsx=i,pl.jsxs=i,pl}var $_;function Qb(){return $_||($_=1,kd.exports=Gb()),kd.exports}var w=Qb(),Pd={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function Yb(){if(Z_)return St;Z_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),x=Symbol.iterator;function U(k){return k===null||typeof k!="object"?null:(k=x&&k[x]||k["@@iterator"],typeof k=="function"?k:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,J={};function rt(k,X,nt){this.props=k,this.context=X,this.refs=J,this.updater=nt||W}rt.prototype.isReactComponent={},rt.prototype.setState=function(k,X){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,X,"setState")},rt.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function ct(){}ct.prototype=rt.prototype;function ft(k,X,nt){this.props=k,this.context=X,this.refs=J,this.updater=nt||W}var Et=ft.prototype=new ct;Et.constructor=ft,Z(Et,rt.prototype),Et.isPureReactComponent=!0;var st=Array.isArray;function dt(){}var N={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function S(k,X,nt){var ot=nt.ref;return{$$typeof:s,type:k,key:X,ref:ot!==void 0?ot:null,props:nt}}function O(k,X){return S(k.type,X,k.props)}function C(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function M(k){var X={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(nt){return X[nt]})}var R=/\/+/g;function ut(k,X){return typeof k=="object"&&k!==null&&k.key!=null?M(""+k.key):X.toString(36)}function xt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(dt,dt):(k.status="pending",k.then(function(X){k.status==="pending"&&(k.status="fulfilled",k.value=X)},function(X){k.status==="pending"&&(k.status="rejected",k.reason=X)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function F(k,X,nt,ot,bt){var Ct=typeof k;(Ct==="undefined"||Ct==="boolean")&&(k=null);var zt=!1;if(k===null)zt=!0;else switch(Ct){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(k.$$typeof){case s:case t:zt=!0;break;case T:return zt=k._init,F(zt(k._payload),X,nt,ot,bt)}}if(zt)return bt=bt(k),zt=ot===""?"."+ut(k,0):ot,st(bt)?(nt="",zt!=null&&(nt=zt.replace(R,"$&/")+"/"),F(bt,X,nt,"",function(or){return or})):bt!=null&&(C(bt)&&(bt=O(bt,nt+(bt.key==null||k&&k.key===bt.key?"":(""+bt.key).replace(R,"$&/")+"/")+zt)),X.push(bt)),1;zt=0;var Oe=ot===""?".":ot+":";if(st(k))for(var ae=0;ae<k.length;ae++)ot=k[ae],Ct=Oe+ut(ot,ae),zt+=F(ot,X,nt,Ct,bt);else if(ae=U(k),typeof ae=="function")for(k=ae.call(k),ae=0;!(ot=k.next()).done;)ot=ot.value,Ct=Oe+ut(ot,ae++),zt+=F(ot,X,nt,Ct,bt);else if(Ct==="object"){if(typeof k.then=="function")return F(xt(k),X,nt,ot,bt);throw X=String(k),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return zt}function tt(k,X,nt){if(k==null)return k;var ot=[],bt=0;return F(k,ot,"","",function(Ct){return X.call(nt,Ct,bt++)}),ot}function gt(k){if(k._status===-1){var X=k._result;X=X(),X.then(function(nt){(k._status===0||k._status===-1)&&(k._status=1,k._result=nt)},function(nt){(k._status===0||k._status===-1)&&(k._status=2,k._result=nt)}),k._status===-1&&(k._status=0,k._result=X)}if(k._status===1)return k._result.default;throw k._result}var Lt=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},qt={map:tt,forEach:function(k,X,nt){tt(k,function(){X.apply(this,arguments)},nt)},count:function(k){var X=0;return tt(k,function(){X++}),X},toArray:function(k){return tt(k,function(X){return X})||[]},only:function(k){if(!C(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return St.Activity=A,St.Children=qt,St.Component=rt,St.Fragment=i,St.Profiler=l,St.PureComponent=ft,St.StrictMode=r,St.Suspense=_,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,St.__COMPILER_RUNTIME={__proto__:null,c:function(k){return N.H.useMemoCache(k)}},St.cache=function(k){return function(){return k.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(k,X,nt){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ot=Z({},k.props),bt=k.key;if(X!=null)for(Ct in X.key!==void 0&&(bt=""+X.key),X)!I.call(X,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&X.ref===void 0||(ot[Ct]=X[Ct]);var Ct=arguments.length-2;if(Ct===1)ot.children=nt;else if(1<Ct){for(var zt=Array(Ct),Oe=0;Oe<Ct;Oe++)zt[Oe]=arguments[Oe+2];ot.children=zt}return S(k.type,bt,ot)},St.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},St.createElement=function(k,X,nt){var ot,bt={},Ct=null;if(X!=null)for(ot in X.key!==void 0&&(Ct=""+X.key),X)I.call(X,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(bt[ot]=X[ot]);var zt=arguments.length-2;if(zt===1)bt.children=nt;else if(1<zt){for(var Oe=Array(zt),ae=0;ae<zt;ae++)Oe[ae]=arguments[ae+2];bt.children=Oe}if(k&&k.defaultProps)for(ot in zt=k.defaultProps,zt)bt[ot]===void 0&&(bt[ot]=zt[ot]);return S(k,Ct,bt)},St.createRef=function(){return{current:null}},St.forwardRef=function(k){return{$$typeof:g,render:k}},St.isValidElement=C,St.lazy=function(k){return{$$typeof:T,_payload:{_status:-1,_result:k},_init:gt}},St.memo=function(k,X){return{$$typeof:p,type:k,compare:X===void 0?null:X}},St.startTransition=function(k){var X=N.T,nt={};N.T=nt;try{var ot=k(),bt=N.S;bt!==null&&bt(nt,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(dt,Lt)}catch(Ct){Lt(Ct)}finally{X!==null&&nt.types!==null&&(X.types=nt.types),N.T=X}},St.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},St.use=function(k){return N.H.use(k)},St.useActionState=function(k,X,nt){return N.H.useActionState(k,X,nt)},St.useCallback=function(k,X){return N.H.useCallback(k,X)},St.useContext=function(k){return N.H.useContext(k)},St.useDebugValue=function(){},St.useDeferredValue=function(k,X){return N.H.useDeferredValue(k,X)},St.useEffect=function(k,X){return N.H.useEffect(k,X)},St.useEffectEvent=function(k){return N.H.useEffectEvent(k)},St.useId=function(){return N.H.useId()},St.useImperativeHandle=function(k,X,nt){return N.H.useImperativeHandle(k,X,nt)},St.useInsertionEffect=function(k,X){return N.H.useInsertionEffect(k,X)},St.useLayoutEffect=function(k,X){return N.H.useLayoutEffect(k,X)},St.useMemo=function(k,X){return N.H.useMemo(k,X)},St.useOptimistic=function(k,X){return N.H.useOptimistic(k,X)},St.useReducer=function(k,X,nt){return N.H.useReducer(k,X,nt)},St.useRef=function(k){return N.H.useRef(k)},St.useState=function(k){return N.H.useState(k)},St.useSyncExternalStore=function(k,X,nt){return N.H.useSyncExternalStore(k,X,nt)},St.useTransition=function(){return N.H.useTransition()},St.version="19.2.0",St}var J_;function Dm(){return J_||(J_=1,Pd.exports=Yb()),Pd.exports}var mt=Dm(),Ud={exports:{}},yl={},Ld={exports:{}},jd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function Kb(){return W_||(W_=1,(function(s){function t(F,tt){var gt=F.length;F.push(tt);t:for(;0<gt;){var Lt=gt-1>>>1,qt=F[Lt];if(0<l(qt,tt))F[Lt]=tt,F[gt]=qt,gt=Lt;else break t}}function i(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var tt=F[0],gt=F.pop();if(gt!==tt){F[0]=gt;t:for(var Lt=0,qt=F.length,k=qt>>>1;Lt<k;){var X=2*(Lt+1)-1,nt=F[X],ot=X+1,bt=F[ot];if(0>l(nt,gt))ot<qt&&0>l(bt,nt)?(F[Lt]=bt,F[ot]=gt,Lt=ot):(F[Lt]=nt,F[X]=gt,Lt=X);else if(ot<qt&&0>l(bt,gt))F[Lt]=bt,F[ot]=gt,Lt=ot;else break t}}return tt}function l(F,tt){var gt=F.sortIndex-tt.sortIndex;return gt!==0?gt:F.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],p=[],T=1,A=null,x=3,U=!1,W=!1,Z=!1,J=!1,rt=typeof setTimeout=="function"?setTimeout:null,ct=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function Et(F){for(var tt=i(p);tt!==null;){if(tt.callback===null)r(p);else if(tt.startTime<=F)r(p),tt.sortIndex=tt.expirationTime,t(_,tt);else break;tt=i(p)}}function st(F){if(Z=!1,Et(F),!W)if(i(_)!==null)W=!0,dt||(dt=!0,M());else{var tt=i(p);tt!==null&&xt(st,tt.startTime-F)}}var dt=!1,N=-1,I=5,S=-1;function O(){return J?!0:!(s.unstable_now()-S<I)}function C(){if(J=!1,dt){var F=s.unstable_now();S=F;var tt=!0;try{t:{W=!1,Z&&(Z=!1,ct(N),N=-1),U=!0;var gt=x;try{e:{for(Et(F),A=i(_);A!==null&&!(A.expirationTime>F&&O());){var Lt=A.callback;if(typeof Lt=="function"){A.callback=null,x=A.priorityLevel;var qt=Lt(A.expirationTime<=F);if(F=s.unstable_now(),typeof qt=="function"){A.callback=qt,Et(F),tt=!0;break e}A===i(_)&&r(_),Et(F)}else r(_);A=i(_)}if(A!==null)tt=!0;else{var k=i(p);k!==null&&xt(st,k.startTime-F),tt=!1}}break t}finally{A=null,x=gt,U=!1}tt=void 0}}finally{tt?M():dt=!1}}}var M;if(typeof ft=="function")M=function(){ft(C)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ut=R.port2;R.port1.onmessage=C,M=function(){ut.postMessage(null)}}else M=function(){rt(C,0)};function xt(F,tt){N=rt(function(){F(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(F){switch(x){case 1:case 2:case 3:var tt=3;break;default:tt=x}var gt=x;x=tt;try{return F()}finally{x=gt}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(F,tt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var gt=x;x=F;try{return tt()}finally{x=gt}},s.unstable_scheduleCallback=function(F,tt,gt){var Lt=s.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Lt+gt:Lt):gt=Lt,F){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=gt+qt,F={id:T++,callback:tt,priorityLevel:F,startTime:gt,expirationTime:qt,sortIndex:-1},gt>Lt?(F.sortIndex=gt,t(p,F),i(_)===null&&F===i(p)&&(Z?(ct(N),N=-1):Z=!0,xt(st,gt-Lt))):(F.sortIndex=qt,t(_,F),W||U||(W=!0,dt||(dt=!0,M()))),F},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(F){var tt=x;return function(){var gt=x;x=tt;try{return F.apply(this,arguments)}finally{x=gt}}}})(jd)),jd}var t0;function Xb(){return t0||(t0=1,Ld.exports=Kb()),Ld.exports}var zd={exports:{}},$e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function $b(){if(e0)return $e;e0=1;var s=Dm();function t(_){var p="https://react.dev/errors/"+_;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)p+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(_,p,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:_,containerInfo:p,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,p){if(_==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$e.createPortal=function(_,p){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(_,p,null,T)},$e.flushSync=function(_){var p=d.T,T=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=p,r.p=T,r.d.f()}},$e.preconnect=function(_,p){typeof _=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(_,p))},$e.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},$e.preinit=function(_,p){if(typeof _=="string"&&p&&typeof p.as=="string"){var T=p.as,A=g(T,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,U=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;T==="style"?r.d.S(_,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:A,integrity:x,fetchPriority:U}):T==="script"&&r.d.X(_,{crossOrigin:A,integrity:x,fetchPriority:U,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},$e.preinitModule=function(_,p){if(typeof _=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var T=g(p.as,p.crossOrigin);r.d.M(_,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(_)},$e.preload=function(_,p){if(typeof _=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var T=p.as,A=g(T,p.crossOrigin);r.d.L(_,T,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},$e.preloadModule=function(_,p){if(typeof _=="string")if(p){var T=g(p.as,p.crossOrigin);r.d.m(_,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(_)},$e.requestFormReset=function(_){r.d.r(_)},$e.unstable_batchedUpdates=function(_,p){return _(p)},$e.useFormState=function(_,p,T){return d.H.useFormState(_,p,T)},$e.useFormStatus=function(){return d.H.useHostTransitionStatus()},$e.version="19.2.0",$e}var n0;function Zb(){if(n0)return zd.exports;n0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),zd.exports=$b(),zd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function Jb(){if(i0)return yl;i0=1;var s=Xb(),t=Dm(),i=Zb();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(u(e)!==e)throw Error(r(188))}function p(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,o=f;break}if(E===o){y=!0,o=h,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,o=h;break}if(E===o){y=!0,o=f,a=h;break}E=E.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,x=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),rt=Symbol.for("react.profiler"),ct=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),Et=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function M(e){return e===null||typeof e!="object"?null:(e=C&&e[C]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ut(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case rt:return"Profiler";case J:return"StrictMode";case st:return"Suspense";case dt:return"SuspenseList";case S:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case ft:return e.displayName||"Context";case ct:return(e._context.displayName||"Context")+".Consumer";case Et:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:ut(e.type)||"Memo";case I:n=e._payload,e=e._init;try{return ut(e(n))}catch{}}return null}var xt=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},Lt=[],qt=-1;function k(e){return{current:e}}function X(e){0>qt||(e.current=Lt[qt],Lt[qt]=null,qt--)}function nt(e,n){qt++,Lt[qt]=e.current,e.current=n}var ot=k(null),bt=k(null),Ct=k(null),zt=k(null);function Oe(e,n){switch(nt(Ct,n),nt(bt,e),nt(ot,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?__(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=__(n),e=v_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(ot),nt(ot,e)}function ae(){X(ot),X(bt),X(Ct)}function or(e){e.memoizedState!==null&&nt(zt,e);var n=ot.current,a=v_(n,e.type);n!==a&&(nt(bt,e),nt(ot,a))}function $r(e){bt.current===e&&(X(ot),X(bt)),zt.current===e&&(X(zt),fl._currentValue=gt)}var Zr,Jr;function ni(e){if(Zr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Zr=n&&n[1]||"",Jr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zr+e+Jr}var ho=!1;function lr(e,n){if(!e||ho)return"";ho=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(H){var B=H}Reflect.construct(e,[],K)}else{try{K.call()}catch(H){B=H}e.call(K.prototype)}}else{try{throw Error()}catch(H){B=H}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var D=y.split(`
`),z=E.split(`
`);for(h=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===D.length||h===z.length)for(o=D.length-1,h=z.length-1;1<=o&&0<=h&&D[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(D[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||D[o]!==z[h]){var G=`
`+D[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{ho=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ni(a):""}function fo(e,n){switch(e.tag){case 26:case 27:case 5:return ni(e.type);case 16:return ni("Lazy");case 13:return e.child!==n&&n!==null?ni("Suspense Fallback"):ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return lr(e.type,!1);case 11:return lr(e.type.render,!1);case 1:return lr(e.type,!0);case 31:return ni("Activity");default:return""}}function mo(e){try{var n="",a=null;do n+=fo(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ee=Object.prototype.hasOwnProperty,Me=s.unstable_scheduleCallback,ls=s.unstable_cancelCallback,Ph=s.unstable_shouldYield,tu=s.unstable_requestPaint,en=s.unstable_now,ur=s.unstable_getCurrentPriorityLevel,go=s.unstable_ImmediatePriority,po=s.unstable_UserBlockingPriority,us=s.unstable_NormalPriority,Uh=s.unstable_LowPriority,eu=s.unstable_IdlePriority,nu=s.log,iu=s.unstable_setDisableYieldValue,Bn=null,Be=null;function In(e){if(typeof nu=="function"&&iu(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Bn,e)}catch{}}var ge=Math.clz32?Math.clz32:ru,su=Math.log,Wr=Math.LN2;function ru(e){return e>>>=0,e===0?32:31-(su(e)/Wr|0)|0}var ii=256,cr=262144,Te=4194304;function si(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ri(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=si(o):(y&=E,y!==0?h=si(y):a||(a=E&~e,a!==0&&(h=si(a))))):(E=o&~f,E!==0?h=si(E):y!==0?h=si(y):a||(a=o&~e,a!==0&&(h=si(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function qn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Lh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function au(){var e=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),e}function ai(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function hr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function jh(e,n,a,o,h,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,D=e.expirationTimes,z=e.hiddenUpdates;for(a=y&~a;0<a;){var G=31-ge(a),K=1<<G;E[G]=0,D[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}a&=~K}o!==0&&fr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function fr(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ge(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function yo(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-ge(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function _o(e,n){var a=n&-n;return a=(a&42)!==0?1:dr(a),(a&(e.suspendedLanes|n))!==0?0:a}function dr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ou(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:q_(e.type))}function Hn(e,n){var a=tt.p;try{return tt.p=e,n()}finally{tt.p=a}}var Fn=Math.random().toString(36).slice(2),be="__reactFiber$"+Fn,Pe="__reactProps$"+Fn,oi="__reactContainer$"+Fn,ta="__reactEvents$"+Fn,zh="__reactListeners$"+Fn,lu="__reactHandles$"+Fn,uu="__reactResources$"+Fn,li="__reactMarker$"+Fn;function ea(e){delete e[be],delete e[Pe],delete e[ta],delete e[zh],delete e[lu]}function ui(e){var n=e[be];if(n)return n;for(var a=e.parentNode;a;){if(n=a[oi]||a[be]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=R_(e);e!==null;){if(a=e[be])return a;e=R_(e)}return n}e=a,a=e.parentNode}return null}function Cn(e){if(e=e[be]||e[oi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function pn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function ci(e){var n=e[uu];return n||(n=e[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ae(e){e[li]=!0}var vo=new Set,Eo={};function hi(e,n){fi(e,n),fi(e+"Capture",n)}function fi(e,n){for(Eo[e]=n,e=0;e<n.length;e++)vo.add(n[e])}var To=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},Ao={};function cu(e){return Ee.call(Ao,e)?!0:Ee.call(bo,e)?!1:To.test(e)?Ao[e]=!0:(bo[e]=!0,!1)}function na(e,n,a){if(cu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function yn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Se(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function So(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Kt(e){if(!e._valueTracker){var n=cs(e)?"checked":"value";e._valueTracker=So(e,n,""+e[n])}}function mr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=cs(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gr=/[\n"\\]/g;function on(e){return e.replace(gr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ia(e,n,a,o,h,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?wo(e,y,Ue(n)):a!=null?wo(e,y,Ue(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function hu(e,n,a,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Kt(e);return}a=a!=null?""+Ue(a):"",n=n!=null?""+Ue(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Kt(e)}function wo(e,n,a){n==="number"&&di(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function hs(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ue(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function fu(e,n,a){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ue(a):""}function fs(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(xt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ue(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Kt(e)}function ln(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ro(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||du.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Io(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Ro(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Ro(e,f,n[f])}function sa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ra(e){return ds.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Gn(){}var Co=null;function Nn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ms=null,mi=null;function pr(e){var n=Cn(e);if(n&&(e=n.stateNode)){var a=e[Pe]||null;t:switch(e=n.stateNode,n.type){case"input":if(ia(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[Pe]||null;if(!h)throw Error(r(90));ia(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&mr(o)}break t;case"textarea":fu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&hs(e,!!a.multiple,n,!1)}}}var aa=!1;function gs(e,n,a){if(aa)return e(n,a);aa=!0;try{var o=e(n);return o}finally{if(aa=!1,(ms!==null||mi!==null)&&(oc(),ms&&(n=ms,e=mi,mi=ms=null,pr(n),e)))for(n=0;n<e.length;n++)pr(e[n])}}function Qn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Pe]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yr=!1;if(xn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){yr=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{yr=!1}var gi=null,No=null,_r=null;function xo(){if(_r)return _r;var e,n=No,a=n.length,o,h="value"in gi?gi.value:gi.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var y=a-e;for(o=1;o<=y&&n[a-o]===h[f-o];o++);return _r=h.slice(e,1<o?1-o:void 0)}function vr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ki(){return!0}function Yn(){return!1}function qe(e){function n(a,o,h,f,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ki:Yn,this.isPropagationStopped=Yn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),n}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=qe(Pi),ps=A({},Pi,{view:0,detail:0}),Do=qe(ps),ys,oa,yi,la=A({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yi&&(yi&&e.type==="mousemove"?(ys=e.screenX-yi.screenX,oa=e.screenY-yi.screenY):oa=ys=0,yi=e),ys)},movementY:function(e){return"movementY"in e?e.movementY:oa}}),Oo=qe(la),Er=A({},la,{dataTransfer:0}),gu=qe(Er),pu=A({},ps,{relatedTarget:0}),Tr=qe(pu),Mo=A({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=qe(Mo),ua=A({},Pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_u=qe(ua),vu=A({},Pi,{data:0}),_i=qe(vu),Eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=bu[e])?!!n[e]:!1}function _s(){return Au}var nn=A({},ps,{key:function(e){if(e.key){var n=Eu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=vr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(e){return e.type==="keypress"?vr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Su=qe(nn),wu=A({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=qe(wu),c=A({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),m=qe(c),v=A({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=qe(v),L=A({},la,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=qe(L),et=A({},Pi,{newState:0,oldState:0}),Rt=qe(et),pe=[9,13,27,32],Gt=xn&&"CompositionEvent"in window,oe=null;xn&&"documentMode"in document&&(oe=document.documentMode);var Dn=xn&&"TextEvent"in window&&!oe,vi=xn&&(!Gt||oe&&8<oe&&11>=oe),Kn=" ",Xn=!1;function br(e,n){switch(e){case"keyup":return pe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ca(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ha=!1;function m1(e,n){switch(e){case"compositionend":return ca(n);case"keypress":return n.which!==32?null:(Xn=!0,Kn);case"textInput":return e=n.data,e===Kn&&Xn?null:e;default:return null}}function g1(e,n){if(ha)return e==="compositionend"||!Gt&&br(e,n)?(e=xo(),_r=No=gi=null,ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vi&&n.locale!=="ko"?null:n.data;default:return null}}var p1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ng(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!p1[e.type]:n==="textarea"}function xg(e,n,a,o){ms?mi?mi.push(o):mi=[o]:ms=o,n=mc(n,"onChange"),0<n.length&&(a=new pi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Vo=null,ko=null;function y1(e){f_(e,0)}function Ru(e){var n=pn(e);if(mr(n))return e}function Dg(e,n){if(e==="change")return n}var Og=!1;if(xn){var Bh;if(xn){var qh="oninput"in document;if(!qh){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),qh=typeof Mg.oninput=="function"}Bh=qh}else Bh=!1;Og=Bh&&(!document.documentMode||9<document.documentMode)}function Vg(){Vo&&(Vo.detachEvent("onpropertychange",kg),ko=Vo=null)}function kg(e){if(e.propertyName==="value"&&Ru(ko)){var n=[];xg(n,ko,e,Nn(e)),gs(y1,n)}}function _1(e,n,a){e==="focusin"?(Vg(),Vo=n,ko=a,Vo.attachEvent("onpropertychange",kg)):e==="focusout"&&Vg()}function v1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ru(ko)}function E1(e,n){if(e==="click")return Ru(n)}function T1(e,n){if(e==="input"||e==="change")return Ru(n)}function b1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var _n=typeof Object.is=="function"?Object.is:b1;function Po(e,n){if(_n(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Ee.call(n,h)||!_n(e[h],n[h]))return!1}return!0}function Pg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ug(e,n){var a=Pg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Pg(a)}}function Lg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Lg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function jg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=di(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=di(e.document)}return n}function Hh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var A1=xn&&"documentMode"in document&&11>=document.documentMode,fa=null,Fh=null,Uo=null,Gh=!1;function zg(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gh||fa==null||fa!==di(o)||(o=fa,"selectionStart"in o&&Hh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Uo&&Po(Uo,o)||(Uo=o,o=mc(Fh,"onSelect"),0<o.length&&(n=new pi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=fa)))}function Ar(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var da={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionrun:Ar("Transition","TransitionRun"),transitionstart:Ar("Transition","TransitionStart"),transitioncancel:Ar("Transition","TransitionCancel"),transitionend:Ar("Transition","TransitionEnd")},Qh={},Bg={};xn&&(Bg=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function Sr(e){if(Qh[e])return Qh[e];if(!da[e])return e;var n=da[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Bg)return Qh[e]=n[a];return e}var qg=Sr("animationend"),Hg=Sr("animationiteration"),Fg=Sr("animationstart"),S1=Sr("transitionrun"),w1=Sr("transitionstart"),R1=Sr("transitioncancel"),Gg=Sr("transitionend"),Qg=new Map,Yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yh.push("scrollEnd");function $n(e,n){Qg.set(e,n),hi(n,[e])}var Iu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},On=[],ma=0,Kh=0;function Cu(){for(var e=ma,n=Kh=ma=0;n<e;){var a=On[n];On[n++]=null;var o=On[n];On[n++]=null;var h=On[n];On[n++]=null;var f=On[n];if(On[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&Yg(a,h,f)}}function Nu(e,n,a,o){On[ma++]=e,On[ma++]=n,On[ma++]=a,On[ma++]=o,Kh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Xh(e,n,a,o){return Nu(e,n,a,o),xu(e)}function wr(e,n){return Nu(e,null,null,n),xu(e)}function Yg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ge(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function xu(e){if(50<rl)throw rl=0,rd=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ga={};function I1(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,n,a,o){return new I1(e,n,a,o)}function $h(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Li(e,n){var a=e.alternate;return a===null?(a=vn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Kg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Du(e,n,a,o,h,f){var y=0;if(o=e,typeof e=="function")$h(e)&&(y=1);else if(typeof e=="string")y=Ob(e,a,ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case S:return e=vn(31,a,n,h),e.elementType=S,e.lanes=f,e;case Z:return Rr(a.children,h,f,n);case J:y=8,h|=24;break;case rt:return e=vn(12,a,n,h|2),e.elementType=rt,e.lanes=f,e;case st:return e=vn(13,a,n,h),e.elementType=st,e.lanes=f,e;case dt:return e=vn(19,a,n,h),e.elementType=dt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ft:y=10;break t;case ct:y=9;break t;case Et:y=11;break t;case N:y=14;break t;case I:y=16,o=null;break t}y=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=vn(y,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Rr(e,n,a,o){return e=vn(7,e,o,n),e.lanes=a,e}function Zh(e,n,a){return e=vn(6,e,null,n),e.lanes=a,e}function Xg(e){var n=vn(18,null,null,0);return n.stateNode=e,n}function Jh(e,n,a){return n=vn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var $g=new WeakMap;function Mn(e,n){if(typeof e=="object"&&e!==null){var a=$g.get(e);return a!==void 0?a:(n={value:e,source:n,stack:mo(n)},$g.set(e,n),n)}return{value:e,source:n,stack:mo(n)}}var pa=[],ya=0,Ou=null,Lo=0,Vn=[],kn=0,vs=null,Ei=1,Ti="";function ji(e,n){pa[ya++]=Lo,pa[ya++]=Ou,Ou=e,Lo=n}function Zg(e,n,a){Vn[kn++]=Ei,Vn[kn++]=Ti,Vn[kn++]=vs,vs=e;var o=Ei;e=Ti;var h=32-ge(o)-1;o&=~(1<<h),a+=1;var f=32-ge(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Ei=1<<32-ge(n)+h|a<<h|o,Ti=f+e}else Ei=1<<f|a<<h|o,Ti=e}function Wh(e){e.return!==null&&(ji(e,1),Zg(e,1,0))}function tf(e){for(;e===Ou;)Ou=pa[--ya],pa[ya]=null,Lo=pa[--ya],pa[ya]=null;for(;e===vs;)vs=Vn[--kn],Vn[kn]=null,Ti=Vn[--kn],Vn[kn]=null,Ei=Vn[--kn],Vn[kn]=null}function Jg(e,n){Vn[kn++]=Ei,Vn[kn++]=Ti,Vn[kn++]=vs,Ei=n.id,Ti=n.overflow,vs=e}var He=null,ie=null,jt=!1,Es=null,Pn=!1,ef=Error(r(519));function Ts(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jo(Mn(n,e)),ef}function Wg(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[be]=e,n[Pe]=o,a){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(a=0;a<ol.length;a++)Ot(ol[a],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),hu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),fs(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||p_(n.textContent,a)?(o.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),o.onScroll!=null&&Ot("scroll",n),o.onScrollEnd!=null&&Ot("scrollend",n),o.onClick!=null&&(n.onclick=Gn),n=!0):n=!1,n||Ts(e,!0)}function tp(e){for(He=e.return;He;)switch(He.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:He=He.return}}function _a(e){if(e!==He)return!1;if(!jt)return tp(e),jt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ed(e.type,e.memoizedProps)),a=!a),a&&ie&&Ts(e),tp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ie=w_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ie=w_(e)}else n===27?(n=ie,ks(e.type)?(e=wd,wd=null,ie=e):ie=n):ie=He?Ln(e.stateNode.nextSibling):null;return!0}function Ir(){ie=He=null,jt=!1}function nf(){var e=Es;return e!==null&&(fn===null?fn=e:fn.push.apply(fn,e),Es=null),e}function jo(e){Es===null?Es=[e]:Es.push(e)}var sf=k(null),Cr=null,zi=null;function bs(e,n,a){nt(sf,n._currentValue),n._currentValue=a}function Bi(e){e._currentValue=sf.current,X(sf)}function rf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function af(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var D=0;D<n.length;D++)if(E.context===n[D]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),rf(f.return,a,e),o||(y=null);break t}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),rf(y,a,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function va(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=h.type;_n(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===zt.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(fl):e=[fl])}h=h.return}e!==null&&af(n,e,a,o),n.flags|=262144}function Mu(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Nr(e){Cr=e,zi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return ep(Cr,e)}function Vu(e,n){return Cr===null&&Nr(e),ep(e,n)}function ep(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},zi===null){if(e===null)throw Error(r(308));zi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else zi=zi.next=n;return a}var C1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},N1=s.unstable_scheduleCallback,x1=s.unstable_NormalPriority,we={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function of(){return{controller:new C1,data:new Map,refCount:0}}function zo(e){e.refCount--,e.refCount===0&&N1(x1,function(){e.controller.abort()})}var Bo=null,lf=0,Ea=0,Ta=null;function D1(e,n){if(Bo===null){var a=Bo=[];lf=0,Ea=hd(),Ta={status:"pending",value:void 0,then:function(o){a.push(o)}}}return lf++,n.then(np,np),n}function np(){if(--lf===0&&Bo!==null){Ta!==null&&(Ta.status="fulfilled");var e=Bo;Bo=null,Ea=0,Ta=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function O1(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var ip=F.S;F.S=function(e,n){zy=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&D1(e,n),ip!==null&&ip(e,n)};var xr=k(null);function uf(){var e=xr.current;return e!==null?e:ee.pooledCache}function ku(e,n){n===null?nt(xr,xr.current):nt(xr,n.pool)}function sp(){var e=uf();return e===null?null:{parent:we._currentValue,pool:e}}var ba=Error(r(460)),cf=Error(r(474)),Pu=Error(r(542)),Uu={then:function(){}};function rp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ap(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Gn,Gn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,lp(e),e;default:if(typeof n.status=="string")n.then(Gn,Gn);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,lp(e),e}throw Or=n,ba}}function Dr(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Or=a,ba):a}}var Or=null;function op(){if(Or===null)throw Error(r(459));var e=Or;return Or=null,e}function lp(e){if(e===ba||e===Pu)throw Error(r(483))}var Aa=null,qo=0;function Lu(e){var n=qo;return qo+=1,Aa===null&&(Aa=[]),ap(Aa,e,n)}function Ho(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ju(e,n){throw n.$$typeof===x?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function up(e){function n(P,V){if(e){var j=P.deletions;j===null?(P.deletions=[V],P.flags|=16):j.push(V)}}function a(P,V){if(!e)return null;for(;V!==null;)n(P,V),V=V.sibling;return null}function o(P){for(var V=new Map;P!==null;)P.key!==null?V.set(P.key,P):V.set(P.index,P),P=P.sibling;return V}function h(P,V){return P=Li(P,V),P.index=0,P.sibling=null,P}function f(P,V,j){return P.index=j,e?(j=P.alternate,j!==null?(j=j.index,j<V?(P.flags|=67108866,V):j):(P.flags|=67108866,V)):(P.flags|=1048576,V)}function y(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function E(P,V,j,Q){return V===null||V.tag!==6?(V=Zh(j,P.mode,Q),V.return=P,V):(V=h(V,j),V.return=P,V)}function D(P,V,j,Q){var pt=j.type;return pt===Z?G(P,V,j.props.children,Q,j.key):V!==null&&(V.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===I&&Dr(pt)===V.type)?(V=h(V,j.props),Ho(V,j),V.return=P,V):(V=Du(j.type,j.key,j.props,null,P.mode,Q),Ho(V,j),V.return=P,V)}function z(P,V,j,Q){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=Jh(j,P.mode,Q),V.return=P,V):(V=h(V,j.children||[]),V.return=P,V)}function G(P,V,j,Q,pt){return V===null||V.tag!==7?(V=Rr(j,P.mode,Q,pt),V.return=P,V):(V=h(V,j),V.return=P,V)}function K(P,V,j){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Zh(""+V,P.mode,j),V.return=P,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case U:return j=Du(V.type,V.key,V.props,null,P.mode,j),Ho(j,V),j.return=P,j;case W:return V=Jh(V,P.mode,j),V.return=P,V;case I:return V=Dr(V),K(P,V,j)}if(xt(V)||M(V))return V=Rr(V,P.mode,j,null),V.return=P,V;if(typeof V.then=="function")return K(P,Lu(V),j);if(V.$$typeof===ft)return K(P,Vu(P,V),j);ju(P,V)}return null}function B(P,V,j,Q){var pt=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return pt!==null?null:E(P,V,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case U:return j.key===pt?D(P,V,j,Q):null;case W:return j.key===pt?z(P,V,j,Q):null;case I:return j=Dr(j),B(P,V,j,Q)}if(xt(j)||M(j))return pt!==null?null:G(P,V,j,Q,null);if(typeof j.then=="function")return B(P,V,Lu(j),Q);if(j.$$typeof===ft)return B(P,V,Vu(P,j),Q);ju(P,j)}return null}function H(P,V,j,Q,pt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return P=P.get(j)||null,E(V,P,""+Q,pt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case U:return P=P.get(Q.key===null?j:Q.key)||null,D(V,P,Q,pt);case W:return P=P.get(Q.key===null?j:Q.key)||null,z(V,P,Q,pt);case I:return Q=Dr(Q),H(P,V,j,Q,pt)}if(xt(Q)||M(Q))return P=P.get(j)||null,G(V,P,Q,pt,null);if(typeof Q.then=="function")return H(P,V,j,Lu(Q),pt);if(Q.$$typeof===ft)return H(P,V,j,Vu(V,Q),pt);ju(V,Q)}return null}function lt(P,V,j,Q){for(var pt=null,Ht=null,ht=V,Nt=V=0,Vt=null;ht!==null&&Nt<j.length;Nt++){ht.index>Nt?(Vt=ht,ht=null):Vt=ht.sibling;var Ft=B(P,ht,j[Nt],Q);if(Ft===null){ht===null&&(ht=Vt);break}e&&ht&&Ft.alternate===null&&n(P,ht),V=f(Ft,V,Nt),Ht===null?pt=Ft:Ht.sibling=Ft,Ht=Ft,ht=Vt}if(Nt===j.length)return a(P,ht),jt&&ji(P,Nt),pt;if(ht===null){for(;Nt<j.length;Nt++)ht=K(P,j[Nt],Q),ht!==null&&(V=f(ht,V,Nt),Ht===null?pt=ht:Ht.sibling=ht,Ht=ht);return jt&&ji(P,Nt),pt}for(ht=o(ht);Nt<j.length;Nt++)Vt=H(ht,P,Nt,j[Nt],Q),Vt!==null&&(e&&Vt.alternate!==null&&ht.delete(Vt.key===null?Nt:Vt.key),V=f(Vt,V,Nt),Ht===null?pt=Vt:Ht.sibling=Vt,Ht=Vt);return e&&ht.forEach(function(zs){return n(P,zs)}),jt&&ji(P,Nt),pt}function _t(P,V,j,Q){if(j==null)throw Error(r(151));for(var pt=null,Ht=null,ht=V,Nt=V=0,Vt=null,Ft=j.next();ht!==null&&!Ft.done;Nt++,Ft=j.next()){ht.index>Nt?(Vt=ht,ht=null):Vt=ht.sibling;var zs=B(P,ht,Ft.value,Q);if(zs===null){ht===null&&(ht=Vt);break}e&&ht&&zs.alternate===null&&n(P,ht),V=f(zs,V,Nt),Ht===null?pt=zs:Ht.sibling=zs,Ht=zs,ht=Vt}if(Ft.done)return a(P,ht),jt&&ji(P,Nt),pt;if(ht===null){for(;!Ft.done;Nt++,Ft=j.next())Ft=K(P,Ft.value,Q),Ft!==null&&(V=f(Ft,V,Nt),Ht===null?pt=Ft:Ht.sibling=Ft,Ht=Ft);return jt&&ji(P,Nt),pt}for(ht=o(ht);!Ft.done;Nt++,Ft=j.next())Ft=H(ht,P,Nt,Ft.value,Q),Ft!==null&&(e&&Ft.alternate!==null&&ht.delete(Ft.key===null?Nt:Ft.key),V=f(Ft,V,Nt),Ht===null?pt=Ft:Ht.sibling=Ft,Ht=Ft);return e&&ht.forEach(function(Hb){return n(P,Hb)}),jt&&ji(P,Nt),pt}function te(P,V,j,Q){if(typeof j=="object"&&j!==null&&j.type===Z&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case U:t:{for(var pt=j.key;V!==null;){if(V.key===pt){if(pt=j.type,pt===Z){if(V.tag===7){a(P,V.sibling),Q=h(V,j.props.children),Q.return=P,P=Q;break t}}else if(V.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===I&&Dr(pt)===V.type){a(P,V.sibling),Q=h(V,j.props),Ho(Q,j),Q.return=P,P=Q;break t}a(P,V);break}else n(P,V);V=V.sibling}j.type===Z?(Q=Rr(j.props.children,P.mode,Q,j.key),Q.return=P,P=Q):(Q=Du(j.type,j.key,j.props,null,P.mode,Q),Ho(Q,j),Q.return=P,P=Q)}return y(P);case W:t:{for(pt=j.key;V!==null;){if(V.key===pt)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){a(P,V.sibling),Q=h(V,j.children||[]),Q.return=P,P=Q;break t}else{a(P,V);break}else n(P,V);V=V.sibling}Q=Jh(j,P.mode,Q),Q.return=P,P=Q}return y(P);case I:return j=Dr(j),te(P,V,j,Q)}if(xt(j))return lt(P,V,j,Q);if(M(j)){if(pt=M(j),typeof pt!="function")throw Error(r(150));return j=pt.call(j),_t(P,V,j,Q)}if(typeof j.then=="function")return te(P,V,Lu(j),Q);if(j.$$typeof===ft)return te(P,V,Vu(P,j),Q);ju(P,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,V!==null&&V.tag===6?(a(P,V.sibling),Q=h(V,j),Q.return=P,P=Q):(a(P,V),Q=Zh(j,P.mode,Q),Q.return=P,P=Q),y(P)):a(P,V)}return function(P,V,j,Q){try{qo=0;var pt=te(P,V,j,Q);return Aa=null,pt}catch(ht){if(ht===ba||ht===Pu)throw ht;var Ht=vn(29,ht,null,P.mode);return Ht.lanes=Q,Ht.return=P,Ht}finally{}}}var Mr=up(!0),cp=up(!1),As=!1;function hf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ss(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ws(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=xu(e),Yg(e,null,a),n}return Nu(e,o,n,a),xu(e)}function Fo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,yo(e,a)}}function df(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var mf=!1;function Go(){if(mf){var e=Ta;if(e!==null)throw e}}function Qo(e,n,a,o){mf=!1;var h=e.updateQueue;As=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var D=E,z=D.next;D.next=null,y===null?f=z:y.next=z,y=D;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=D))}if(f!==null){var K=h.baseState;y=0,G=z=D=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Mt&B)===B:(o&B)===B){B!==0&&B===Ea&&(mf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,_t=E;B=n;var te=a;switch(_t.tag){case 1:if(lt=_t.payload,typeof lt=="function"){K=lt.call(te,K,B);break t}K=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=_t.payload,B=typeof lt=="function"?lt.call(te,K,B):lt,B==null)break t;K=A({},K,B);break t;case 2:As=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=H,D=K):G=G.next=H,y|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(D=K),h.baseState=D,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),xs|=y,e.lanes=y,e.memoizedState=K}}function hp(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function fp(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)hp(a[e],n)}var Sa=k(null),zu=k(0);function dp(e,n){e=$i,nt(zu,e),nt(Sa,n),$i=e|n.baseLanes}function gf(){nt(zu,$i),nt(Sa,Sa.current)}function pf(){$i=zu.current,X(Sa),X(zu)}var En=k(null),Un=null;function Rs(e){var n=e.alternate;nt(ye,ye.current&1),nt(En,e),Un===null&&(n===null||Sa.current!==null||n.memoizedState!==null)&&(Un=e)}function yf(e){nt(ye,ye.current),nt(En,e),Un===null&&(Un=e)}function mp(e){e.tag===22?(nt(ye,ye.current),nt(En,e),Un===null&&(Un=e)):Is()}function Is(){nt(ye,ye.current),nt(En,En.current)}function Tn(e){X(En),Un===e&&(Un=null),X(ye)}var ye=k(0);function Bu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ad(a)||Sd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var qi=0,It=null,Jt=null,Re=null,qu=!1,wa=!1,Vr=!1,Hu=0,Yo=0,Ra=null,M1=0;function he(){throw Error(r(321))}function _f(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!_n(e[a],n[a]))return!1;return!0}function vf(e,n,a,o,h,f){return qi=f,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Zp:Vf,Vr=!1,f=a(o,h),Vr=!1,wa&&(f=pp(n,a,o,h)),gp(e),f}function gp(e){F.H=$o;var n=Jt!==null&&Jt.next!==null;if(qi=0,Re=Jt=It=null,qu=!1,Yo=0,Ra=null,n)throw Error(r(300));e===null||Ie||(e=e.dependencies,e!==null&&Mu(e)&&(Ie=!0))}function pp(e,n,a,o){It=e;var h=0;do{if(wa&&(Ra=null),Yo=0,wa=!1,25<=h)throw Error(r(301));if(h+=1,Re=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Jp,f=n(a,o)}while(wa);return f}function V1(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Ko(n):n,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(It.flags|=1024),n}function Ef(){var e=Hu!==0;return Hu=0,e}function Tf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function bf(e){if(qu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}qu=!1}qi=0,Re=Jt=It=null,wa=!1,Yo=Hu=0,Ra=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?It.memoizedState=Re=e:Re=Re.next=e,Re}function _e(){if(Jt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var n=Re===null?It.memoizedState:Re.next;if(n!==null)Re=n,Jt=e;else{if(e===null)throw It.alternate===null?Error(r(467)):Error(r(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Re===null?It.memoizedState=Re=e:Re=Re.next=e}return Re}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ko(e){var n=Yo;return Yo+=1,Ra===null&&(Ra=[]),e=ap(Ra,e,n),n=It,(Re===null?n.memoizedState:Re.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Zp:Vf),e}function Gu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ko(e);if(e.$$typeof===ft)return Fe(e)}throw Error(r(438,String(e)))}function Af(e){var n=null,a=It.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=It.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Fu(),It.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=O;return n.index++,a}function Hi(e,n){return typeof n=="function"?n(e):n}function Qu(e){var n=_e();return Sf(n,Jt,e)}function Sf(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=y=null,D=null,z=n,G=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(Mt&K)===K:(qi&K)===K){var B=z.revertLane;if(B===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===Ea&&(G=!0);else if((qi&B)===B){z=z.next,B===Ea&&(G=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(E=D=K,y=f):D=D.next=K,It.lanes|=B,xs|=B;K=z.action,Vr&&a(f,K),f=z.hasEagerState?z.eagerState:a(f,K)}else B={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(E=D=B,y=f):D=D.next=B,It.lanes|=K,xs|=K;z=z.next}while(z!==null&&z!==n);if(D===null?y=f:D.next=E,!_n(f,e.memoizedState)&&(Ie=!0,G&&(a=Ta,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=D,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function wf(e){var n=_e(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);_n(f,n.memoizedState)||(Ie=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function yp(e,n,a){var o=It,h=_e(),f=jt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!_n((Jt||h).memoizedState,a);if(y&&(h.memoizedState=a,Ie=!0),h=h.queue,Cf(Ep.bind(null,o,h,e),[e]),h.getSnapshot!==n||y||Re!==null&&Re.memoizedState.tag&1){if(o.flags|=2048,Ia(9,{destroy:void 0},vp.bind(null,o,h,a,n),null),ee===null)throw Error(r(349));f||(qi&127)!==0||_p(o,n,a)}return a}function _p(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=It.updateQueue,n===null?(n=Fu(),It.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function vp(e,n,a,o){n.value=a,n.getSnapshot=o,Tp(n)&&bp(e)}function Ep(e,n,a){return a(function(){Tp(n)&&bp(e)})}function Tp(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!_n(e,a)}catch{return!0}}function bp(e){var n=wr(e,2);n!==null&&dn(n,e,2)}function Rf(e){var n=sn();if(typeof e=="function"){var a=e;if(e=a(),Vr){In(!0);try{a()}finally{In(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},n}function Ap(e,n,a,o){return e.baseState=a,Sf(e,Jt,typeof o=="function"?o:Hi)}function k1(e,n,a,o,h){if(Xu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Sp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Sp(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,y={};F.T=y;try{var E=a(h,o),D=F.S;D!==null&&D(y,E),wp(e,n,E)}catch(z){If(e,n,z)}finally{f!==null&&y.types!==null&&(f.types=y.types),F.T=f}}else try{f=a(h,o),wp(e,n,f)}catch(z){If(e,n,z)}}function wp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Rp(e,n,o)},function(o){return If(e,n,o)}):Rp(e,n,a)}function Rp(e,n,a){n.status="fulfilled",n.value=a,Ip(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Sp(e,a)))}function If(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Ip(n),n=n.next;while(n!==o)}e.action=null}function Ip(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Cp(e,n){return n}function Np(e,n){if(jt){var a=ee.formState;if(a!==null){t:{var o=It;if(jt){if(ie){e:{for(var h=ie,f=Pn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=Ln(h.nextSibling),o=h.data==="F!";break t}}Ts(o)}o=!1}o&&(n=a[0])}}return a=sn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cp,lastRenderedState:n},a.queue=o,a=Kp.bind(null,It,o),o.dispatch=a,o=Rf(!1),f=Mf.bind(null,It,!1,o.queue),o=sn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=k1.bind(null,It,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function xp(e){var n=_e();return Dp(n,Jt,e)}function Dp(e,n,a){if(n=Sf(e,n,Cp)[0],e=Qu(Hi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ko(n)}catch(y){throw y===ba?Pu:y}else o=n;n=_e();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(It.flags|=2048,Ia(9,{destroy:void 0},P1.bind(null,h,a),null)),[o,f,e]}function P1(e,n){e.action=n}function Op(e){var n=_e(),a=Jt;if(a!==null)return Dp(n,a,e);_e(),n=n.memoizedState,a=_e();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Ia(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=It.updateQueue,n===null&&(n=Fu(),It.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Mp(){return _e().memoizedState}function Yu(e,n,a,o){var h=sn();It.flags|=e,h.memoizedState=Ia(1|n,{destroy:void 0},a,o===void 0?null:o)}function Ku(e,n,a,o){var h=_e();o=o===void 0?null:o;var f=h.memoizedState.inst;Jt!==null&&o!==null&&_f(o,Jt.memoizedState.deps)?h.memoizedState=Ia(n,f,a,o):(It.flags|=e,h.memoizedState=Ia(1|n,f,a,o))}function Vp(e,n){Yu(8390656,8,e,n)}function Cf(e,n){Ku(2048,8,e,n)}function U1(e){It.flags|=4;var n=It.updateQueue;if(n===null)n=Fu(),It.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function kp(e){var n=_e().memoizedState;return U1({ref:n,nextImpl:e}),function(){if((Qt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Pp(e,n){return Ku(4,2,e,n)}function Up(e,n){return Ku(4,4,e,n)}function Lp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function jp(e,n,a){a=a!=null?a.concat([e]):null,Ku(4,4,Lp.bind(null,n,e),a)}function Nf(){}function zp(e,n){var a=_e();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&_f(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Bp(e,n){var a=_e();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&_f(n,o[1]))return o[0];if(o=e(),Vr){In(!0);try{e()}finally{In(!1)}}return a.memoizedState=[o,n],o}function xf(e,n,a){return a===void 0||(qi&1073741824)!==0&&(Mt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=qy(),It.lanes|=e,xs|=e,a)}function qp(e,n,a,o){return _n(a,n)?a:Sa.current!==null?(e=xf(e,a,o),_n(e,n)||(Ie=!0),e):(qi&42)===0||(qi&1073741824)!==0&&(Mt&261930)===0?(Ie=!0,e.memoizedState=a):(e=qy(),It.lanes|=e,xs|=e,n)}function Hp(e,n,a,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var y=F.T,E={};F.T=E,Mf(e,!1,n,a);try{var D=h(),z=F.S;if(z!==null&&z(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var G=O1(D,o);Xo(e,n,G,Sn(e))}else Xo(e,n,o,Sn(e))}catch(K){Xo(e,n,{then:function(){},status:"rejected",reason:K},Sn())}finally{tt.p=f,y!==null&&E.types!==null&&(y.types=E.types),F.T=y}}function L1(){}function Df(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=Fp(e).queue;Hp(e,h,n,gt,a===null?L1:function(){return Gp(e),a(o)})}function Fp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:gt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Gp(e){var n=Fp(e);n.next===null&&(n=e.alternate.memoizedState),Xo(e,n.next.queue,{},Sn())}function Of(){return Fe(fl)}function Qp(){return _e().memoizedState}function Yp(){return _e().memoizedState}function j1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Sn();e=Ss(a);var o=ws(n,e,a);o!==null&&(dn(o,n,a),Fo(o,n,a)),n={cache:of()},e.payload=n;return}n=n.return}}function z1(e,n,a){var o=Sn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Xu(e)?Xp(n,a):(a=Xh(e,n,a,o),a!==null&&(dn(a,e,o),$p(a,n,o)))}function Kp(e,n,a){var o=Sn();Xo(e,n,a,o)}function Xo(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xu(e))Xp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(h.hasEagerState=!0,h.eagerState=E,_n(E,y))return Nu(e,n,h,0),ee===null&&Cu(),!1}catch{}finally{}if(a=Xh(e,n,h,o),a!==null)return dn(a,e,o),$p(a,n,o),!0}return!1}function Mf(e,n,a,o){if(o={lane:2,revertLane:hd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Xu(e)){if(n)throw Error(r(479))}else n=Xh(e,a,o,2),n!==null&&dn(n,e,2)}function Xu(e){var n=e.alternate;return e===It||n!==null&&n===It}function Xp(e,n){wa=qu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function $p(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,yo(e,a)}}var $o={readContext:Fe,use:Gu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};$o.useEffectEvent=he;var Zp={readContext:Fe,use:Gu,useCallback:function(e,n){return sn().memoizedState=[e,n===void 0?null:n],e},useContext:Fe,useEffect:Vp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Yu(4194308,4,Lp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Yu(4194308,4,e,n)},useInsertionEffect:function(e,n){Yu(4,2,e,n)},useMemo:function(e,n){var a=sn();n=n===void 0?null:n;var o=e();if(Vr){In(!0);try{e()}finally{In(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=sn();if(a!==void 0){var h=a(n);if(Vr){In(!0);try{a(n)}finally{In(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=z1.bind(null,It,e),[o.memoizedState,e]},useRef:function(e){var n=sn();return e={current:e},n.memoizedState=e},useState:function(e){e=Rf(e);var n=e.queue,a=Kp.bind(null,It,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Nf,useDeferredValue:function(e,n){var a=sn();return xf(a,e,n)},useTransition:function(){var e=Rf(!1);return e=Hp.bind(null,It,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=It,h=sn();if(jt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ee===null)throw Error(r(349));(Mt&127)!==0||_p(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Vp(Ep.bind(null,o,f,e),[e]),o.flags|=2048,Ia(9,{destroy:void 0},vp.bind(null,o,f,a,n),null),a},useId:function(){var e=sn(),n=ee.identifierPrefix;if(jt){var a=Ti,o=Ei;a=(o&~(1<<32-ge(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Hu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=M1++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Of,useFormState:Np,useActionState:Np,useOptimistic:function(e){var n=sn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Mf.bind(null,It,!0,a),a.dispatch=n,[e,n]},useMemoCache:Af,useCacheRefresh:function(){return sn().memoizedState=j1.bind(null,It)},useEffectEvent:function(e){var n=sn(),a={impl:e};return n.memoizedState=a,function(){if((Qt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Vf={readContext:Fe,use:Gu,useCallback:zp,useContext:Fe,useEffect:Cf,useImperativeHandle:jp,useInsertionEffect:Pp,useLayoutEffect:Up,useMemo:Bp,useReducer:Qu,useRef:Mp,useState:function(){return Qu(Hi)},useDebugValue:Nf,useDeferredValue:function(e,n){var a=_e();return qp(a,Jt.memoizedState,e,n)},useTransition:function(){var e=Qu(Hi)[0],n=_e().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:yp,useId:Qp,useHostTransitionStatus:Of,useFormState:xp,useActionState:xp,useOptimistic:function(e,n){var a=_e();return Ap(a,Jt,e,n)},useMemoCache:Af,useCacheRefresh:Yp};Vf.useEffectEvent=kp;var Jp={readContext:Fe,use:Gu,useCallback:zp,useContext:Fe,useEffect:Cf,useImperativeHandle:jp,useInsertionEffect:Pp,useLayoutEffect:Up,useMemo:Bp,useReducer:wf,useRef:Mp,useState:function(){return wf(Hi)},useDebugValue:Nf,useDeferredValue:function(e,n){var a=_e();return Jt===null?xf(a,e,n):qp(a,Jt.memoizedState,e,n)},useTransition:function(){var e=wf(Hi)[0],n=_e().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:yp,useId:Qp,useHostTransitionStatus:Of,useFormState:Op,useActionState:Op,useOptimistic:function(e,n){var a=_e();return Jt!==null?Ap(a,Jt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Af,useCacheRefresh:Yp};Jp.useEffectEvent=kp;function kf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:A({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Pf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Sn(),h=Ss(o);h.payload=n,a!=null&&(h.callback=a),n=ws(e,h,o),n!==null&&(dn(n,e,o),Fo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Sn(),h=Ss(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=ws(e,h,o),n!==null&&(dn(n,e,o),Fo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Sn(),o=Ss(a);o.tag=2,n!=null&&(o.callback=n),n=ws(e,o,a),n!==null&&(dn(n,e,a),Fo(n,e,a))}};function Wp(e,n,a,o,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!Po(a,o)||!Po(h,f):!0}function ty(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Pf.enqueueReplaceState(n,n.state,null)}function kr(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function ey(e){Iu(e)}function ny(e){console.error(e)}function iy(e){Iu(e)}function $u(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function sy(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Uf(e,n,a){return a=Ss(a),a.tag=3,a.payload={element:null},a.callback=function(){$u(e,n)},a}function ry(e){return e=Ss(e),e.tag=3,e}function ay(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){sy(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){sy(n,a,o),typeof h!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function B1(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&va(n,a,h,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?lc():a.alternate===null&&fe===0&&(fe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Uu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),ld(e,o,h)),!1;case 22:return a.flags|=65536,o===Uu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),ld(e,o,h)),!1}throw Error(r(435,a.tag))}return ld(e,o,h),lc(),!1}if(jt)return n=En.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==ef&&(e=Error(r(422),{cause:o}),jo(Mn(e,a)))):(o!==ef&&(n=Error(r(423),{cause:o}),jo(Mn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Mn(o,a),h=Uf(e.stateNode,o,h),df(e,h),fe!==4&&(fe=2)),!1;var f=Error(r(520),{cause:o});if(f=Mn(f,a),sl===null?sl=[f]:sl.push(f),fe!==4&&(fe=2),n===null)return!0;o=Mn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Uf(a.stateNode,o,e),df(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ds===null||!Ds.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ry(h),ay(h,e,a,o),df(a,h),!1}a=a.return}while(a!==null);return!1}var Lf=Error(r(461)),Ie=!1;function Ge(e,n,a,o){n.child=e===null?cp(n,null,a,o):Mr(n,e.child,a,o)}function oy(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return Nr(n),o=vf(e,n,a,y,f,h),E=Ef(),e!==null&&!Ie?(Tf(e,n,h),Fi(e,n,h)):(jt&&E&&Wh(n),n.flags|=1,Ge(e,n,o,h),n.child)}function ly(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!$h(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,uy(e,n,f,o,h)):(e=Du(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Qf(e,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Po,a(y,o)&&e.ref===n.ref)return Fi(e,n,h)}return n.flags|=1,e=Li(f,o),e.ref=n.ref,e.return=n,n.child=e}function uy(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(Po(f,o)&&e.ref===n.ref)if(Ie=!1,n.pendingProps=o=f,Qf(e,h))(e.flags&131072)!==0&&(Ie=!0);else return n.lanes=e.lanes,Fi(e,n,h)}return jf(e,n,a,o,h)}function cy(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return hy(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ku(n,f!==null?f.cachePool:null),f!==null?dp(n,f):gf(),mp(n);else return o=n.lanes=536870912,hy(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(ku(n,f.cachePool),dp(n,f),Is(),n.memoizedState=null):(e!==null&&ku(n,null),gf(),Is());return Ge(e,n,h,a),n.child}function Zo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function hy(e,n,a,o,h){var f=uf();return f=f===null?null:{parent:we._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&ku(n,null),gf(),mp(n),e!==null&&va(e,n,o,!0),n.childLanes=h,null}function Zu(e,n){return n=Wu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function fy(e,n,a){return Mr(n,e.child,null,a),e=Zu(n,n.pendingProps),e.flags|=2,Tn(n),n.memoizedState=null,e}function q1(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(jt){if(o.mode==="hidden")return e=Zu(n,o),n.lanes=536870912,Zo(null,e);if(yf(n),(e=ie)?(e=S_(e,Pn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vs!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=Xg(e),a.return=n,n.child=a,He=n,ie=null)):e=null,e===null)throw Ts(n);return n.lanes=536870912,null}return Zu(n,o)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(yf(n),h)if(n.flags&256)n.flags&=-257,n=fy(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ie||va(e,n,a,!1),h=(a&e.childLanes)!==0,Ie||h){if(o=ee,o!==null&&(y=_o(o,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,wr(e,y),dn(o,e,y),Lf;lc(),n=fy(e,n,a)}else e=f.treeContext,ie=Ln(y.nextSibling),He=n,jt=!0,Es=null,Pn=!1,e!==null&&Jg(n,e),n=Zu(n,o),n.flags|=4096;return n}return e=Li(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ju(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function jf(e,n,a,o,h){return Nr(n),a=vf(e,n,a,o,void 0,h),o=Ef(),e!==null&&!Ie?(Tf(e,n,h),Fi(e,n,h)):(jt&&o&&Wh(n),n.flags|=1,Ge(e,n,a,h),n.child)}function dy(e,n,a,o,h,f){return Nr(n),n.updateQueue=null,a=pp(n,o,a,h),gp(e),o=Ef(),e!==null&&!Ie?(Tf(e,n,f),Fi(e,n,f)):(jt&&o&&Wh(n),n.flags|=1,Ge(e,n,a,f),n.child)}function my(e,n,a,o,h){if(Nr(n),n.stateNode===null){var f=ga,y=a.contextType;typeof y=="object"&&y!==null&&(f=Fe(y)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Pf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},hf(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?Fe(y):ga,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(kf(n,a,y,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Pf.enqueueReplaceState(f,f.state,null),Qo(n,o,f,h),Go(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,D=kr(a,E);f.props=D;var z=f.context,G=a.contextType;y=ga,typeof G=="object"&&G!==null&&(y=Fe(G));var K=a.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&ty(n,f,o,y),As=!1;var B=n.memoizedState;f.state=B,Qo(n,o,f,h),Go(),z=n.memoizedState,E||B!==z||As?(typeof K=="function"&&(kf(n,a,K,o),z=n.memoizedState),(D=As||Wp(n,a,D,o,B,z,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=y,o=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,ff(e,n),y=n.memoizedProps,G=kr(a,y),f.props=G,K=n.pendingProps,B=f.context,z=a.contextType,D=ga,typeof z=="object"&&z!==null&&(D=Fe(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==K||B!==D)&&ty(n,f,o,D),As=!1,B=n.memoizedState,f.state=B,Qo(n,o,f,h),Go();var H=n.memoizedState;y!==K||B!==H||As||e!==null&&e.dependencies!==null&&Mu(e.dependencies)?(typeof E=="function"&&(kf(n,a,E,o),H=n.memoizedState),(G=As||Wp(n,a,G,o,B,H,D)||e!==null&&e.dependencies!==null&&Mu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=D,o=G):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ju(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Mr(n,e.child,null,h),n.child=Mr(n,null,a,h)):Ge(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Fi(e,n,h),e}function gy(e,n,a,o){return Ir(),n.flags|=256,Ge(e,n,a,o),n.child}var zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bf(e){return{baseLanes:e,cachePool:sp()}}function qf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=An),e}function py(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(ye.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(jt){if(h?Rs(n):Is(),(e=ie)?(e=S_(e,Pn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vs!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=Xg(e),a.return=n,n.child=a,He=n,ie=null)):e=null,e===null)throw Ts(n);return Sd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Is(),h=n.mode,E=Wu({mode:"hidden",children:E},h),o=Rr(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Bf(a),o.childLanes=qf(e,y,a),n.memoizedState=zf,Zo(null,o)):(Rs(n),Hf(n,E))}var D=e.memoizedState;if(D!==null&&(E=D.dehydrated,E!==null)){if(f)n.flags&256?(Rs(n),n.flags&=-257,n=Ff(e,n,a)):n.memoizedState!==null?(Is(),n.child=e.child,n.flags|=128,n=null):(Is(),E=o.fallback,h=n.mode,o=Wu({mode:"visible",children:o.children},h),E=Rr(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Mr(n,e.child,null,a),o=n.child,o.memoizedState=Bf(a),o.childLanes=qf(e,y,a),n.memoizedState=zf,n=Zo(null,o));else if(Rs(n),Sd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,o=Error(r(419)),o.stack="",o.digest=y,jo({value:o,source:null,stack:null}),n=Ff(e,n,a)}else if(Ie||va(e,n,a,!1),y=(a&e.childLanes)!==0,Ie||y){if(y=ee,y!==null&&(o=_o(y,a),o!==0&&o!==D.retryLane))throw D.retryLane=o,wr(e,o),dn(y,e,o),Lf;Ad(E)||lc(),n=Ff(e,n,a)}else Ad(E)?(n.flags|=192,n.child=e.child,n=null):(e=D.treeContext,ie=Ln(E.nextSibling),He=n,jt=!0,Es=null,Pn=!1,e!==null&&Jg(n,e),n=Hf(n,o.children),n.flags|=4096);return n}return h?(Is(),E=o.fallback,h=n.mode,D=e.child,z=D.sibling,o=Li(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&65011712,z!==null?E=Li(z,E):(E=Rr(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Zo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Bf(a):(h=E.cachePool,h!==null?(D=we._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=sp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=qf(e,y,a),n.memoizedState=zf,Zo(e.child,o)):(Rs(n),a=e.child,e=a.sibling,a=Li(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=a,n.memoizedState=null,a)}function Hf(e,n){return n=Wu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Wu(e,n){return e=vn(22,e,null,n),e.lanes=0,e}function Ff(e,n,a){return Mr(n,e.child,null,a),e=Hf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function yy(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),rf(e.return,n,a)}function Gf(e,n,a,o,h,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function _y(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=ye.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,nt(ye,y),Ge(e,n,o,a),o=jt?Lo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yy(e,a,n);else if(e.tag===19)yy(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Bu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Gf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Bu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Gf(n,!0,a,null,f,o);break;case"together":Gf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Fi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),xs|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(va(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=Li(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Li(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Qf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Mu(e)))}function H1(e,n,a){switch(n.tag){case 3:Oe(n,n.stateNode.containerInfo),bs(n,we,e.memoizedState.cache),Ir();break;case 27:case 5:or(n);break;case 4:Oe(n,n.stateNode.containerInfo);break;case 10:bs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,yf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Rs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?py(e,n,a):(Rs(n),e=Fi(e,n,a),e!==null?e.sibling:null);Rs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(va(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return _y(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(ye,ye.current),o)break;return null;case 22:return n.lanes=0,cy(e,n,a,n.pendingProps);case 24:bs(n,we,e.memoizedState.cache)}return Fi(e,n,a)}function vy(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ie=!0;else{if(!Qf(e,a)&&(n.flags&128)===0)return Ie=!1,H1(e,n,a);Ie=(e.flags&131072)!==0}else Ie=!1,jt&&(n.flags&1048576)!==0&&Zg(n,Lo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Dr(n.elementType),n.type=e,typeof e=="function")$h(e)?(o=kr(e,o),n.tag=1,n=my(null,n,e,o,a)):(n.tag=0,n=jf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Et){n.tag=11,n=oy(null,n,e,o,a);break t}else if(h===N){n.tag=14,n=ly(null,n,e,o,a);break t}}throw n=ut(e)||e,Error(r(306,n,""))}}return n;case 0:return jf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=kr(o,n.pendingProps),my(e,n,o,h,a);case 3:t:{if(Oe(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,ff(e,n),Qo(n,o,null,a);var y=n.memoizedState;if(o=y.cache,bs(n,we,o),o!==f.cache&&af(n,[we],a,!0),Go(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=gy(e,n,o,a);break t}else if(o!==h){h=Mn(Error(r(424)),n),jo(h),n=gy(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ie=Ln(e.firstChild),He=n,jt=!0,Es=null,Pn=!0,a=cp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ir(),o===h){n=Fi(e,n,a);break t}Ge(e,n,o,a)}n=n.child}return n;case 26:return Ju(e,n),e===null?(a=x_(n.type,null,n.pendingProps,null))?n.memoizedState=a:jt||(a=n.type,e=n.pendingProps,o=gc(Ct.current).createElement(a),o[be]=n,o[Pe]=e,Qe(o,a,e),Ae(o),n.stateNode=o):n.memoizedState=x_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return or(n),e===null&&jt&&(o=n.stateNode=I_(n.type,n.pendingProps,Ct.current),He=n,Pn=!0,h=ie,ks(n.type)?(wd=h,ie=Ln(o.firstChild)):ie=h),Ge(e,n,n.pendingProps.children,a),Ju(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&jt&&((h=o=ie)&&(o=vb(o,n.type,n.pendingProps,Pn),o!==null?(n.stateNode=o,He=n,ie=Ln(o.firstChild),Pn=!1,h=!0):h=!1),h||Ts(n)),or(n),h=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,Ed(h,f)?o=null:y!==null&&Ed(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=vf(e,n,V1,null,null,a),fl._currentValue=h),Ju(e,n),Ge(e,n,o,a),n.child;case 6:return e===null&&jt&&((e=a=ie)&&(a=Eb(a,n.pendingProps,Pn),a!==null?(n.stateNode=a,He=n,ie=null,e=!0):e=!1),e||Ts(n)),null;case 13:return py(e,n,a);case 4:return Oe(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Mr(n,null,o,a):Ge(e,n,o,a),n.child;case 11:return oy(e,n,n.type,n.pendingProps,a);case 7:return Ge(e,n,n.pendingProps,a),n.child;case 8:return Ge(e,n,n.pendingProps.children,a),n.child;case 12:return Ge(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,bs(n,n.type,o.value),Ge(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Nr(n),h=Fe(h),o=o(h),n.flags|=1,Ge(e,n,o,a),n.child;case 14:return ly(e,n,n.type,n.pendingProps,a);case 15:return uy(e,n,n.type,n.pendingProps,a);case 19:return _y(e,n,a);case 31:return q1(e,n,a);case 22:return cy(e,n,a,n.pendingProps);case 24:return Nr(n),o=Fe(we),e===null?(h=uf(),h===null&&(h=ee,f=of(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},hf(n),bs(n,we,h)):((e.lanes&a)!==0&&(ff(e,n),Qo(n,null,null,a),Go()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),bs(n,we,o)):(o=f.cache,bs(n,we,o),o!==h.cache&&af(n,[we],a,!0))),Ge(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Gi(e){e.flags|=4}function Yf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Qy())e.flags|=8192;else throw Or=Uu,cf}else e.flags&=-16777217}function Ey(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!k_(n))if(Qy())e.flags|=8192;else throw Or=Uu,cf}function tc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?au():536870912,e.lanes|=n,Da|=n)}function Jo(e,n){if(!jt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function se(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function F1(e,n,a){var o=n.pendingProps;switch(tf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Bi(we),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(_a(n)?Gi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,nf())),se(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Gi(n),f!==null?(se(n),Ey(n,f)):(se(n),Yf(n,h,null,o,a))):f?f!==e.memoizedState?(Gi(n),se(n),Ey(n,f)):(se(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Gi(n),se(n),Yf(n,h,e,o,a)),null;case 27:if($r(n),a=Ct.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return se(n),null}e=ot.current,_a(n)?Wg(n):(e=I_(h,o,a),n.stateNode=e,Gi(n))}return se(n),null;case 5:if($r(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return se(n),null}if(f=ot.current,_a(n))Wg(n);else{var y=gc(Ct.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[be]=n,f[Pe]=o;t:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break t;for(;y.sibling===null;){if(y.return===null||y.return===n)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;t:switch(Qe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Gi(n)}}return se(n),Yf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=Ct.current,_a(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=He,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[be]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||p_(e.nodeValue,a)),e||Ts(n,!0)}else e=gc(e).createTextNode(o),e[be]=n,n.stateNode=e}return se(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=_a(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[be]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),e=!1}else a=nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Tn(n),n):(Tn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return se(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=_a(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[be]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),h=!1}else h=nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Tn(n),n):(Tn(n),null)}return Tn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),tc(n,n.updateQueue),se(n),null);case 4:return ae(),e===null&&gd(n.stateNode.containerInfo),se(n),null;case 10:return Bi(n.type),se(n),null;case 19:if(X(ye),o=n.memoizedState,o===null)return se(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Jo(o,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Bu(e),f!==null){for(n.flags|=128,Jo(o,!1),e=f.updateQueue,n.updateQueue=e,tc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Kg(a,e),a=a.sibling;return nt(ye,ye.current&1|2),jt&&ji(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&en()>rc&&(n.flags|=128,h=!0,Jo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Bu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,tc(n,e),Jo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!jt)return se(n),null}else 2*en()-o.renderingStartTime>rc&&a!==536870912&&(n.flags|=128,h=!0,Jo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=en(),e.sibling=null,a=ye.current,nt(ye,h?a&1|2:a&1),jt&&ji(n,o.treeForkCount),e):(se(n),null);case 22:case 23:return Tn(n),pf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),a=n.updateQueue,a!==null&&tc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&X(xr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Bi(we),se(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function G1(e,n){switch(tf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Bi(we),ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return $r(n),null;case 31:if(n.memoizedState!==null){if(Tn(n),n.alternate===null)throw Error(r(340));Ir()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Tn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ir()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return X(ye),null;case 4:return ae(),null;case 10:return Bi(n.type),null;case 22:case 23:return Tn(n),pf(),e!==null&&X(xr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Bi(we),null;case 25:return null;default:return null}}function Ty(e,n){switch(tf(n),n.tag){case 3:Bi(we),ae();break;case 26:case 27:case 5:$r(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&Tn(n);break;case 13:Tn(n);break;case 19:X(ye);break;case 10:Bi(n.type);break;case 22:case 23:Tn(n),pf(),e!==null&&X(xr);break;case 24:Bi(we)}}function Wo(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==h)}}catch(E){$t(n,n.return,E)}}function Cs(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var D=a,z=E;try{z()}catch(G){$t(h,D,G)}}}o=o.next}while(o!==f)}}catch(G){$t(n,n.return,G)}}function by(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{fp(n,a)}catch(o){$t(e,e.return,o)}}}function Ay(e,n,a){a.props=kr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){$t(e,n,o)}}function tl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){$t(e,n,h)}}function bi(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,n,h)}else a.current=null}function Sy(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function Kf(e,n,a){try{var o=e.stateNode;db(o,e.type,a,n),o[Pe]=n}catch(h){$t(e,e.return,h)}}function wy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ks(e.type)||e.tag===4}function Xf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||wy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ks(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $f(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Gn));else if(o!==4&&(o===27&&ks(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for($f(e,n,a),e=e.sibling;e!==null;)$f(e,n,a),e=e.sibling}function ec(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&ks(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ec(e,n,a),e=e.sibling;e!==null;)ec(e,n,a),e=e.sibling}function Ry(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Qe(n,o,a),n[be]=e,n[Pe]=a}catch(f){$t(e,e.return,f)}}var Qi=!1,Ce=!1,Zf=!1,Iy=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Q1(e,n){if(e=e.containerInfo,_d=bc,e=jg(e),Hh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,D=-1,z=0,G=0,K=e,B=null;e:for(;;){for(var H;K!==a||h!==0&&K.nodeType!==3||(E=y+h),K!==f||o!==0&&K.nodeType!==3||(D=y+o),K.nodeType===3&&(y+=K.nodeValue.length),(H=K.firstChild)!==null;)B=K,K=H;for(;;){if(K===e)break e;if(B===a&&++z===h&&(E=y),B===f&&++G===o&&(D=y),(H=K.nextSibling)!==null)break;K=B,B=K.parentNode}K=H}a=E===-1||D===-1?null:{start:E,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(vd={focusedElem:e,selectionRange:a},bc=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var lt=kr(a.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(_t){$t(a,a.return,_t)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)bd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function Cy(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ki(e,a),o&4&&Wo(5,a);break;case 1:if(Ki(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(y){$t(a,a.return,y)}else{var h=kr(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){$t(a,a.return,y)}}o&64&&by(a),o&512&&tl(a,a.return);break;case 3:if(Ki(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{fp(e,n)}catch(y){$t(a,a.return,y)}}break;case 27:n===null&&o&4&&Ry(a);case 26:case 5:Ki(e,a),n===null&&o&4&&Sy(a),o&512&&tl(a,a.return);break;case 12:Ki(e,a);break;case 31:Ki(e,a),o&4&&Dy(e,a);break;case 13:Ki(e,a),o&4&&Oy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=eb.bind(null,a),Tb(e,a))));break;case 22:if(o=a.memoizedState!==null||Qi,!o){n=n!==null&&n.memoizedState!==null||Ce,h=Qi;var f=Ce;Qi=o,(Ce=n)&&!f?Xi(e,a,(a.subtreeFlags&8772)!==0):Ki(e,a),Qi=h,Ce=f}break;case 30:break;default:Ki(e,a)}}function Ny(e){var n=e.alternate;n!==null&&(e.alternate=null,Ny(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ea(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,un=!1;function Yi(e,n,a){for(a=a.child;a!==null;)xy(e,n,a),a=a.sibling}function xy(e,n,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Bn,a)}catch{}switch(a.tag){case 26:Ce||bi(a,n),Yi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ce||bi(a,n);var o=le,h=un;ks(a.type)&&(le=a.stateNode,un=!1),Yi(e,n,a),ul(a.stateNode),le=o,un=h;break;case 5:Ce||bi(a,n);case 6:if(o=le,h=un,le=null,Yi(e,n,a),le=o,un=h,le!==null)if(un)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(f){$t(a,n,f)}else try{le.removeChild(a.stateNode)}catch(f){$t(a,n,f)}break;case 18:le!==null&&(un?(e=le,b_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ja(e)):b_(le,a.stateNode));break;case 4:o=le,h=un,le=a.stateNode.containerInfo,un=!0,Yi(e,n,a),le=o,un=h;break;case 0:case 11:case 14:case 15:Cs(2,a,n),Ce||Cs(4,a,n),Yi(e,n,a);break;case 1:Ce||(bi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ay(a,n,o)),Yi(e,n,a);break;case 21:Yi(e,n,a);break;case 22:Ce=(o=Ce)||a.memoizedState!==null,Yi(e,n,a),Ce=o;break;default:Yi(e,n,a)}}function Dy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ja(e)}catch(a){$t(n,n.return,a)}}}function Oy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ja(e)}catch(a){$t(n,n.return,a)}}function Y1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Iy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Iy),n;default:throw Error(r(435,e.tag))}}function nc(e,n){var a=Y1(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=nb.bind(null,e,o);o.then(h,h)}})}function cn(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ks(E.type)){le=E.stateNode,un=!1;break t}break;case 5:le=E.stateNode,un=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(le===null)throw Error(r(160));xy(f,y,h),le=null,un=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)My(n,e),n=n.sibling}var Zn=null;function My(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(n,e),hn(e),o&4&&(Cs(3,e,e.return),Wo(3,e),Cs(5,e,e.return));break;case 1:cn(n,e),hn(e),o&512&&(Ce||a===null||bi(a,a.return)),o&64&&Qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Zn;if(cn(n,e),hn(e),o&512&&(Ce||a===null||bi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[li]||f[be]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Qe(f,o,a),f[be]=e,Ae(f),o=f;break t;case"link":var y=M_("link","href",h).get(o+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=h.createElement(o),Qe(f,o,a),h.head.appendChild(f);break;case"meta":if(y=M_("meta","content",h).get(o+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=h.createElement(o),Qe(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[be]=e,Ae(f),o=f}e.stateNode=o}else V_(h,e.type,e.stateNode);else e.stateNode=O_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?V_(h,e.type,e.stateNode):O_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Kf(e,e.memoizedProps,a.memoizedProps)}break;case 27:cn(n,e),hn(e),o&512&&(Ce||a===null||bi(a,a.return)),a!==null&&o&4&&Kf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(cn(n,e),hn(e),o&512&&(Ce||a===null||bi(a,a.return)),e.flags&32){h=e.stateNode;try{ln(h,"")}catch(lt){$t(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Kf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Zf=!0);break;case 6:if(cn(n,e),hn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(lt){$t(e,e.return,lt)}}break;case 3:if(_c=null,h=Zn,Zn=pc(n.containerInfo),cn(n,e),Zn=h,hn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ja(n.containerInfo)}catch(lt){$t(e,e.return,lt)}Zf&&(Zf=!1,Vy(e));break;case 4:o=Zn,Zn=pc(e.stateNode.containerInfo),cn(n,e),hn(e),Zn=o;break;case 12:cn(n,e),hn(e);break;case 31:cn(n,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 13:cn(n,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(sc=en()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 22:h=e.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,z=Qi,G=Ce;if(Qi=z||h,Ce=G||D,cn(n,e),Ce=G,Qi=z,hn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||D||Qi||Ce||Pr(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){D=a=n;try{if(f=D.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=D.stateNode;var K=D.memoizedProps.style,B=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(lt){$t(D,D.return,lt)}}}else if(n.tag===6){if(a===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(lt){$t(D,D.return,lt)}}}else if(n.tag===18){if(a===null){D=n;try{var H=D.stateNode;h?A_(H,!0):A_(D.stateNode,!1)}catch(lt){$t(D,D.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,nc(e,a))));break;case 19:cn(n,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 30:break;case 21:break;default:cn(n,e),hn(e)}}function hn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(wy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Xf(e);ec(e,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(ln(y,""),a.flags&=-33);var E=Xf(e);ec(e,E,y);break;case 3:case 4:var D=a.stateNode.containerInfo,z=Xf(e);$f(e,z,D);break;default:throw Error(r(161))}}catch(G){$t(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Vy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Vy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ki(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Cy(e,n.alternate,n),n=n.sibling}function Pr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Cs(4,n,n.return),Pr(n);break;case 1:bi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ay(n,n.return,a),Pr(n);break;case 27:ul(n.stateNode);case 26:case 5:bi(n,n.return),Pr(n);break;case 22:n.memoizedState===null&&Pr(n);break;case 30:Pr(n);break;default:Pr(n)}e=e.sibling}}function Xi(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Xi(h,f,a),Wo(4,f);break;case 1:if(Xi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$t(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)hp(D[h],E)}catch(z){$t(o,o.return,z)}}a&&y&64&&by(f),tl(f,f.return);break;case 27:Ry(f);case 26:case 5:Xi(h,f,a),a&&o===null&&y&4&&Sy(f),tl(f,f.return);break;case 12:Xi(h,f,a);break;case 31:Xi(h,f,a),a&&y&4&&Dy(h,f);break;case 13:Xi(h,f,a),a&&y&4&&Oy(h,f);break;case 22:f.memoizedState===null&&Xi(h,f,a),tl(f,f.return);break;case 30:break;default:Xi(h,f,a)}n=n.sibling}}function Jf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&zo(a))}function Wf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e))}function Jn(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ky(e,n,a,o),n=n.sibling}function ky(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(e,n,a,o),h&2048&&Wo(9,n);break;case 1:Jn(e,n,a,o);break;case 3:Jn(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e)));break;case 12:if(h&2048){Jn(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){$t(n,n.return,D)}}else Jn(e,n,a,o);break;case 31:Jn(e,n,a,o);break;case 13:Jn(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(e,n,a,o):el(e,n):f._visibility&2?Jn(e,n,a,o):(f._visibility|=2,Ca(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Jf(y,n);break;case 24:Jn(e,n,a,o),h&2048&&Wf(n.alternate,n);break;default:Jn(e,n,a,o)}}function Ca(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,y=n,E=a,D=o,z=y.flags;switch(y.tag){case 0:case 11:case 15:Ca(f,y,E,D,h),Wo(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?Ca(f,y,E,D,h):el(f,y):(G._visibility|=2,Ca(f,y,E,D,h)),h&&z&2048&&Jf(y.alternate,y);break;case 24:Ca(f,y,E,D,h),h&&z&2048&&Wf(y.alternate,y);break;default:Ca(f,y,E,D,h)}n=n.sibling}}function el(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:el(a,o),h&2048&&Jf(o.alternate,o);break;case 24:el(a,o),h&2048&&Wf(o.alternate,o);break;default:el(a,o)}n=n.sibling}}var nl=8192;function Na(e,n,a){if(e.subtreeFlags&nl)for(e=e.child;e!==null;)Py(e,n,a),e=e.sibling}function Py(e,n,a){switch(e.tag){case 26:Na(e,n,a),e.flags&nl&&e.memoizedState!==null&&Mb(a,Zn,e.memoizedState,e.memoizedProps);break;case 5:Na(e,n,a);break;case 3:case 4:var o=Zn;Zn=pc(e.stateNode.containerInfo),Na(e,n,a),Zn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=nl,nl=16777216,Na(e,n,a),nl=o):Na(e,n,a));break;default:Na(e,n,a)}}function Uy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function il(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Le=o,jy(o,e)}Uy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ly(e),e=e.sibling}function Ly(e){switch(e.tag){case 0:case 11:case 15:il(e),e.flags&2048&&Cs(9,e,e.return);break;case 3:il(e);break;case 12:il(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ic(e)):il(e);break;default:il(e)}}function ic(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Le=o,jy(o,e)}Uy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Cs(8,n,n.return),ic(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ic(n));break;default:ic(n)}e=e.sibling}}function jy(e,n){for(;Le!==null;){var a=Le;switch(a.tag){case 0:case 11:case 15:Cs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:zo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Le=o;else t:for(a=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(Ny(o),o===a){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var K1={getCacheForType:function(e){var n=Fe(we),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return Fe(we).controller.signal}},X1=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ee=null,Dt=null,Mt=0,Xt=0,bn=null,Ns=!1,xa=!1,td=!1,$i=0,fe=0,xs=0,Ur=0,ed=0,An=0,Da=0,sl=null,fn=null,nd=!1,sc=0,zy=0,rc=1/0,ac=null,Ds=null,Ve=0,Os=null,Oa=null,Zi=0,id=0,sd=null,By=null,rl=0,rd=null;function Sn(){return(Qt&2)!==0&&Mt!==0?Mt&-Mt:F.T!==null?hd():ou()}function qy(){if(An===0)if((Mt&536870912)===0||jt){var e=cr;cr<<=1,(cr&3932160)===0&&(cr=262144),An=e}else An=536870912;return e=En.current,e!==null&&(e.flags|=32),An}function dn(e,n,a){(e===ee&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(Ma(e,0),Ms(e,Mt,An,!1)),hr(e,a),((Qt&2)===0||e!==ee)&&(e===ee&&((Qt&2)===0&&(Ur|=a),fe===4&&Ms(e,Mt,An,!1)),Ai(e))}function Hy(e,n,a){if((Qt&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||qn(e,n),h=o?J1(e,n):od(e,n,!0),f=o;do{if(h===0){xa&&!o&&Ms(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!$1(a)){h=od(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=e;h=sl;var D=E.current.memoizedState.isDehydrated;if(D&&(Ma(E,y).flags|=256),y=od(E,y,!1),y!==2){if(td&&!D){E.errorRecoveryDisabledLanes|=f,Ur|=f,h=4;break t}f=fn,fn=h,f!==null&&(fn===null?fn=f:fn.push.apply(fn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Ma(e,0),Ms(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ms(o,n,An,!Ns);break t;case 2:fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=sc+300-en(),10<h)){if(Ms(o,n,An,!Ns),ri(o,0,!0)!==0)break t;Zi=n,o.timeoutHandle=E_(Fy.bind(null,o,a,fn,ac,nd,n,An,Ur,Da,Ns,f,"Throttled",-0,0),h);break t}Fy(o,a,fn,ac,nd,n,An,Ur,Da,Ns,f,null,-0,0)}}break}while(!0);Ai(e)}function Fy(e,n,a,o,h,f,y,E,D,z,G,K,B,H){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},Py(n,f,K);var lt=(f&62914560)===f?sc-en():(f&4194048)===f?zy-en():0;if(lt=Vb(K,lt),lt!==null){Zi=f,e.cancelPendingCommit=lt(Jy.bind(null,e,n,f,a,o,h,y,E,D,G,K,null,B,H)),Ms(e,f,y,!z);return}}Jy(e,n,f,a,o,h,y,E,D)}function $1(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!_n(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ms(e,n,a,o){n&=~ed,n&=~Ur,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ge(h),y=1<<f;o[f]=-1,h&=~y}a!==0&&fr(e,a,n)}function oc(){return(Qt&6)===0?(al(0),!1):!0}function ad(){if(Dt!==null){if(Xt===0)var e=Dt.return;else e=Dt,zi=Cr=null,bf(e),Aa=null,qo=0,e=Dt;for(;e!==null;)Ty(e.alternate,e),e=e.return;Dt=null}}function Ma(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,pb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Zi=0,ad(),ee=e,Dt=a=Li(e.current,null),Mt=n,Xt=0,bn=null,Ns=!1,xa=qn(e,n),td=!1,Da=An=ed=Ur=xs=fe=0,fn=sl=null,nd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ge(o),f=1<<h;n|=e[h],o&=~f}return $i=n,Cu(),a}function Gy(e,n){It=null,F.H=$o,n===ba||n===Pu?(n=op(),Xt=3):n===cf?(n=op(),Xt=4):Xt=n===Lf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,bn=n,Dt===null&&(fe=1,$u(e,Mn(n,e.current)))}function Qy(){var e=En.current;return e===null?!0:(Mt&4194048)===Mt?Un===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?e===Un:!1}function Yy(){var e=F.H;return F.H=$o,e===null?$o:e}function Ky(){var e=F.A;return F.A=K1,e}function lc(){fe=4,Ns||(Mt&4194048)!==Mt&&En.current!==null||(xa=!0),(xs&134217727)===0&&(Ur&134217727)===0||ee===null||Ms(ee,Mt,An,!1)}function od(e,n,a){var o=Qt;Qt|=2;var h=Yy(),f=Ky();(ee!==e||Mt!==n)&&(ac=null,Ma(e,n)),n=!1;var y=fe;t:do try{if(Xt!==0&&Dt!==null){var E=Dt,D=bn;switch(Xt){case 8:ad(),y=6;break t;case 3:case 2:case 9:case 6:En.current===null&&(n=!0);var z=Xt;if(Xt=0,bn=null,Va(e,E,D,z),a&&xa){y=0;break t}break;default:z=Xt,Xt=0,bn=null,Va(e,E,D,z)}}Z1(),y=fe;break}catch(G){Gy(e,G)}while(!0);return n&&e.shellSuspendCounter++,zi=Cr=null,Qt=o,F.H=h,F.A=f,Dt===null&&(ee=null,Mt=0,Cu()),y}function Z1(){for(;Dt!==null;)Xy(Dt)}function J1(e,n){var a=Qt;Qt|=2;var o=Yy(),h=Ky();ee!==e||Mt!==n?(ac=null,rc=en()+500,Ma(e,n)):xa=qn(e,n);t:do try{if(Xt!==0&&Dt!==null){n=Dt;var f=bn;e:switch(Xt){case 1:Xt=0,bn=null,Va(e,n,f,1);break;case 2:case 9:if(rp(f)){Xt=0,bn=null,$y(n);break}n=function(){Xt!==2&&Xt!==9||ee!==e||(Xt=7),Ai(e)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:rp(f)?(Xt=0,bn=null,$y(n)):(Xt=0,bn=null,Va(e,n,f,7));break;case 5:var y=null;switch(Dt.tag){case 26:y=Dt.memoizedState;case 5:case 27:var E=Dt;if(y?k_(y):E.stateNode.complete){Xt=0,bn=null;var D=E.sibling;if(D!==null)Dt=D;else{var z=E.return;z!==null?(Dt=z,uc(z)):Dt=null}break e}}Xt=0,bn=null,Va(e,n,f,5);break;case 6:Xt=0,bn=null,Va(e,n,f,6);break;case 8:ad(),fe=6;break t;default:throw Error(r(462))}}W1();break}catch(G){Gy(e,G)}while(!0);return zi=Cr=null,F.H=o,F.A=h,Qt=a,Dt!==null?0:(ee=null,Mt=0,Cu(),fe)}function W1(){for(;Dt!==null&&!Ph();)Xy(Dt)}function Xy(e){var n=vy(e.alternate,e,$i);e.memoizedProps=e.pendingProps,n===null?uc(e):Dt=n}function $y(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=dy(a,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=dy(a,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:bf(n);default:Ty(a,n),n=Dt=Kg(n,$i),n=vy(a,n,$i)}e.memoizedProps=e.pendingProps,n===null?uc(e):Dt=n}function Va(e,n,a,o){zi=Cr=null,bf(n),Aa=null,qo=0;var h=n.return;try{if(B1(e,h,n,a,Mt)){fe=1,$u(e,Mn(a,e.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;fe=1,$u(e,Mn(a,e.current)),Dt=null;return}n.flags&32768?(jt||o===1?e=!0:xa||(Mt&536870912)!==0?e=!1:(Ns=e=!0,(o===2||o===9||o===3||o===6)&&(o=En.current,o!==null&&o.tag===13&&(o.flags|=16384))),Zy(n,e)):uc(n)}function uc(e){var n=e;do{if((n.flags&32768)!==0){Zy(n,Ns);return}e=n.return;var a=F1(n.alternate,n,$i);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=e}while(n!==null);fe===0&&(fe=5)}function Zy(e,n){do{var a=G1(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);fe=6,Dt=null}function Jy(e,n,a,o,h,f,y,E,D){e.cancelPendingCommit=null;do cc();while(Ve!==0);if((Qt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Kh,jh(e,a,f,y,E,D),e===ee&&(Dt=ee=null,Mt=0),Oa=n,Os=e,Zi=a,id=f,sd=h,By=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ib(us,function(){return i_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=tt.p,tt.p=2,y=Qt,Qt|=4;try{Q1(e,n,a)}finally{Qt=y,tt.p=h,F.T=o}}Ve=1,Wy(),t_(),e_()}}function Wy(){if(Ve===1){Ve=0;var e=Os,n=Oa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=tt.p;tt.p=2;var h=Qt;Qt|=4;try{My(n,e);var f=vd,y=jg(e.containerInfo),E=f.focusedElem,D=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Lg(E.ownerDocument.documentElement,E)){if(D!==null&&Hh(E)){var z=D.start,G=D.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,B=K&&K.defaultView||window;if(B.getSelection){var H=B.getSelection(),lt=E.textContent.length,_t=Math.min(D.start,lt),te=D.end===void 0?_t:Math.min(D.end,lt);!H.extend&&_t>te&&(y=te,te=_t,_t=y);var P=Ug(E,_t),V=Ug(E,te);if(P&&V&&(H.rangeCount!==1||H.anchorNode!==P.node||H.anchorOffset!==P.offset||H.focusNode!==V.node||H.focusOffset!==V.offset)){var j=K.createRange();j.setStart(P.node,P.offset),H.removeAllRanges(),_t>te?(H.addRange(j),H.extend(V.node,V.offset)):(j.setEnd(V.node,V.offset),H.addRange(j))}}}}for(K=[],H=E;H=H.parentNode;)H.nodeType===1&&K.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}bc=!!_d,vd=_d=null}finally{Qt=h,tt.p=o,F.T=a}}e.current=n,Ve=2}}function t_(){if(Ve===2){Ve=0;var e=Os,n=Oa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=tt.p;tt.p=2;var h=Qt;Qt|=4;try{Cy(e,n.alternate,n)}finally{Qt=h,tt.p=o,F.T=a}}Ve=3}}function e_(){if(Ve===4||Ve===3){Ve=0,tu();var e=Os,n=Oa,a=Zi,o=By;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,Oa=Os=null,n_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ds=null),Vi(a),n=n.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Bn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=tt.p,tt.p=2,F.T=null;try{for(var f=e.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{F.T=n,tt.p=h}}(Zi&3)!==0&&cc(),Ai(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===rd?rl++:(rl=0,rd=e):rl=0,al(0)}}function n_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,zo(n)))}function cc(){return Wy(),t_(),e_(),i_()}function i_(){if(Ve!==5)return!1;var e=Os,n=id;id=0;var a=Vi(Zi),o=F.T,h=tt.p;try{tt.p=32>a?32:a,F.T=null,a=sd,sd=null;var f=Os,y=Zi;if(Ve=0,Oa=Os=null,Zi=0,(Qt&6)!==0)throw Error(r(331));var E=Qt;if(Qt|=4,Ly(f.current),ky(f,f.current,y,a),Qt=E,al(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Bn,f)}catch{}return!0}finally{tt.p=h,F.T=o,n_(e,n)}}function s_(e,n,a){n=Mn(a,n),n=Uf(e.stateNode,n,2),e=ws(e,n,2),e!==null&&(hr(e,2),Ai(e))}function $t(e,n,a){if(e.tag===3)s_(e,e,a);else for(;n!==null;){if(n.tag===3){s_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ds===null||!Ds.has(o))){e=Mn(a,e),a=ry(2),o=ws(n,a,2),o!==null&&(ay(a,o,n,e),hr(o,2),Ai(o));break}}n=n.return}}function ld(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new X1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(td=!0,h.add(a),e=tb.bind(null,e,n,a),n.then(e,e))}function tb(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ee===e&&(Mt&a)===a&&(fe===4||fe===3&&(Mt&62914560)===Mt&&300>en()-sc?(Qt&2)===0&&Ma(e,0):ed|=a,Da===Mt&&(Da=0)),Ai(e)}function r_(e,n){n===0&&(n=au()),e=wr(e,n),e!==null&&(hr(e,n),Ai(e))}function eb(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),r_(e,a)}function nb(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),r_(e,a)}function ib(e,n){return Me(e,n)}var hc=null,ka=null,ud=!1,fc=!1,cd=!1,Vs=0;function Ai(e){e!==ka&&e.next===null&&(ka===null?hc=ka=e:ka=ka.next=e),fc=!0,ud||(ud=!0,rb())}function al(e,n){if(!cd&&fc){cd=!0;do for(var a=!1,o=hc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ge(42|e)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,u_(o,f))}else f=Mt,f=ri(o,o===ee?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||qn(o,f)||(a=!0,u_(o,f));o=o.next}while(a);cd=!1}}function sb(){a_()}function a_(){fc=ud=!1;var e=0;Vs!==0&&gb()&&(e=Vs);for(var n=en(),a=null,o=hc;o!==null;){var h=o.next,f=o_(o,n);f===0?(o.next=null,a===null?hc=h:a.next=h,h===null&&(ka=a)):(a=o,(e!==0||(f&3)!==0)&&(fc=!0)),o=h}Ve!==0&&Ve!==5||al(e),Vs!==0&&(Vs=0)}function o_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-ge(f),E=1<<y,D=h[y];D===-1?((E&a)===0||(E&o)!==0)&&(h[y]=Lh(E,n)):D<=n&&(e.expiredLanes|=E),f&=~E}if(n=ee,a=Mt,a=ri(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ls(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||qn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&ls(o),Vi(a)){case 2:case 8:a=po;break;case 32:a=us;break;case 268435456:a=eu;break;default:a=us}return o=l_.bind(null,e),a=Me(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&ls(o),e.callbackPriority=2,e.callbackNode=null,2}function l_(e,n){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(cc()&&e.callbackNode!==a)return null;var o=Mt;return o=ri(e,e===ee?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Hy(e,o,n),o_(e,en()),e.callbackNode!=null&&e.callbackNode===a?l_.bind(null,e):null)}function u_(e,n){if(cc())return null;Hy(e,n,!0)}function rb(){yb(function(){(Qt&6)!==0?Me(go,sb):a_()})}function hd(){if(Vs===0){var e=Ea;e===0&&(e=ii,ii<<=1,(ii&261888)===0&&(ii=256)),Vs=e}return Vs}function c_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ra(""+e)}function h_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function ab(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=c_((h[Pe]||null).action),y=o.submitter;y&&(n=(n=y[Pe]||null)?c_(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new pi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Vs!==0){var D=y?h_(h,y):new FormData(h);Df(a,{pending:!0,data:D,method:h.method,action:f},null,D)}}else typeof f=="function"&&(E.preventDefault(),D=y?h_(h,y):new FormData(h),Df(a,{pending:!0,data:D,method:h.method,action:f},f,D))},currentTarget:h}]})}}for(var fd=0;fd<Yh.length;fd++){var dd=Yh[fd],ob=dd.toLowerCase(),lb=dd[0].toUpperCase()+dd.slice(1);$n(ob,"on"+lb)}$n(qg,"onAnimationEnd"),$n(Hg,"onAnimationIteration"),$n(Fg,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(S1,"onTransitionRun"),$n(w1,"onTransitionStart"),$n(R1,"onTransitionCancel"),$n(Gg,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ub=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function f_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],D=E.instance,z=E.currentTarget;if(E=E.listener,D!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Iu(G)}h.currentTarget=null,f=D}else for(y=0;y<o.length;y++){if(E=o[y],D=E.instance,z=E.currentTarget,E=E.listener,D!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Iu(G)}h.currentTarget=null,f=D}}}}function Ot(e,n){var a=n[ta];a===void 0&&(a=n[ta]=new Set);var o=e+"__bubble";a.has(o)||(d_(n,e,2,!1),a.add(o))}function md(e,n,a){var o=0;n&&(o|=4),d_(a,e,o,n)}var dc="_reactListening"+Math.random().toString(36).slice(2);function gd(e){if(!e[dc]){e[dc]=!0,vo.forEach(function(a){a!=="selectionchange"&&(ub.has(a)||md(a,!1,e),md(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[dc]||(n[dc]=!0,md("selectionchange",!1,n))}}function d_(e,n,a,o){switch(q_(n)){case 2:var h=Ub;break;case 8:h=Lb;break;default:h=xd}a=h.bind(null,n,a,e),h=void 0,!yr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function pd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var D=y.tag;if((D===3||D===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=ui(E),y===null)return;if(D=y.tag,D===5||D===6||D===26||D===27){o=f=y;continue t}E=E.parentNode}}o=o.return}gs(function(){var z=f,G=Nn(a),K=[];t:{var B=Qg.get(e);if(B!==void 0){var H=pi,lt=e;switch(e){case"keypress":if(vr(a)===0)break t;case"keydown":case"keyup":H=Su;break;case"focusin":lt="focus",H=Tr;break;case"focusout":lt="blur",H=Tr;break;case"beforeblur":case"afterblur":H=Tr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case qg:case Hg:case Fg:H=yu;break;case Gg:H=b;break;case"scroll":case"scrollend":H=Do;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ui;break;case"toggle":case"beforetoggle":H=Rt}var _t=(n&4)!==0,te=!_t&&(e==="scroll"||e==="scrollend"),P=_t?B!==null?B+"Capture":null:B;_t=[];for(var V=z,j;V!==null;){var Q=V;if(j=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||j===null||P===null||(Q=Qn(V,P),Q!=null&&_t.push(ll(V,Q,j))),te)break;V=V.return}0<_t.length&&(B=new H(B,lt,null,a,G),K.push({event:B,listeners:_t}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==Co&&(lt=a.relatedTarget||a.fromElement)&&(ui(lt)||lt[oi]))break t;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(lt=a.relatedTarget||a.toElement,H=z,lt=lt?ui(lt):null,lt!==null&&(te=u(lt),_t=lt.tag,lt!==te||_t!==5&&_t!==27&&_t!==6)&&(lt=null)):(H=null,lt=z),H!==lt)){if(_t=Oo,Q="onMouseLeave",P="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(_t=Ui,Q="onPointerLeave",P="onPointerEnter",V="pointer"),te=H==null?B:pn(H),j=lt==null?B:pn(lt),B=new _t(Q,V+"leave",H,a,G),B.target=te,B.relatedTarget=j,Q=null,ui(G)===z&&(_t=new _t(P,V+"enter",lt,a,G),_t.target=j,_t.relatedTarget=te,Q=_t),te=Q,H&&lt)e:{for(_t=cb,P=H,V=lt,j=0,Q=P;Q;Q=_t(Q))j++;Q=0;for(var pt=V;pt;pt=_t(pt))Q++;for(;0<j-Q;)P=_t(P),j--;for(;0<Q-j;)V=_t(V),Q--;for(;j--;){if(P===V||V!==null&&P===V.alternate){_t=P;break e}P=_t(P),V=_t(V)}_t=null}else _t=null;H!==null&&m_(K,B,H,_t,!1),lt!==null&&te!==null&&m_(K,te,lt,_t,!0)}}t:{if(B=z?pn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Ht=Dg;else if(Ng(B))if(Og)Ht=T1;else{Ht=v1;var ht=_1}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&sa(z.elementType)&&(Ht=Dg):Ht=E1;if(Ht&&(Ht=Ht(e,z))){xg(K,Ht,a,G);break t}ht&&ht(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&wo(B,"number",B.value)}switch(ht=z?pn(z):window,e){case"focusin":(Ng(ht)||ht.contentEditable==="true")&&(fa=ht,Fh=z,Uo=null);break;case"focusout":Uo=Fh=fa=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,zg(K,a,G);break;case"selectionchange":if(A1)break;case"keydown":case"keyup":zg(K,a,G)}var Nt;if(Gt)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else ha?br(e,a)&&(Vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Vt="onCompositionStart");Vt&&(vi&&a.locale!=="ko"&&(ha||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&ha&&(Nt=xo()):(gi=G,No="value"in gi?gi.value:gi.textContent,ha=!0)),ht=mc(z,Vt),0<ht.length&&(Vt=new _i(Vt,e,null,a,G),K.push({event:Vt,listeners:ht}),Nt?Vt.data=Nt:(Nt=ca(a),Nt!==null&&(Vt.data=Nt)))),(Nt=Dn?m1(e,a):g1(e,a))&&(Vt=mc(z,"onBeforeInput"),0<Vt.length&&(ht=new _i("onBeforeInput","beforeinput",null,a,G),K.push({event:ht,listeners:Vt}),ht.data=Nt)),ab(K,e,z,a,G)}f_(K,n)})}function ll(e,n,a){return{instance:e,listener:n,currentTarget:a}}function mc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Qn(e,a),h!=null&&o.unshift(ll(e,h,f)),h=Qn(e,n),h!=null&&o.push(ll(e,h,f))),e.tag===3)return o;e=e.return}return[]}function cb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function m_(e,n,a,o,h){for(var f=n._reactName,y=[];a!==null&&a!==o;){var E=a,D=E.alternate,z=E.stateNode;if(E=E.tag,D!==null&&D===o)break;E!==5&&E!==26&&E!==27||z===null||(D=z,h?(z=Qn(a,f),z!=null&&y.unshift(ll(a,z,D))):h||(z=Qn(a,f),z!=null&&y.push(ll(a,z,D)))),a=a.return}y.length!==0&&e.push({event:n,listeners:y})}var hb=/\r\n?/g,fb=/\u0000|\uFFFD/g;function g_(e){return(typeof e=="string"?e:""+e).replace(hb,`
`).replace(fb,"")}function p_(e,n){return n=g_(n),g_(e)===n}function Wt(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ln(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ln(e,""+o);break;case"className":yn(e,"class",o);break;case"tabIndex":yn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(e,a,o);break;case"style":Io(e,o,f);break;case"data":if(n!=="object"){yn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ra(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Wt(e,n,"name",h.name,h,null),Wt(e,n,"formEncType",h.formEncType,h,null),Wt(e,n,"formMethod",h.formMethod,h,null),Wt(e,n,"formTarget",h.formTarget,h,null)):(Wt(e,n,"encType",h.encType,h,null),Wt(e,n,"method",h.method,h,null),Wt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ra(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Gn);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ra(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),na(e,"popover",o);break;case"xlinkActuate":Se(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Se(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Se(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Se(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Se(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Se(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Se(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Se(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Se(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":na(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mu.get(a)||a,na(e,a,o))}}function yd(e,n,a,o,h,f){switch(a){case"style":Io(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?ln(e,o):(typeof o=="number"||typeof o=="bigint")&&ln(e,""+o);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[Pe]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):na(e,a,o)}}}function Qe(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Wt(e,n,f,y,a,null)}}h&&Wt(e,n,"srcSet",a.srcSet,a,null),o&&Wt(e,n,"src",a.src,a,null);return;case"input":Ot("invalid",e);var E=f=y=h=null,D=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":y=G;break;case"checked":D=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:Wt(e,n,o,G,a,null)}}hu(e,f,E,D,z,y,h,!1);return;case"select":Ot("invalid",e),o=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:Wt(e,n,h,E,a,null)}n=f,a=y,e.multiple=!!o,n!=null?hs(e,!!o,n,!1):a!=null&&hs(e,!!o,a,!0);return;case"textarea":Ot("invalid",e),f=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Wt(e,n,y,E,a,null)}fs(e,o,h,f);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(o=a[D],o!=null))switch(D){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Wt(e,n,D,o,a,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(o=0;o<ol.length;o++)Ot(ol[o],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Wt(e,n,z,o,a,null)}return;default:if(sa(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&yd(e,n,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Wt(e,n,E,o,a,null))}function db(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,D=null,z=null,G=null;for(H in a){var K=a[H];if(a.hasOwnProperty(H)&&K!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":D=K;default:o.hasOwnProperty(H)||Wt(e,n,H,null,o,K)}}for(var B in o){var H=o[B];if(K=a[B],o.hasOwnProperty(B)&&(H!=null||K!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":y=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==K&&Wt(e,n,B,H,o,K)}}ia(e,y,E,D,z,G,f,h);return;case"select":H=y=E=B=null;for(f in a)if(D=a[f],a.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":H=D;default:o.hasOwnProperty(f)||Wt(e,n,f,null,o,D)}for(h in o)if(f=o[h],D=a[h],o.hasOwnProperty(h)&&(f!=null||D!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==D&&Wt(e,n,h,f,o,D)}n=E,a=y,o=H,B!=null?hs(e,!!a,B,!1):!!o!=!!a&&(n!=null?hs(e,!!a,n,!0):hs(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Wt(e,n,E,null,o,h)}for(y in o)if(h=o[y],f=a[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Wt(e,n,y,h,o,f)}fu(e,B,H);return;case"option":for(var lt in a)if(B=a[lt],a.hasOwnProperty(lt)&&B!=null&&!o.hasOwnProperty(lt))switch(lt){case"selected":e.selected=!1;break;default:Wt(e,n,lt,null,o,B)}for(D in o)if(B=o[D],H=a[D],o.hasOwnProperty(D)&&B!==H&&(B!=null||H!=null))switch(D){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Wt(e,n,D,B,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)B=a[_t],a.hasOwnProperty(_t)&&B!=null&&!o.hasOwnProperty(_t)&&Wt(e,n,_t,null,o,B);for(z in o)if(B=o[z],H=a[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:Wt(e,n,z,B,o,H)}return;default:if(sa(n)){for(var te in a)B=a[te],a.hasOwnProperty(te)&&B!==void 0&&!o.hasOwnProperty(te)&&yd(e,n,te,void 0,o,B);for(G in o)B=o[G],H=a[G],!o.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||yd(e,n,G,B,o,H);return}}for(var P in a)B=a[P],a.hasOwnProperty(P)&&B!=null&&!o.hasOwnProperty(P)&&Wt(e,n,P,null,o,B);for(K in o)B=o[K],H=a[K],!o.hasOwnProperty(K)||B===H||B==null&&H==null||Wt(e,n,K,B,o,H)}function y_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&y_(y)){for(y=0,E=h.responseEnd,o+=1;o<a.length;o++){var D=a[o],z=D.startTime;if(z>E)break;var G=D.transferSize,K=D.initiatorType;G&&y_(K)&&(D=D.responseEnd,y+=G*(D<E?1:(E-z)/(D-z)))}if(--o,n+=8*(f+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var _d=null,vd=null;function gc(e){return e.nodeType===9?e:e.ownerDocument}function __(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ed(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Td=null;function gb(){var e=window.event;return e&&e.type==="popstate"?e===Td?!1:(Td=e,!0):(Td=null,!1)}var E_=typeof setTimeout=="function"?setTimeout:void 0,pb=typeof clearTimeout=="function"?clearTimeout:void 0,T_=typeof Promise=="function"?Promise:void 0,yb=typeof queueMicrotask=="function"?queueMicrotask:typeof T_<"u"?function(e){return T_.resolve(null).then(e).catch(_b)}:E_;function _b(e){setTimeout(function(){throw e})}function ks(e){return e==="head"}function b_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),ja(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")ul(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ul(a);for(var f=a.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[li]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&ul(e.ownerDocument.body);a=h}while(a);ja(n)}function A_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function bd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bd(a),ea(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function vb(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[li])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function Eb(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ln(e.nextSibling),e===null))return null;return e}function S_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ln(e.nextSibling),e===null))return null;return e}function Ad(e){return e.data==="$?"||e.data==="$~"}function Sd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Tb(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Ln(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var wd=null;function w_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Ln(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function R_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function I_(e,n,a){switch(n=gc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ul(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ea(e)}var jn=new Map,C_=new Set;function pc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ji=tt.d;tt.d={f:bb,r:Ab,D:Sb,C:wb,L:Rb,m:Ib,X:Nb,S:Cb,M:xb};function bb(){var e=Ji.f(),n=oc();return e||n}function Ab(e){var n=Cn(e);n!==null&&n.tag===5&&n.type==="form"?Gp(n):Ji.r(e)}var Pa=typeof document>"u"?null:document;function N_(e,n,a){var o=Pa;if(o&&typeof n=="string"&&n){var h=on(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),C_.has(h)||(C_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Qe(n,"link",e),Ae(n),o.head.appendChild(n)))}}function Sb(e){Ji.D(e),N_("dns-prefetch",e,null)}function wb(e,n){Ji.C(e,n),N_("preconnect",e,n)}function Rb(e,n,a){Ji.L(e,n,a);var o=Pa;if(o&&e&&n){var h='link[rel="preload"][as="'+on(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+on(a.imageSizes)+'"]')):h+='[href="'+on(e)+'"]';var f=h;switch(n){case"style":f=Ua(e);break;case"script":f=La(e)}jn.has(f)||(e=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),jn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(cl(f))||n==="script"&&o.querySelector(hl(f))||(n=o.createElement("link"),Qe(n,"link",e),Ae(n),o.head.appendChild(n)))}}function Ib(e,n){Ji.m(e,n);var a=Pa;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+on(o)+'"][href="'+on(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=La(e)}if(!jn.has(f)&&(e=A({rel:"modulepreload",href:e},n),jn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(hl(f)))return}o=a.createElement("link"),Qe(o,"link",e),Ae(o),a.head.appendChild(o)}}}function Cb(e,n,a){Ji.S(e,n,a);var o=Pa;if(o&&e){var h=ci(o).hoistableStyles,f=Ua(e);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(cl(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},a),(a=jn.get(f))&&Rd(e,a);var D=y=o.createElement("link");Ae(D),Qe(D,"link",e),D._p=new Promise(function(z,G){D.onload=z,D.onerror=G}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,yc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function Nb(e,n){Ji.X(e,n);var a=Pa;if(a&&e){var o=ci(a).hoistableScripts,h=La(e),f=o.get(h);f||(f=a.querySelector(hl(h)),f||(e=A({src:e,async:!0},n),(n=jn.get(h))&&Id(e,n),f=a.createElement("script"),Ae(f),Qe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function xb(e,n){Ji.M(e,n);var a=Pa;if(a&&e){var o=ci(a).hoistableScripts,h=La(e),f=o.get(h);f||(f=a.querySelector(hl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=jn.get(h))&&Id(e,n),f=a.createElement("script"),Ae(f),Qe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function x_(e,n,a,o){var h=(h=Ct.current)?pc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ua(a.href),a=ci(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ua(a.href);var f=ci(h).hoistableStyles,y=f.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=h.querySelector(cl(e)))&&!f._p&&(y.instance=f,y.state.loading=5),jn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(e,a),f||Db(h,e,a,y.state))),n&&o===null)throw Error(r(528,""));return y}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=La(a),a=ci(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ua(e){return'href="'+on(e)+'"'}function cl(e){return'link[rel="stylesheet"]['+e+"]"}function D_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function Db(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Qe(n,"link",a),Ae(n),e.head.appendChild(n))}function La(e){return'[src="'+on(e)+'"]'}function hl(e){return"script[async]"+e}function O_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+on(a.href)+'"]');if(o)return n.instance=o,Ae(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ae(o),Qe(o,"style",h),yc(o,a.precedence,e),n.instance=o;case"stylesheet":h=Ua(a.href);var f=e.querySelector(cl(h));if(f)return n.state.loading|=4,n.instance=f,Ae(f),f;o=D_(a),(h=jn.get(h))&&Rd(o,h),f=(e.ownerDocument||e).createElement("link"),Ae(f);var y=f;return y._p=new Promise(function(E,D){y.onload=E,y.onerror=D}),Qe(f,"link",o),n.state.loading|=4,yc(f,a.precedence,e),n.instance=f;case"script":return f=La(a.src),(h=e.querySelector(hl(f)))?(n.instance=h,Ae(h),h):(o=a,(h=jn.get(f))&&(o=A({},a),Id(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ae(h),Qe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,yc(o,a.precedence,e));return n.instance}function yc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Rd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Id(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var _c=null;function M_(e,n,a){if(_c===null){var o=new Map,h=_c=new Map;h.set(a,o)}else h=_c,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[li]||f[be]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function V_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function Ob(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function k_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Mb(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ua(o.href),f=n.querySelector(cl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=vc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Ae(f);return}f=n.ownerDocument||n,o=D_(o),(h=jn.get(h))&&Rd(o,h),f=f.createElement("link"),Ae(f);var y=f;y._p=new Promise(function(E,D){y.onload=E,y.onerror=D}),Qe(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=vc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Cd=0;function Vb(e,n){return e.stylesheets&&e.count===0&&Tc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Cd===0&&(Cd=62500*mb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Cd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ec=null;function Tc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ec=new Map,n.forEach(kb,e),Ec=null,vc.call(e))}function kb(e,n){if(!(n.state.loading&4)){var a=Ec.get(e);if(a)var o=a.get(null);else{a=new Map,Ec.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,h),a.set(y,h),this.count++,o=vc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var fl={$$typeof:ft,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function Pb(e,n,a,o,h,f,y,E,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function P_(e,n,a,o,h,f,y,E,D,z,G,K){return e=new Pb(e,n,a,y,D,z,G,K,E),n=1,f===!0&&(n|=24),f=vn(3,null,null,n),e.current=f,f.stateNode=e,n=of(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},hf(f),e}function U_(e){return e?(e=ga,e):ga}function L_(e,n,a,o,h,f){h=U_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ss(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=ws(e,o,n),a!==null&&(dn(a,e,n),Fo(a,e,n))}function j_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Nd(e,n){j_(e,n),(e=e.alternate)&&j_(e,n)}function z_(e){if(e.tag===13||e.tag===31){var n=wr(e,67108864);n!==null&&dn(n,e,67108864),Nd(e,67108864)}}function B_(e){if(e.tag===13||e.tag===31){var n=Sn();n=dr(n);var a=wr(e,n);a!==null&&dn(a,e,n),Nd(e,n)}}var bc=!0;function Ub(e,n,a,o){var h=F.T;F.T=null;var f=tt.p;try{tt.p=2,xd(e,n,a,o)}finally{tt.p=f,F.T=h}}function Lb(e,n,a,o){var h=F.T;F.T=null;var f=tt.p;try{tt.p=8,xd(e,n,a,o)}finally{tt.p=f,F.T=h}}function xd(e,n,a,o){if(bc){var h=Dd(o);if(h===null)pd(e,n,o,Ac,a),H_(e,o);else if(zb(h,e,n,a,o))o.stopPropagation();else if(H_(e,o),n&4&&-1<jb.indexOf(e)){for(;h!==null;){var f=Cn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=si(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var D=1<<31-ge(y);E.entanglements[1]|=D,y&=~D}Ai(f),(Qt&6)===0&&(rc=en()+500,al(0))}}break;case 31:case 13:E=wr(f,2),E!==null&&dn(E,f,2),oc(),Nd(f,2)}if(f=Dd(o),f===null&&pd(e,n,o,Ac,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else pd(e,n,o,null,a)}}function Dd(e){return e=Nn(e),Od(e)}var Ac=null;function Od(e){if(Ac=null,e=ui(e),e!==null){var n=u(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=g(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ac=e,null}function q_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ur()){case go:return 2;case po:return 8;case us:case Uh:return 32;case eu:return 268435456;default:return 32}default:return 32}}var Md=!1,Ps=null,Us=null,Ls=null,dl=new Map,ml=new Map,js=[],jb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function H_(e,n){switch(e){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(n.pointerId)}}function gl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Cn(n),n!==null&&z_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function zb(e,n,a,o,h){switch(n){case"focusin":return Ps=gl(Ps,e,n,a,o,h),!0;case"dragenter":return Us=gl(Us,e,n,a,o,h),!0;case"mouseover":return Ls=gl(Ls,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return dl.set(f,gl(dl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ml.set(f,gl(ml.get(f)||null,e,n,a,o,h)),!0}return!1}function F_(e){var n=ui(e.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Hn(e.priority,function(){B_(a)});return}}else if(n===31){if(n=g(a),n!==null){e.blockedOn=n,Hn(e.priority,function(){B_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Dd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Co=o,a.target.dispatchEvent(o),Co=null}else return n=Cn(a),n!==null&&z_(n),e.blockedOn=a,!1;n.shift()}return!0}function G_(e,n,a){Sc(e)&&a.delete(n)}function Bb(){Md=!1,Ps!==null&&Sc(Ps)&&(Ps=null),Us!==null&&Sc(Us)&&(Us=null),Ls!==null&&Sc(Ls)&&(Ls=null),dl.forEach(G_),ml.forEach(G_)}function wc(e,n){e.blockedOn===n&&(e.blockedOn=null,Md||(Md=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Bb)))}var Rc=null;function Q_(e){Rc!==e&&(Rc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Rc===e&&(Rc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Od(o||a)===null)continue;break}var f=Cn(a);f!==null&&(e.splice(n,3),n-=3,Df(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ja(e){function n(D){return wc(D,e)}Ps!==null&&wc(Ps,e),Us!==null&&wc(Us,e),Ls!==null&&wc(Ls,e),dl.forEach(n),ml.forEach(n);for(var a=0;a<js.length;a++){var o=js[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<js.length&&(a=js[0],a.blockedOn===null);)F_(a),a.blockedOn===null&&js.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],y=h[Pe]||null;if(typeof f=="function")y||Q_(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Pe]||null)E=y.formAction;else if(Od(h)!==null)continue}else E=y.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),Q_(a)}}}function Y_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Vd(e){this._internalRoot=e}Ic.prototype.render=Vd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Sn();L_(a,o,e,n,null,null)},Ic.prototype.unmount=Vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;L_(e.current,2,null,e,null,null),oc(),n[oi]=null}};function Ic(e){this._internalRoot=e}Ic.prototype.unstable_scheduleHydration=function(e){if(e){var n=ou();e={blockedOn:null,target:e,priority:n};for(var a=0;a<js.length&&n!==0&&n<js[a].priority;a++);js.splice(a,0,e),a===0&&F_(e)}};var K_=t.version;if(K_!=="19.2.0")throw Error(r(527,K_,"19.2.0"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var qb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{Bn=Cc.inject(qb),Be=Cc}catch{}}return yl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=ey,f=ny,y=iy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=P_(e,1,!1,null,null,a,o,null,h,f,y,Y_),e[oi]=n.current,gd(e),new Vd(n)},yl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=ey,y=ny,E=iy,D=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),n=P_(e,1,!0,n,a??null,o,h,D,f,y,E,Y_),n.context=U_(null),a=n.current,o=Sn(),o=dr(o),h=Ss(o),h.callback=null,ws(a,h,o),a=o,n.current.lanes=a,hr(n,a),Ai(n),e[oi]=n.current,gd(e),new Ic(n)},yl.version="19.2.0",yl}var s0;function Wb(){if(s0)return Ud.exports;s0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ud.exports=Jb(),Ud.exports}var tA=Wb();const eA=Fb(tA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iA=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),r0=s=>{const t=iA(s);return t.charAt(0).toUpperCase()+t.slice(1)},jv=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),sA=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=mt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:d,...g},_)=>mt.createElement("svg",{ref:_,...rA,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:jv("lucide",l),...!u&&!sA(g)&&{"aria-hidden":"true"},...g},[...d.map(([p,T])=>mt.createElement(p,T)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(s,t)=>{const i=mt.forwardRef(({className:r,...l},u)=>mt.createElement(aA,{ref:u,iconNode:t,className:jv(`lucide-${nA(r0(s))}`,`lucide-${s}`,r),...l}));return i.displayName=r0(s),i};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],zv=me("calculator",oA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],uA=me("chevron-down",lA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],hA=me("chevron-left",cA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],dA=me("chevron-right",fA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],gA=me("chevron-up",mA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Bv=me("clipboard-list",pA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],_A=me("layout-dashboard",yA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],a0=me("loader-circle",vA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],TA=me("log-out",EA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],AA=me("log-in",bA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bl=me("plus",SA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],qv=me("printer",wA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],IA=me("puzzle",RA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],nm=me("save",CA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xA=me("settings",NA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],OA=me("sliders-horizontal",DA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],VA=me("square-check-big",MA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],PA=me("square",kA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Nl=me("trash-2",UA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],jA=me("triangle-alert",LA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],BA=me("warehouse",zA);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],HA=me("x",qA),FA=({plan:s,onClose:t,onSave:i})=>{const r=s.details.reduce((u,d)=>u+d.printers,0),l=u=>u===1?"":u>1&&u<5?"":"";return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 p-4",children:w.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[w.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700",children:[w.jsxs("h2",{className:"text-2xl font-bold text-white",children:[' : "',s.name,'"']}),w.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-white transition-colors",children:w.jsx(HA,{size:24})})]}),w.jsxs("div",{className:"p-6 overflow-y-auto",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[w.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-md",children:[w.jsxs("h3",{className:"font-semibold text-lg text-blue-400 mb-2",children:["   (",r," ",l(r),")"]}),w.jsx("ul",{className:"space-y-1",children:s.details.map(u=>w.jsxs("li",{className:"flex justify-between text-gray-300",children:[w.jsx("span",{children:u.name}),w.jsxs("span",{className:"font-medium text-gray-200",children:[u.printers," ",l(u.printers)]})]},u.id))})]}),w.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-md",children:[w.jsx("h3",{className:"font-semibold text-lg text-blue-400 mb-2",children:" "}),w.jsx("ul",{className:"space-y-1",children:s.rooms.map(u=>w.jsxs("li",{className:"flex justify-between text-gray-300",children:[w.jsx("span",{children:u.name}),w.jsxs("span",{className:"font-medium text-gray-200",children:[u.printers," "]})]},u.id))})]})]}),w.jsx("h3",{className:"font-semibold text-xl text-blue-400 mb-4",children:""}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.rooms.map(u=>{const d=s.distribution.filter(g=>g.roomId===u.id);return d.length===0?null:w.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[w.jsx("h4",{className:"font-bold text-lg text-white mb-2",children:u.name}),w.jsx("ul",{className:"space-y-1 text-sm",children:d.map((g,_)=>w.jsxs("li",{className:"flex justify-between text-gray-300 border-b border-gray-600 py-1 last:border-b-0",children:[w.jsx("span",{children:g.detailName}),w.jsxs("span",{className:"font-semibold text-gray-200",children:[g.printers," ",l(g.printers)]})]},_))})]},u.id)})})]}),w.jsxs("div",{className:"flex justify-end p-4 border-t border-gray-700 bg-gray-800/50",children:[w.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-300 hover:bg-gray-700 rounded-md mr-2 transition-colors",children:""}),w.jsxs("button",{onClick:()=>i(s),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-md flex items-center gap-2 transition-colors",children:[w.jsx(nm,{size:18}),"  "]})]})]})})},o0=({rooms:s,detailSpecs:t,createPlan:i})=>{const[r,l]=mt.useState(new Set),[u,d]=mt.useState([{id:`detail-${Date.now()}`,name:"",printers:0}]),[g,_]=mt.useState(""),[p,T]=mt.useState(()=>{const S=new Date,O=S.getFullYear(),C=(S.getMonth()+1).toString().padStart(2,"0"),M=S.getDate().toString().padStart(2,"0");return`${O}-${C}-${M}`}),[A,x]=mt.useState(null),[U,W]=mt.useState(null);mt.useEffect(()=>{l(S=>{const O=new Set,C=new Set(s.map(M=>M.id));return S.forEach(M=>{C.has(M)&&O.add(M)}),S.size===0&&s.length>0?new Set(s.map(M=>M.id)):O})},[s]);const Z=(S,O,C)=>{const M=[...u];M[S][O]=C,d(M)},J=()=>{d([...u,{id:`detail-${Date.now()}`,name:"",printers:0}])},rt=S=>{d(u.filter((O,C)=>C!==S))},ct=S=>{const O=new Set(r);O.has(S)?O.delete(S):O.add(S),l(O)},ft=()=>{r.size===s.length?l(new Set):l(new Set(s.map(S=>S.id)))},{totalPrintersRequired:Et,availablePrinters:st}=mt.useMemo(()=>{const S=u.reduce((C,M)=>C+(Number(M.printers)||0),0),O=s.filter(C=>r.has(C.id)).reduce((C,M)=>C+M.printers,0);return{totalPrintersRequired:S,availablePrinters:O}},[u,s,r]),dt=mt.useMemo(()=>{if(u.length===0)return!1;const S=u[u.length-1];return S.name.trim()===""||(S.printers||0)<=0},[u]),N=mt.useCallback(()=>{if(x(null),g.trim()===""){x(" ,   .");return}const S=u.filter(ut=>ut.name.trim()!==""&&ut.printers>0);if(S.length===0){x("           > 0.");return}if(r.size===0){x("      .");return}if(Et>st){x(`    (${Et})     (${st}).`);return}let O=[...S].sort((ut,xt)=>xt.printers-ut.printers),C=s.filter(ut=>r.has(ut.id)).map(ut=>({...ut,available:ut.printers})).sort((ut,xt)=>xt.available-ut.available);const M=[];for(const ut of O){let xt=ut.printers;for(const F of C){if(xt===0)break;if(F.available>0){const tt=Math.min(xt,F.available);M.push({detailId:ut.id,detailName:ut.name,roomId:F.id,roomName:F.name,printers:tt}),xt-=tt,F.available-=tt}}}const R={id:`plan-${Date.now()}`,name:g.trim(),details:S,rooms:s.filter(ut=>r.has(ut.id)),distribution:M,date:p};W(R)},[u,s,r,p,g,Et,st]),I=S=>{i(S),W(null),d([{id:`detail-${Date.now()}`,name:"",printers:0}]),_(""),x("    ."),setTimeout(()=>x(null),3e3)};return w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[U&&w.jsx(FA,{plan:U,onSave:I,onClose:()=>W(null)}),w.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[w.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg",children:[w.jsxs("div",{className:"flex justify-between items-baseline mb-4",children:[w.jsx("h2",{className:"text-2xl font-bold text-white",children:"  "}),w.jsxs("span",{className:`text-base font-medium ${st-Et>=0?"text-gray-400":"text-red-400"}`,children:["  : ",w.jsx("span",{className:"font-bold text-lg",children:st-Et})]})]}),u.map((S,O)=>w.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 mb-3",children:[w.jsxs("div",{className:"w-full sm:flex-grow",children:[w.jsx("input",{type:"text",list:"detail-names",value:S.name,onChange:C=>Z(O,"name",C.target.value),placeholder:" ",className:"w-full bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),w.jsx("datalist",{id:"detail-names",children:t.map(C=>w.jsx("option",{value:C.name},C.id))})]}),w.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[w.jsx("input",{type:"number",min:"0",value:S.printers||"",onChange:C=>Z(O,"printers",parseInt(C.target.value,10)||0),placeholder:"- ",className:"flex-grow sm:flex-grow-0 sm:w-32 bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),w.jsx("button",{onClick:()=>rt(O),className:"p-2 text-gray-400 hover:text-red-500 transition-colors shrink-0",children:w.jsx(Nl,{size:20})})]})]},S.id)),w.jsxs("button",{onClick:J,disabled:dt,className:"mt-2 flex items-center gap-2 text-blue-500 hover:text-blue-400 font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:dt?"        ":"  ",children:[w.jsx(bl,{size:18}),"  "]})]}),w.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h2",{className:"text-2xl font-bold text-white",children:"  "}),w.jsxs("button",{onClick:ft,className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-700 hover:bg-gray-600 rounded-md transition-colors",children:[r.size===s.length&&s.length>0?w.jsx(VA,{size:16}):w.jsx(PA,{size:16}),w.jsx("span",{children:" "})]})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(S=>w.jsx("div",{className:`p-4 rounded-md border-2 transition-all ${r.has(S.id)?"border-blue-500 bg-blue-500/10":"border-gray-700 bg-gray-700/50"}`,children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("label",{htmlFor:`room-${S.id}`,className:"flex items-center gap-3 cursor-pointer",children:[w.jsx("input",{type:"checkbox",id:`room-${S.id}`,checked:r.has(S.id),onChange:()=>ct(S.id),className:"h-5 w-5 rounded bg-gray-600 border-gray-500 text-blue-600 focus:ring-blue-500"}),w.jsx("span",{className:"font-semibold text-lg",children:S.name})]}),w.jsxs("span",{className:"text-sm text-gray-400",children:[": ",S.printers]})]})},S.id))})]})]}),w.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg self-start sticky top-6",children:[w.jsx("h2",{className:"text-2xl font-bold mb-6 text-white border-b border-gray-700 pb-3",children:" "}),w.jsxs("div",{className:"space-y-4 mb-6",children:[w.jsxs("div",{className:"flex justify-between items-center text-lg",children:[w.jsx("span",{className:"text-gray-400",children:" :"}),w.jsx("span",{className:"font-bold text-white",children:Et})]}),w.jsxs("div",{className:"flex justify-between items-center text-lg",children:[w.jsx("span",{className:"text-gray-400",children:" :"}),w.jsx("span",{className:`font-bold ${st>=Et?"text-green-400":"text-red-400"}`,children:st})]})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsxs("label",{htmlFor:"plan-name",className:"block text-sm font-medium text-gray-400 mb-1",children:["  ",w.jsx("span",{className:"text-red-400",children:"*"})]}),w.jsx("input",{type:"text",id:"plan-name",value:g,onChange:S=>_(S.target.value),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"plan-date",className:"block text-sm font-medium text-gray-400 mb-1",children:" "}),w.jsx("input",{type:"date",id:"plan-date",value:p,onChange:S=>T(S.target.value),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),w.jsxs("button",{onClick:N,className:"w-full flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-md transition-colors text-lg",children:[w.jsx(OA,{size:20})," "]})]}),A&&w.jsx("div",{className:`mt-4 p-3 rounded-md text-sm ${A.includes("")?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:A})]})]})},GA=({rooms:s,updateRoom:t,addRoom:i,deleteRoom:r,detailSpecs:l,addDetailSpec:u,updateDetailSpec:d,deleteDetailSpec:g,addMultipleDetailSpecs:_})=>{const[p,T]=mt.useState("rooms"),[A,x]=mt.useState(s),[U,W]=mt.useState({name:"",printers:0}),[Z,J]=mt.useState(l),[rt,ct]=mt.useState({name:"",partsPerPlate:0}),[ft,Et]=mt.useState("");mt.useEffect(()=>{x(s)},[s]),mt.useEffect(()=>{J(l)},[l]);const st=(R,ut,xt)=>{x(F=>F.map(tt=>tt.id===R?{...tt,[ut]:xt}:tt))},dt=R=>t(R),N=()=>{U.name.trim()&&U.printers>0&&(i(U),W({name:"",printers:0}))},I=(R,ut,xt)=>{J(F=>F.map(tt=>tt.id===R?{...tt,[ut]:xt}:tt))},S=R=>d(R),O=()=>{rt.name.trim()&&rt.partsPerPlate>0&&(u(rt),ct({name:"",partsPerPlate:0}))},C=()=>{const R=ft.split(`
`).filter(xt=>xt.trim()!==""),ut=[];R.forEach(xt=>{const F=xt.trim(),tt=F.lastIndexOf(" ");if(tt>0){const gt=F.substring(0,tt).trim(),Lt=F.substring(tt+1).trim(),qt=parseInt(Lt,10);gt&&!isNaN(qt)&&qt>0&&ut.push({name:gt,partsPerPlate:qt})}}),ut.length>0&&(_(ut),Et(""))},M=({tab:R,label:ut,icon:xt})=>w.jsxs("button",{onClick:()=>T(R),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-t-lg transition-colors border-b-2 ${p===R?"text-blue-400 border-blue-400":"text-gray-400 border-transparent hover:text-white"}`,children:[w.jsx(xt,{size:18}),ut]});return w.jsxs("div",{className:"max-w-4xl mx-auto",children:[w.jsx("h2",{className:"text-3xl font-bold mb-6 text-white",children:" "}),w.jsxs("div",{className:"flex border-b border-gray-700 mb-6",children:[w.jsx(M,{tab:"rooms",label:"",icon:BA}),w.jsx(M,{tab:"details",label:"",icon:IA})]}),w.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg space-y-4",children:[p==="rooms"&&w.jsxs(w.Fragment,{children:[A.map(R=>w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-12 items-center gap-3 p-3 bg-gray-700/50 rounded-md",children:[w.jsx("input",{type:"text",value:R.name,onChange:ut=>st(R.id,"name",ut.target.value),placeholder:" ",className:"col-span-12 sm:col-span-7 bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500"}),w.jsx("input",{type:"number",min:"0",value:R.printers,onChange:ut=>st(R.id,"printers",parseInt(ut.target.value)||0),className:"col-span-6 sm:col-span-2 bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500"}),w.jsxs("div",{className:"col-span-6 sm:col-span-3 flex items-center justify-end gap-2",children:[w.jsx("button",{onClick:()=>dt(R),title:"",className:"p-2 text-gray-300 hover:text-green-400 transition-colors",children:w.jsx(nm,{size:20})}),w.jsx("button",{onClick:()=>r(R.id),title:"",className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:w.jsx(Nl,{size:20})})]})]},R.id)),w.jsxs("div",{className:"pt-4 border-t border-gray-700 grid grid-cols-1 sm:grid-cols-12 items-center gap-3",children:[w.jsx("input",{type:"text",value:U.name,onChange:R=>W({...U,name:R.target.value}),placeholder:"  ",className:"col-span-12 sm:col-span-7 bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500"}),w.jsx("input",{type:"number",min:"0",value:U.printers||"",onChange:R=>W({...U,printers:parseInt(R.target.value)||0}),placeholder:"-",className:"col-span-9 sm:col-span-3 bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500"}),w.jsx("button",{onClick:N,title:" ",className:"col-span-3 sm:col-span-2 p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors flex justify-center",children:w.jsx(bl,{size:20})})]})]}),p==="details"&&w.jsxs(w.Fragment,{children:[Z.map(R=>w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-12 items-center gap-3 p-3 bg-gray-700/50 rounded-md",children:[w.jsx("input",{type:"text",value:R.name,onChange:ut=>I(R.id,"name",ut.target.value),placeholder:" ",className:"col-span-12 sm:col-span-7 bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500"}),w.jsx("input",{type:"number",min:"0",value:R.partsPerPlate,onChange:ut=>I(R.id,"partsPerPlate",parseInt(ut.target.value)||0),className:"col-span-6 sm:col-span-2 bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500"}),w.jsxs("div",{className:"col-span-6 sm:col-span-3 flex items-center justify-end gap-2",children:[w.jsx("button",{onClick:()=>S(R),title:"",className:"p-2 text-gray-300 hover:text-green-400 transition-colors",children:w.jsx(nm,{size:20})}),w.jsx("button",{onClick:()=>g(R.id),title:"",className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:w.jsx(Nl,{size:20})})]})]},R.id)),w.jsxs("div",{className:"pt-4 border-t border-gray-700 grid grid-cols-1 sm:grid-cols-12 items-center gap-3",children:[w.jsx("input",{type:"text",value:rt.name,onChange:R=>ct({...rt,name:R.target.value}),placeholder:"  ",className:"col-span-12 sm:col-span-7 bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500"}),w.jsx("input",{type:"number",min:"0",value:rt.partsPerPlate||"",onChange:R=>ct({...rt,partsPerPlate:parseInt(R.target.value)||0}),placeholder:"-/",className:"col-span-9 sm:col-span-3 bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500"}),w.jsx("button",{onClick:O,title:" ",className:"col-span-3 sm:col-span-2 p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors flex justify-center",children:w.jsx(bl,{size:20})})]}),w.jsxs("div",{className:"pt-6 mt-6 border-t border-gray-700",children:[w.jsx("h3",{className:"text-lg font-semibold mb-3 text-white",children:" "}),w.jsxs("p",{className:"text-sm text-gray-400 mb-3",children:["    : ",w.jsx("code",{children:"  [] __"}),".     ."]}),w.jsx("textarea",{value:ft,onChange:R=>Et(R.target.value),placeholder:`  10
  5`,className:"w-full bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 h-32 focus:ring-2 focus:ring-blue-500"}),w.jsxs("button",{onClick:C,className:"mt-3 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!ft.trim(),children:[w.jsx(bl,{size:18})," "]})]})]})]})]})},QA=()=>{};var l0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},YA=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[i++];t[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[i++],d=s[i++],g=s[i++],_=((l&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const u=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return t.join("")},Fv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,g=d?s[l+1]:0,_=l+2<s.length,p=_?s[l+2]:0,T=u>>2,A=(u&3)<<4|g>>4;let x=(g&15)<<2|p>>6,U=p&63;_||(U=64,d||(x=64)),r.push(i[T],i[A],i[x],i[U])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Hv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):YA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const p=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,u==null||g==null||p==null||A==null)throw new KA;const x=u<<2|g>>4;if(r.push(x),p!==64){const U=g<<4&240|p>>2;if(r.push(U),A!==64){const W=p<<6&192|A;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class KA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XA=function(s){const t=Hv(s);return Fv.encodeByteArray(t,!0)},Xc=function(s){return XA(s).replace(/\./g,"")},Gv=function(s){try{return Fv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=()=>$A().__FIREBASE_DEFAULTS__,JA=()=>{if(typeof process>"u"||typeof l0>"u")return;const s=l0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},WA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Gv(s[1]);return t&&JSON.parse(t)},gh=()=>{try{return QA()||ZA()||JA()||WA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Qv=s=>{var t,i;return(i=(t=gh())==null?void 0:t.emulatorHosts)==null?void 0:i[s]},tS=s=>{const t=Qv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},Yv=()=>{var s;return(s=gh())==null?void 0:s.config},Kv=s=>{var t;return(t=gh())==null?void 0:t[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Xv(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Xc(JSON.stringify(i)),Xc(JSON.stringify(d)),""].join(".")}const Al={};function iS(){const s={prod:[],emulator:[]};for(const t of Object.keys(Al))Al[t]?s.emulator.push(t):s.prod.push(t);return s}function sS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let u0=!1;function $v(s,t){if(typeof window>"u"||typeof document>"u"||!io(window.location.host)||Al[s]===t||Al[s]||u0)return;Al[s]=t;function i(x){return`__firebase__banner__${x}`}const r="__firebase__banner",u=iS().prod.length>0;function d(){const x=document.getElementById(r);x&&x.remove()}function g(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function _(x,U){x.setAttribute("width","24"),x.setAttribute("id",U),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{u0=!0,d()},x}function T(x,U){x.setAttribute("id",U),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function A(){const x=sS(r),U=i("text"),W=document.getElementById(U)||document.createElement("span"),Z=i("learnmore"),J=document.getElementById(Z)||document.createElement("a"),rt=i("preprendIcon"),ct=document.getElementById(rt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ft=x.element;g(ft),T(J,Z);const Et=p();_(ct,rt),ft.append(ct,W,J,Et),document.body.appendChild(ft)}u?(W.innerText="Preview backend disconnected.",ct.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ct.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function aS(){var t;const s=(t=gh())==null?void 0:t.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function uS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cS(){const s=tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function hS(){return!aS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fS(){try{return typeof indexedDB=="object"}catch{return!1}}function dS(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var u;t(((u=l.error)==null?void 0:u.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="FirebaseError";class os extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=mS,Object.setPrototypeOf(this,os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,u=this.errors[t],d=u?gS(u,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new os(l,g,r)}}function gS(s,t){return s.replace(pS,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const pS=/\{\$([^}]+)}/g;function yS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Hr(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const u=s[l],d=t[l];if(c0(u)&&c0(d)){if(!Hr(u,d))return!1}else if(u!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function c0(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function _S(s,t){const i=new vS(s,t);return i.subscribe.bind(i)}class vS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");ES(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Bd),l.error===void 0&&(l.error=Bd),l.complete===void 0&&(l.complete=Bd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ES(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Bd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(s){return s&&s._delegate?s._delegate:s}class Fr{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new eS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(AS(t))try{this.getOrInitializeService({instanceIdentifier:Lr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(t=Lr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Lr){return this.instances.has(t)}getOptions(t=Lr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);r===g&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&t(u,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bS(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Lr){return this.component?this.component.multipleInstances?t:Lr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bS(s){return s===Lr?void 0:s}function AS(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new TS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(kt||(kt={}));const wS={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},RS=kt.INFO,IS={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},CS=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=IS[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Om{constructor(t){this.name=t,this._logLevel=RS,this._logHandler=CS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?wS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const NS=(s,t)=>t.some(i=>s instanceof i);let h0,f0;function xS(){return h0||(h0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DS(){return f0||(f0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zv=new WeakMap,im=new WeakMap,Jv=new WeakMap,qd=new WeakMap,Mm=new WeakMap;function OS(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{i(Ys(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Zv.set(i,s)}).catch(()=>{}),Mm.set(t,s),t}function MS(s){if(im.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});im.set(s,t)}let sm={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return im.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Jv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ys(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function VS(s){sm=s(sm)}function kS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(Hd(this),t,...i);return Jv.set(r,t.sort?t.sort():[t]),Ys(r)}:DS().includes(s)?function(...t){return s.apply(Hd(this),t),Ys(Zv.get(this))}:function(...t){return Ys(s.apply(Hd(this),t))}}function PS(s){return typeof s=="function"?kS(s):(s instanceof IDBTransaction&&MS(s),NS(s,xS())?new Proxy(s,sm):s)}function Ys(s){if(s instanceof IDBRequest)return OS(s);if(qd.has(s))return qd.get(s);const t=PS(s);return t!==s&&(qd.set(s,t),Mm.set(t,s)),t}const Hd=s=>Mm.get(s);function US(s,t,{blocked:i,upgrade:r,blocking:l,terminated:u}={}){const d=indexedDB.open(s,t),g=Ys(d);return r&&d.addEventListener("upgradeneeded",_=>{r(Ys(d.result),_.oldVersion,_.newVersion,Ys(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{u&&_.addEventListener("close",()=>u()),l&&_.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const LS=["get","getKey","getAll","getAllKeys","count"],jS=["put","add","delete","clear"],Fd=new Map;function d0(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Fd.get(t))return Fd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=jS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||LS.includes(i)))return;const u=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let p=_.store;return r&&(p=p.index(g.shift())),(await Promise.all([p[i](...g),l&&_.done]))[0]};return Fd.set(t,u),u}VS(s=>({...s,get:(t,i,r)=>d0(t,i)||s.get(t,i,r),has:(t,i)=>!!d0(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(BS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function BS(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const rm="@firebase/app",m0="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new Om("@firebase/app"),qS="@firebase/app-compat",HS="@firebase/analytics-compat",FS="@firebase/analytics",GS="@firebase/app-check-compat",QS="@firebase/app-check",YS="@firebase/auth",KS="@firebase/auth-compat",XS="@firebase/database",$S="@firebase/data-connect",ZS="@firebase/database-compat",JS="@firebase/functions",WS="@firebase/functions-compat",tw="@firebase/installations",ew="@firebase/installations-compat",nw="@firebase/messaging",iw="@firebase/messaging-compat",sw="@firebase/performance",rw="@firebase/performance-compat",aw="@firebase/remote-config",ow="@firebase/remote-config-compat",lw="@firebase/storage",uw="@firebase/storage-compat",cw="@firebase/firestore",hw="@firebase/ai",fw="@firebase/firestore-compat",dw="firebase",mw="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="[DEFAULT]",gw={[rm]:"fire-core",[qS]:"fire-core-compat",[FS]:"fire-analytics",[HS]:"fire-analytics-compat",[QS]:"fire-app-check",[GS]:"fire-app-check-compat",[YS]:"fire-auth",[KS]:"fire-auth-compat",[XS]:"fire-rtdb",[$S]:"fire-data-connect",[ZS]:"fire-rtdb-compat",[JS]:"fire-fn",[WS]:"fire-fn-compat",[tw]:"fire-iid",[ew]:"fire-iid-compat",[nw]:"fire-fcm",[iw]:"fire-fcm-compat",[sw]:"fire-perf",[rw]:"fire-perf-compat",[aw]:"fire-rc",[ow]:"fire-rc-compat",[lw]:"fire-gcs",[uw]:"fire-gcs-compat",[cw]:"fire-fst",[fw]:"fire-fst-compat",[hw]:"fire-vertex","fire-js":"fire-js",[dw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=new Map,pw=new Map,om=new Map;function g0(s,t){try{s.container.addComponent(t)}catch(i){ns.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Xa(s){const t=s.name;if(om.has(t))return ns.debug(`There were multiple attempts to register component ${t}.`),!1;om.set(t,s);for(const i of $c.values())g0(i,s);for(const i of pw.values())g0(i,s);return!0}function Vm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function wi(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new jl("app","Firebase",yw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=mw;function Wv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:am,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Ks.create("bad-app-name",{appName:String(l)});if(i||(i=Yv()),!i)throw Ks.create("no-options");const u=$c.get(l);if(u){if(Hr(i,u.options)&&Hr(r,u.config))return u;throw Ks.create("duplicate-app",{appName:l})}const d=new SS(l);for(const _ of om.values())d.addComponent(_);const g=new _w(i,r,d);return $c.set(l,g),g}function tE(s=am){const t=$c.get(s);if(!t&&s===am&&Yv())return Wv();if(!t)throw Ks.create("no-app",{appName:s});return t}function Xs(s,t,i){let r=gw[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ns.warn(d.join(" "));return}Xa(new Fr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="firebase-heartbeat-database",Ew=1,xl="firebase-heartbeat-store";let Gd=null;function eE(){return Gd||(Gd=US(vw,Ew,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(xl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ks.create("idb-open",{originalErrorMessage:s.message})})),Gd}async function Tw(s){try{const i=(await eE()).transaction(xl),r=await i.objectStore(xl).get(nE(s));return await i.done,r}catch(t){if(t instanceof os)ns.warn(t.message);else{const i=Ks.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ns.warn(i.message)}}}async function p0(s,t){try{const r=(await eE()).transaction(xl,"readwrite");await r.objectStore(xl).put(t,nE(s)),await r.done}catch(i){if(i instanceof os)ns.warn(i.message);else{const r=Ks.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});ns.warn(r.message)}}}function nE(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=1024,Aw=30;class Sw{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Rw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=y0();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>Aw){const d=Iw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ns.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=y0(),{heartbeatsToSend:r,unsentEntries:l}=ww(this._heartbeatsCache.heartbeats),u=Xc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return ns.warn(i),""}}}function y0(){return new Date().toISOString().substring(0,10)}function ww(s,t=bw){const i=[];let r=s.slice();for(const l of s){const u=i.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),_0(i)>t){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),_0(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Rw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fS()?dS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Tw(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return p0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return p0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function _0(s){return Xc(JSON.stringify({version:2,heartbeats:s})).length}function Iw(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(s){Xa(new Fr("platform-logger",t=>new zS(t),"PRIVATE")),Xa(new Fr("heartbeat",t=>new Sw(t),"PRIVATE")),Xs(rm,m0,s),Xs(rm,m0,"esm2020"),Xs("fire-js","")}Cw("");var v0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $s,iE;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,I){function S(){}S.prototype=I.prototype,N.F=I.prototype,N.prototype=new S,N.prototype.constructor=N,N.D=function(O,C,M){for(var R=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)R[ut-2]=arguments[ut];return I.prototype[C].apply(O,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,I,S){S||(S=0);const O=Array(16);if(typeof I=="string")for(var C=0;C<16;++C)O[C]=I.charCodeAt(S++)|I.charCodeAt(S++)<<8|I.charCodeAt(S++)<<16|I.charCodeAt(S++)<<24;else for(C=0;C<16;++C)O[C]=I[S++]|I[S++]<<8|I[S++]<<16|I[S++]<<24;I=N.g[0],S=N.g[1],C=N.g[2];let M=N.g[3],R;R=I+(M^S&(C^M))+O[0]+3614090360&4294967295,I=S+(R<<7&4294967295|R>>>25),R=M+(C^I&(S^C))+O[1]+3905402710&4294967295,M=I+(R<<12&4294967295|R>>>20),R=C+(S^M&(I^S))+O[2]+606105819&4294967295,C=M+(R<<17&4294967295|R>>>15),R=S+(I^C&(M^I))+O[3]+3250441966&4294967295,S=C+(R<<22&4294967295|R>>>10),R=I+(M^S&(C^M))+O[4]+4118548399&4294967295,I=S+(R<<7&4294967295|R>>>25),R=M+(C^I&(S^C))+O[5]+1200080426&4294967295,M=I+(R<<12&4294967295|R>>>20),R=C+(S^M&(I^S))+O[6]+2821735955&4294967295,C=M+(R<<17&4294967295|R>>>15),R=S+(I^C&(M^I))+O[7]+4249261313&4294967295,S=C+(R<<22&4294967295|R>>>10),R=I+(M^S&(C^M))+O[8]+1770035416&4294967295,I=S+(R<<7&4294967295|R>>>25),R=M+(C^I&(S^C))+O[9]+2336552879&4294967295,M=I+(R<<12&4294967295|R>>>20),R=C+(S^M&(I^S))+O[10]+4294925233&4294967295,C=M+(R<<17&4294967295|R>>>15),R=S+(I^C&(M^I))+O[11]+2304563134&4294967295,S=C+(R<<22&4294967295|R>>>10),R=I+(M^S&(C^M))+O[12]+1804603682&4294967295,I=S+(R<<7&4294967295|R>>>25),R=M+(C^I&(S^C))+O[13]+4254626195&4294967295,M=I+(R<<12&4294967295|R>>>20),R=C+(S^M&(I^S))+O[14]+2792965006&4294967295,C=M+(R<<17&4294967295|R>>>15),R=S+(I^C&(M^I))+O[15]+1236535329&4294967295,S=C+(R<<22&4294967295|R>>>10),R=I+(C^M&(S^C))+O[1]+4129170786&4294967295,I=S+(R<<5&4294967295|R>>>27),R=M+(S^C&(I^S))+O[6]+3225465664&4294967295,M=I+(R<<9&4294967295|R>>>23),R=C+(I^S&(M^I))+O[11]+643717713&4294967295,C=M+(R<<14&4294967295|R>>>18),R=S+(M^I&(C^M))+O[0]+3921069994&4294967295,S=C+(R<<20&4294967295|R>>>12),R=I+(C^M&(S^C))+O[5]+3593408605&4294967295,I=S+(R<<5&4294967295|R>>>27),R=M+(S^C&(I^S))+O[10]+38016083&4294967295,M=I+(R<<9&4294967295|R>>>23),R=C+(I^S&(M^I))+O[15]+3634488961&4294967295,C=M+(R<<14&4294967295|R>>>18),R=S+(M^I&(C^M))+O[4]+3889429448&4294967295,S=C+(R<<20&4294967295|R>>>12),R=I+(C^M&(S^C))+O[9]+568446438&4294967295,I=S+(R<<5&4294967295|R>>>27),R=M+(S^C&(I^S))+O[14]+3275163606&4294967295,M=I+(R<<9&4294967295|R>>>23),R=C+(I^S&(M^I))+O[3]+4107603335&4294967295,C=M+(R<<14&4294967295|R>>>18),R=S+(M^I&(C^M))+O[8]+1163531501&4294967295,S=C+(R<<20&4294967295|R>>>12),R=I+(C^M&(S^C))+O[13]+2850285829&4294967295,I=S+(R<<5&4294967295|R>>>27),R=M+(S^C&(I^S))+O[2]+4243563512&4294967295,M=I+(R<<9&4294967295|R>>>23),R=C+(I^S&(M^I))+O[7]+1735328473&4294967295,C=M+(R<<14&4294967295|R>>>18),R=S+(M^I&(C^M))+O[12]+2368359562&4294967295,S=C+(R<<20&4294967295|R>>>12),R=I+(S^C^M)+O[5]+4294588738&4294967295,I=S+(R<<4&4294967295|R>>>28),R=M+(I^S^C)+O[8]+2272392833&4294967295,M=I+(R<<11&4294967295|R>>>21),R=C+(M^I^S)+O[11]+1839030562&4294967295,C=M+(R<<16&4294967295|R>>>16),R=S+(C^M^I)+O[14]+4259657740&4294967295,S=C+(R<<23&4294967295|R>>>9),R=I+(S^C^M)+O[1]+2763975236&4294967295,I=S+(R<<4&4294967295|R>>>28),R=M+(I^S^C)+O[4]+1272893353&4294967295,M=I+(R<<11&4294967295|R>>>21),R=C+(M^I^S)+O[7]+4139469664&4294967295,C=M+(R<<16&4294967295|R>>>16),R=S+(C^M^I)+O[10]+3200236656&4294967295,S=C+(R<<23&4294967295|R>>>9),R=I+(S^C^M)+O[13]+681279174&4294967295,I=S+(R<<4&4294967295|R>>>28),R=M+(I^S^C)+O[0]+3936430074&4294967295,M=I+(R<<11&4294967295|R>>>21),R=C+(M^I^S)+O[3]+3572445317&4294967295,C=M+(R<<16&4294967295|R>>>16),R=S+(C^M^I)+O[6]+76029189&4294967295,S=C+(R<<23&4294967295|R>>>9),R=I+(S^C^M)+O[9]+3654602809&4294967295,I=S+(R<<4&4294967295|R>>>28),R=M+(I^S^C)+O[12]+3873151461&4294967295,M=I+(R<<11&4294967295|R>>>21),R=C+(M^I^S)+O[15]+530742520&4294967295,C=M+(R<<16&4294967295|R>>>16),R=S+(C^M^I)+O[2]+3299628645&4294967295,S=C+(R<<23&4294967295|R>>>9),R=I+(C^(S|~M))+O[0]+4096336452&4294967295,I=S+(R<<6&4294967295|R>>>26),R=M+(S^(I|~C))+O[7]+1126891415&4294967295,M=I+(R<<10&4294967295|R>>>22),R=C+(I^(M|~S))+O[14]+2878612391&4294967295,C=M+(R<<15&4294967295|R>>>17),R=S+(M^(C|~I))+O[5]+4237533241&4294967295,S=C+(R<<21&4294967295|R>>>11),R=I+(C^(S|~M))+O[12]+1700485571&4294967295,I=S+(R<<6&4294967295|R>>>26),R=M+(S^(I|~C))+O[3]+2399980690&4294967295,M=I+(R<<10&4294967295|R>>>22),R=C+(I^(M|~S))+O[10]+4293915773&4294967295,C=M+(R<<15&4294967295|R>>>17),R=S+(M^(C|~I))+O[1]+2240044497&4294967295,S=C+(R<<21&4294967295|R>>>11),R=I+(C^(S|~M))+O[8]+1873313359&4294967295,I=S+(R<<6&4294967295|R>>>26),R=M+(S^(I|~C))+O[15]+4264355552&4294967295,M=I+(R<<10&4294967295|R>>>22),R=C+(I^(M|~S))+O[6]+2734768916&4294967295,C=M+(R<<15&4294967295|R>>>17),R=S+(M^(C|~I))+O[13]+1309151649&4294967295,S=C+(R<<21&4294967295|R>>>11),R=I+(C^(S|~M))+O[4]+4149444226&4294967295,I=S+(R<<6&4294967295|R>>>26),R=M+(S^(I|~C))+O[11]+3174756917&4294967295,M=I+(R<<10&4294967295|R>>>22),R=C+(I^(M|~S))+O[2]+718787259&4294967295,C=M+(R<<15&4294967295|R>>>17),R=S+(M^(C|~I))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(C+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+C&4294967295,N.g[3]=N.g[3]+M&4294967295}r.prototype.v=function(N,I){I===void 0&&(I=N.length);const S=I-this.blockSize,O=this.C;let C=this.h,M=0;for(;M<I;){if(C==0)for(;M<=S;)l(this,N,M),M+=this.blockSize;if(typeof N=="string"){for(;M<I;)if(O[C++]=N.charCodeAt(M++),C==this.blockSize){l(this,O),C=0;break}}else for(;M<I;)if(O[C++]=N[M++],C==this.blockSize){l(this,O),C=0;break}}this.h=C,this.o+=I},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;I=this.o*8;for(var S=N.length-8;S<N.length;++S)N[S]=I&255,I/=256;for(this.v(N),N=Array(16),I=0,S=0;S<4;++S)for(let O=0;O<32;O+=8)N[I++]=this.g[S]>>>O&255;return N};function u(N,I){var S=g;return Object.prototype.hasOwnProperty.call(S,N)?S[N]:S[N]=I(N)}function d(N,I){this.h=I;const S=[];let O=!0;for(let C=N.length-1;C>=0;C--){const M=N[C]|0;O&&M==I||(S[C]=M,O=!1)}this.g=S}var g={};function _(N){return-128<=N&&N<128?u(N,function(I){return new d([I|0],I<0?-1:0)}):new d([N|0],N<0?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return J(p(-N));const I=[];let S=1;for(let O=0;N>=S;O++)I[O]=N/S|0,S*=4294967296;return new d(I,0)}function T(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return J(T(N.substring(1),I));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=p(Math.pow(I,8));let O=A;for(let M=0;M<N.length;M+=8){var C=Math.min(8,N.length-M);const R=parseInt(N.substring(M,M+C),I);C<8?(C=p(Math.pow(I,C)),O=O.j(C).add(p(R))):(O=O.j(S),O=O.add(p(R)))}return O}var A=_(0),x=_(1),U=_(16777216);s=d.prototype,s.m=function(){if(Z(this))return-J(this).m();let N=0,I=1;for(let S=0;S<this.g.length;S++){const O=this.i(S);N+=(O>=0?O:4294967296+O)*I,I*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(W(this))return"0";if(Z(this))return"-"+J(this).toString(N);const I=p(Math.pow(N,6));var S=this;let O="";for(;;){const C=Et(S,I).g;S=rt(S,C.j(I));let M=((S.g.length>0?S.g[0]:S.h)>>>0).toString(N);if(S=C,W(S))return M+O;for(;M.length<6;)M="0"+M;O=M+O}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function W(N){if(N.h!=0)return!1;for(let I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function Z(N){return N.h==-1}s.l=function(N){return N=rt(this,N),Z(N)?-1:W(N)?0:1};function J(N){const I=N.g.length,S=[];for(let O=0;O<I;O++)S[O]=~N.g[O];return new d(S,~N.h).add(x)}s.abs=function(){return Z(this)?J(this):this},s.add=function(N){const I=Math.max(this.g.length,N.g.length),S=[];let O=0;for(let C=0;C<=I;C++){let M=O+(this.i(C)&65535)+(N.i(C)&65535),R=(M>>>16)+(this.i(C)>>>16)+(N.i(C)>>>16);O=R>>>16,M&=65535,R&=65535,S[C]=R<<16|M}return new d(S,S[S.length-1]&-2147483648?-1:0)};function rt(N,I){return N.add(J(I))}s.j=function(N){if(W(this)||W(N))return A;if(Z(this))return Z(N)?J(this).j(J(N)):J(J(this).j(N));if(Z(N))return J(this.j(J(N)));if(this.l(U)<0&&N.l(U)<0)return p(this.m()*N.m());const I=this.g.length+N.g.length,S=[];for(var O=0;O<2*I;O++)S[O]=0;for(O=0;O<this.g.length;O++)for(let C=0;C<N.g.length;C++){const M=this.i(O)>>>16,R=this.i(O)&65535,ut=N.i(C)>>>16,xt=N.i(C)&65535;S[2*O+2*C]+=R*xt,ct(S,2*O+2*C),S[2*O+2*C+1]+=M*xt,ct(S,2*O+2*C+1),S[2*O+2*C+1]+=R*ut,ct(S,2*O+2*C+1),S[2*O+2*C+2]+=M*ut,ct(S,2*O+2*C+2)}for(N=0;N<I;N++)S[N]=S[2*N+1]<<16|S[2*N];for(N=I;N<2*I;N++)S[N]=0;return new d(S,0)};function ct(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function ft(N,I){this.g=N,this.h=I}function Et(N,I){if(W(I))throw Error("division by zero");if(W(N))return new ft(A,A);if(Z(N))return I=Et(J(N),I),new ft(J(I.g),J(I.h));if(Z(I))return I=Et(N,J(I)),new ft(J(I.g),I.h);if(N.g.length>30){if(Z(N)||Z(I))throw Error("slowDivide_ only works with positive integers.");for(var S=x,O=I;O.l(N)<=0;)S=st(S),O=st(O);var C=dt(S,1),M=dt(O,1);for(O=dt(O,2),S=dt(S,2);!W(O);){var R=M.add(O);R.l(N)<=0&&(C=C.add(S),M=R),O=dt(O,1),S=dt(S,1)}return I=rt(N,C.j(I)),new ft(C,I)}for(C=A;N.l(I)>=0;){for(S=Math.max(1,Math.floor(N.m()/I.m())),O=Math.ceil(Math.log(S)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),M=p(S),R=M.j(I);Z(R)||R.l(N)>0;)S-=O,M=p(S),R=M.j(I);W(M)&&(M=x),C=C.add(M),N=rt(N,R)}return new ft(C,N)}s.B=function(N){return Et(this,N).h},s.and=function(N){const I=Math.max(this.g.length,N.g.length),S=[];for(let O=0;O<I;O++)S[O]=this.i(O)&N.i(O);return new d(S,this.h&N.h)},s.or=function(N){const I=Math.max(this.g.length,N.g.length),S=[];for(let O=0;O<I;O++)S[O]=this.i(O)|N.i(O);return new d(S,this.h|N.h)},s.xor=function(N){const I=Math.max(this.g.length,N.g.length),S=[];for(let O=0;O<I;O++)S[O]=this.i(O)^N.i(O);return new d(S,this.h^N.h)};function st(N){const I=N.g.length+1,S=[];for(let O=0;O<I;O++)S[O]=N.i(O)<<1|N.i(O-1)>>>31;return new d(S,N.h)}function dt(N,I){const S=I>>5;I%=32;const O=N.g.length-S,C=[];for(let M=0;M<O;M++)C[M]=I>0?N.i(M+S)>>>I|N.i(M+S+1)<<32-I:N.i(M+S);return new d(C,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,iE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=T,$s=d}).apply(typeof v0<"u"?v0:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sE,_l,rE,Uc,lm,aE,oE,lE;(function(){var s,t=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(c,m){if(m)t:{var v=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var L=c[b];if(!(L in v))break t;v=v[L]}c=c[c.length-1],b=v[c],m=m(b),m!=b&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function _(c,m,v){return c.call.apply(c.bind,arguments)}function p(c,m,v){return p=_,p.apply(null,arguments)}function T(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function A(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(b,L,q){for(var et=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)et[Rt-2]=arguments[Rt];return m.prototype[L].apply(b,et)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function U(c){const m=c.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=c[b];return v}return[]}function W(c,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const q=L.length||0;c.length=v+q;for(let et=0;et<q;et++)c[v+et]=L[et]}else c.push(L)}}class Z{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(c){d.setTimeout(()=>{throw c},0)}function rt(){var c=N;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class ct{constructor(){this.h=this.g=null}add(m,v){const b=ft.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ft=new Z(()=>new Et,c=>c.reset());class Et{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let st,dt=!1,N=new ct,I=()=>{const c=Promise.resolve(void 0);st=()=>{c.then(S)}};function S(){for(var c;c=rt();){try{c.h.call(c.g)}catch(v){J(v)}var m=ft;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}dt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function ut(c,m){C.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}A(ut,C),ut.prototype.init=function(c,m){const v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ut.Z.h.call(this)},ut.prototype.h=function(){ut.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var xt="closure_listenable_"+(Math.random()*1e6|0),F=0;function tt(c,m,v,b,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++F,this.da=this.fa=!1}function gt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Lt(c,m,v){for(const b in c)m.call(v,c[b],b,c)}function qt(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function k(c){const m={};for(const v in c)m[v]=c[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(c,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)c[v]=b[v];for(let q=0;q<X.length;q++)v=X[q],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function ot(c){this.src=c,this.g={},this.h=0}ot.prototype.add=function(c,m,v,b,L){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const et=Ct(c,m,b,L);return et>-1?(m=c[et],v||(m.fa=!1)):(m=new tt(m,this.src,q,!!b,L),m.fa=v,c.push(m)),m};function bt(c,m){const v=m.type;if(v in c.g){var b=c.g[v],L=Array.prototype.indexOf.call(b,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(b,L,1),q&&(gt(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ct(c,m,v,b){for(let L=0;L<c.length;++L){const q=c[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==b)return L}return-1}var zt="closure_lm_"+(Math.random()*1e6|0),Oe={};function ae(c,m,v,b,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ae(c,m[q],v,b,L);return null}return v=mo(v),c&&c[xt]?c.J(m,v,g(b)?!!b.capture:!1,L):or(c,m,v,!1,b,L)}function or(c,m,v,b,L,q){if(!m)throw Error("Invalid event type");const et=g(L)?!!L.capture:!!L;let Rt=lr(c);if(Rt||(c[zt]=Rt=new ot(c)),v=Rt.add(m,v,b,et,q),v.proxy)return v;if(b=$r(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)M||(L=et),L===void 0&&(L=!1),c.addEventListener(m.toString(),b,L);else if(c.attachEvent)c.attachEvent(ni(m.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function $r(){function c(v){return m.call(c.src,c.listener,v)}const m=ho;return c}function Zr(c,m,v,b,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Zr(c,m[q],v,b,L);else b=g(b)?!!b.capture:!!b,v=mo(v),c&&c[xt]?(c=c.i,q=String(m).toString(),q in c.g&&(m=c.g[q],v=Ct(m,v,b,L),v>-1&&(gt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[q],c.h--)))):c&&(c=lr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Ct(m,v,b,L)),(v=c>-1?m[c]:null)&&Jr(v))}function Jr(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[xt])bt(m.i,c);else{var v=c.type,b=c.proxy;m.removeEventListener?m.removeEventListener(v,b,c.capture):m.detachEvent?m.detachEvent(ni(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=lr(m))?(bt(v,c),v.h==0&&(v.src=null,m[zt]=null)):gt(c)}}}function ni(c){return c in Oe?Oe[c]:Oe[c]="on"+c}function ho(c,m){if(c.da)c=!0;else{m=new ut(m,this);const v=c.listener,b=c.ha||c.src;c.fa&&Jr(c),c=v.call(b,m)}return c}function lr(c){return c=c[zt],c instanceof ot?c:null}var fo="__closure_events_fn_"+(Math.random()*1e9>>>0);function mo(c){return typeof c=="function"?c:(c[fo]||(c[fo]=function(m){return c.handleEvent(m)}),c[fo])}function Ee(){O.call(this),this.i=new ot(this),this.M=this,this.G=null}A(Ee,O),Ee.prototype[xt]=!0,Ee.prototype.removeEventListener=function(c,m,v,b){Zr(this,c,m,v,b)};function Me(c,m){var v,b=c.G;if(b)for(v=[];b;b=b.G)v.push(b);if(c=c.M,b=m.type||m,typeof m=="string")m=new C(m,c);else if(m instanceof C)m.target=m.target||c;else{var L=m;m=new C(b,c),nt(m,L)}L=!0;let q,et;if(v)for(et=v.length-1;et>=0;et--)q=m.g=v[et],L=ls(q,b,!0,m)&&L;if(q=m.g=c,L=ls(q,b,!0,m)&&L,L=ls(q,b,!1,m)&&L,v)for(et=0;et<v.length;et++)q=m.g=v[et],L=ls(q,b,!1,m)&&L}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let b=0;b<v.length;b++)gt(v[b]);delete c.g[m],c.h--}}this.G=null},Ee.prototype.J=function(c,m,v,b){return this.i.add(String(c),m,!1,v,b)},Ee.prototype.K=function(c,m,v,b){return this.i.add(String(c),m,!0,v,b)};function ls(c,m,v,b){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const et=m[q];if(et&&!et.da&&et.capture==v){const Rt=et.listener,pe=et.ha||et.src;et.fa&&bt(c.i,et),L=Rt.call(pe,b)!==!1&&L}}return L&&!b.defaultPrevented}function Ph(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function tu(c){c.g=Ph(()=>{c.g=null,c.i&&(c.i=!1,tu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class en extends O{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:tu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(c){O.call(this),this.h=c,this.g={}}A(ur,O);var go=[];function po(c){Lt(c.g,function(m,v){this.g.hasOwnProperty(v)&&Jr(m)},c),c.g={}}ur.prototype.N=function(){ur.Z.N.call(this),po(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var us=d.JSON.stringify,Uh=d.JSON.parse,eu=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function nu(){}function iu(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){C.call(this,"d")}A(Be,C);function In(){C.call(this,"c")}A(In,C);var ge={},su=null;function Wr(){return su=su||new Ee}ge.Ia="serverreachability";function ru(c){C.call(this,ge.Ia,c)}A(ru,C);function ii(c){const m=Wr();Me(m,new ru(m))}ge.STAT_EVENT="statevent";function cr(c,m){C.call(this,ge.STAT_EVENT,c),this.stat=m}A(cr,C);function Te(c){const m=Wr();Me(m,new cr(m,c))}ge.Ja="timingevent";function si(c,m){C.call(this,ge.Ja,c),this.size=m}A(si,C);function ri(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function Lh(c,m,v,b,L,q){c.info(function(){if(c.g)if(q){var et="",Rt=q.split("&");for(let Gt=0;Gt<Rt.length;Gt++){var pe=Rt[Gt].split("=");if(pe.length>1){const oe=pe[0];pe=pe[1];const Dn=oe.split("_");et=Dn.length>=2&&Dn[1]=="type"?et+(oe+"="+pe+"&"):et+(oe+"=redacted&")}}}else et=null;else et=q;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+et})}function au(c,m,v,b,L,q,et){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+et})}function ai(c,m,v,b){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+jh(c,v)+(b?" "+b:"")})}function hr(c,m){c.info(function(){return"TIMEOUT: "+m})}qn.prototype.info=function(){};function jh(c,m){if(!c.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<b.length;et++)b[et]=""}}}}return us(q)}catch{return m}}var fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_o;function dr(){}A(dr,nu),dr.prototype.g=function(){return new XMLHttpRequest},_o=new dr;function Vi(c){return encodeURIComponent(String(c))}function ou(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Hn(c,m,v,b){this.j=c,this.i=m,this.l=v,this.S=b||1,this.V=new ur(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var be={},Pe={};function oi(c,m,v){c.M=1,c.A=mr(Se(m)),c.u=v,c.R=!0,ta(c,null)}function ta(c,m){c.F=Date.now(),li(c),c.B=Se(c.A);var v=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),sa(v.i,"t",b),c.C=0,v=c.j.L,c.h=new Fn,c.g=bu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new en(p(c.Y,c,c.g),c.P)),m=c.V,v=c.g,b=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(go[0]=L.toString()),L=go);for(let q=0;q<L.length;q++){const et=ae(v,L[q],b||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ii(),Lh(c.i,c.v,c.B,c.l,c.S,c.u)}Hn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Yn(c)==3?m.j():this.Y(c)},Hn.prototype.Y=function(c){try{if(c==this.g)t:{const Rt=Yn(this.g),pe=this.g.ya(),Gt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||qe(this.g)))){this.K||Rt!=4||pe==7||(pe==8||Gt<=0?ii(3):ii(2)),ui(this);var m=this.g.ca();this.X=m;var v=zh(this);if(this.o=m==200,au(this.i,this.v,this.B,this.l,this.S,Rt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var q=b;break e}}q=null}if(c=q)ai(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,c);else{this.o=!1,this.m=3,Te(12),pn(this),Cn(this);break t}}if(this.R){c=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=uu(this,v),oe==Pe){Rt==4&&(this.m=4,Te(14),c=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==be){this.m=4,Te(15),ai(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ai(this.i,this.l,oe,null),ci(this,oe);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||v.length!=0||this.h.h||(this.m=1,Te(16),c=!1),this.o=this.o&&c,!c)ai(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),Cn(this);else if(v.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Mo(et),et.P=!0,Te(11))}}else ai(this.i,this.l,v,null),ci(this,v);Rt==4&&pn(this),this.o&&!this.K&&(Rt==4?_u(this.j,this):(this.o=!1,li(this)))}else Pi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Te(12)):(this.m=0,Te(13)),pn(this),Cn(this)}}}catch{}finally{}};function zh(c){if(!lu(c))return c.g.la();const m=qe(c.g);if(m==="")return"";let v="";const b=m.length,L=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),Cn(c),"";c.h.i=new d.TextDecoder}for(let q=0;q<b;q++)c.h.h=!0,v+=c.h.i.decode(m[q],{stream:!(L&&q==b-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function lu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function uu(c,m){var v=c.C,b=m.indexOf(`
`,v);return b==-1?Pe:(v=Number(m.substring(v,b)),isNaN(v)?be:(b+=1,b+v>m.length?Pe:(m=m.slice(b,b+v),c.C=b+v,m)))}Hn.prototype.cancel=function(){this.K=!0,pn(this)};function li(c){c.T=Date.now()+c.H,ea(c,c.H)}function ea(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ri(p(c.aa,c),m)}function ui(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Hn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(hr(this.i,this.B),this.M!=2&&(ii(),Te(17)),pn(this),this.m=2,Cn(this)):ea(this,this.T-c)};function Cn(c){c.j.I==0||c.K||_u(c.j,c)}function pn(c){ui(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,po(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function ci(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||fi(v.h,c))){if(!c.L&&fi(v.h,c)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ua(v),ys(v);else break t;Tr(v),Te(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ri(p(v.Va,v),6e3));hi(v.h)<=1&&v.ta&&(v.ta=void 0)}else _i(v,11)}else if((c.L||v.g==c)&&ua(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Gt=L[m];const oe=Gt[0];if(!(oe<=v.K))if(v.K=oe,Gt=Gt[1],v.I==2)if(Gt[0]=="c"){v.M=Gt[1],v.ba=Gt[2];const Dn=Gt[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const vi=Gt[4];vi!=null&&(v.za=vi,v.j.info("SVER="+v.za));const Kn=Gt[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(b=1.5*Kn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Xn=c.g;if(Xn){const br=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(br){var q=b.h;q.g||br.indexOf("spdy")==-1&&br.indexOf("quic")==-1&&br.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(To(q,q.h),q.h=null))}if(b.G){const ca=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(b.wa=ca,Kt(b.J,b.G,ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var et=c;if(b.na=Tu(b,b.L?b.ba:null,b.W),et.L){bo(b.h,et);var Rt=et,pe=b.O;pe&&(Rt.H=pe),Rt.D&&(ui(Rt),li(Rt)),b.g=et}else pu(b);v.i.length>0&&yi(v)}else Gt[0]!="stop"&&Gt[0]!="close"||_i(v,7);else v.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?_i(v,7):Do(v):Gt[0]!="noop"&&v.l&&v.l.qa(Gt),v.A=0)}}ii(4)}catch{}}var Ae=class{constructor(c,m){this.g=c,this.map=m}};function vo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Eo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function hi(c){return c.h?1:c.g?c.g.size:0}function fi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function To(c,m){c.g?c.g.add(m):c.h=m}function bo(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}vo.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ao(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return U(c.i)}var cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function na(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const b=c[v].indexOf("=");let L,q=null;b>=0?(L=c[v].substring(0,b),q=c[v].substring(b+1)):L=c[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof yn?(this.l=c.l,Ue(this,c.j),this.o=c.o,this.g=c.g,cs(this,c.u),this.h=c.h,So(this,mu(c.i)),this.m=c.m):c&&(m=String(c).match(cu))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),cs(this,m[4]),this.h=di(m[5]||"",!0),So(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.l=!1,this.i=new fs(null,this.l))}yn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(gr(m,ia,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(gr(m,ia,!0),"@"),c.push(Vi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(gr(v,v.charAt(0)=="/"?wo:hu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",gr(v,fu)),c.join("")},yn.prototype.resolve=function(c){const m=Se(this);let v=!!c.j;v?Ue(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var b=c.h;if(v)cs(m,c.u);else if(v=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let et=0;et<L.length;){const Rt=L[et++];Rt=="."?b&&et==L.length&&q.push(""):Rt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),b&&et==L.length&&q.push("")):(q.push(Rt),b=!0)}b=q.join("/")}else b=L}return v?m.h=b:v=c.i.toString()!=="",v?So(m,mu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function Se(c){return new yn(c)}function Ue(c,m,v){c.j=v?di(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function cs(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function So(c,m,v){m instanceof fs?(c.i=m,ra(c.i,c.l)):(v||(m=gr(m,hs)),c.i=new fs(m,c.l))}function Kt(c,m,v){c.i.set(m,v)}function mr(c){return Kt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function di(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function gr(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,on),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ia=/[#\/\?@]/g,hu=/[#\?:]/g,wo=/[#\?]/g,hs=/[#\?@]/g,fu=/#/g;function fs(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&na(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=fs.prototype,s.add=function(c,m){ln(this),this.i=null,c=ds(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function du(c,m){ln(c),m=ds(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Ro(c,m){return ln(c),m=ds(c,m),c.g.has(m)}s.forEach=function(c,m){ln(this),this.g.forEach(function(v,b){v.forEach(function(L){c.call(m,L,b,this)},this)},this)};function Io(c,m){ln(c);let v=[];if(typeof m=="string")Ro(c,m)&&(v=v.concat(c.g.get(ds(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return ln(this),this.i=null,c=ds(this,c),Ro(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=Io(this,c),c.length>0?String(c[0]):m):m};function sa(c,m,v){du(c,m),v.length>0&&(c.i=null,c.g.set(ds(c,m),U(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=Vi(v);v=Io(this,v);for(let q=0;q<v.length;q++){let et=L;v[q]!==""&&(et+="="+Vi(v[q])),c.push(et)}}return this.i=c.join("&")};function mu(c){const m=new fs;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function ds(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ra(c,m){m&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(du(this,b),sa(this,L,v))},c)),c.j=m}function Gn(c,m){const v=new qn;if(d.Image){const b=new Image;b.onload=T(Nn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=T(Nn,v,"TestLoadImage: error",!1,m,b),b.onabort=T(Nn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=T(Nn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else m(!1)}function Co(c,m){const v=new qn,b=new AbortController,L=setTimeout(()=>{b.abort(),Nn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:b.signal}).then(q=>{clearTimeout(L),q.ok?Nn(v,"TestPingServer: ok",!0,m):Nn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Nn(v,"TestPingServer: error",!1,m)})}function Nn(c,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function ms(){this.g=new eu}function mi(c){this.i=c.Sb||null,this.h=c.ab||!1}A(mi,nu),mi.prototype.g=function(){return new pr(this.i,this.h)};function pr(c,m){Ee.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(pr,Ee),s=pr.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Qn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gs(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;aa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function aa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?gs(this):Qn(this),this.readyState==3&&aa(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,gs(this))},s.Na=function(c){this.g&&(this.response=c,gs(this))},s.ga=function(){this.g&&gs(this)};function gs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function xn(c){let m="";return Lt(c,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function yr(c,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=xn(v),typeof c=="string"?v!=null&&Vi(v):Kt(c,m,v))}function Zt(c){Ee.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Zt,Ee);var gi=/^https?$/i,No=["POST","PUT"];s=Zt.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_o.g(),this.g.onreadystatechange=x(p(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){_r(this,q);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())v.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(No,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of v)this.g.setRequestHeader(q,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){_r(this,q)}};function _r(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,xo(c),ki(c)}function xo(c){c.A||(c.A=!0,Me(c,"complete"),Me(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Me(this,"complete"),Me(this,"abort"),ki(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),Zt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?vr(this):this.Xa())},s.Xa=function(){vr(this)};function vr(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Me(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const q=c.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=q===0){let et=String(c.D).match(cu)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),b=!gi.test(et?et.toLowerCase():"")}v=b}if(v)Me(c,"complete"),Me(c,"success");else{c.o=6;try{var L=Yn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",xo(c)}}finally{ki(c)}}}}function ki(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Me(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Uh(m)}};function qe(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(c){const m={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(R(c[b]))continue;var v=ou(c[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}qt(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function ps(c){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pi("baseRetryDelayMs",5e3,c),this.Za=pi("retryDelaySeedMs",1e4,c),this.Ta=pi("forwardChannelMaxRetries",2,c),this.va=pi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new vo(c&&c.concurrentRequestLimit),this.Ba=new ms,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ps.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,b){Te(0),this.W=c,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Tu(this,null,this.W),yi(this)};function Do(c){if(oa(c),c.I==3){var m=c.V++,v=Se(c.J);if(Kt(v,"SID",c.M),Kt(v,"RID",m),Kt(v,"TYPE","terminate"),Er(c,v),m=new Hn(c,c.j,m),m.M=2,m.A=mr(Se(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=bu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),li(m)}Eu(c)}function ys(c){c.g&&(Mo(c),c.g.cancel(),c.g=null)}function oa(c){ys(c),c.v&&(d.clearTimeout(c.v),c.v=null),ua(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function yi(c){if(!Eo(c.h)&&!c.m){c.m=!0;var m=c.Ea;st||I(),dt||(st(),dt=!0),N.add(m,c),c.D=0}}function la(c,m){return hi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ri(p(c.Ea,c,m),vu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Hn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=k(q),nt(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=gu(this,L,m),v=Se(this.J),Kt(v,"RID",c),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),Er(this,v),q&&(this.R?m="headers="+Vi(xn(q))+"&"+m:this.u&&yr(v,this.u,q)),To(this.h,L),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",m),Kt(v,"SID","null"),L.U=!0,oi(L,v,null)):oi(L,v,m),this.I=2}}else this.I==3&&(c?Oo(this,c):this.i.length==0||Eo(this.h)||Oo(this))};function Oo(c,m){var v;m?v=m.l:v=c.V++;const b=Se(c.J);Kt(b,"SID",c.M),Kt(b,"RID",v),Kt(b,"AID",c.K),Er(c,b),c.u&&c.o&&yr(b,c.u,c.o),v=new Hn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=gu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),To(c.h,v),oi(v,b,m)}function Er(c,m){c.H&&Lt(c.H,function(v,b){Kt(m,b,v)}),c.l&&Lt({},function(v,b){Kt(m,b,v)})}function gu(c,m,v){v=Math.min(c.i.length,v);const b=c.l?p(c.l.Ka,c.l,c):null;t:{var L=c.i;let Rt=-1;for(;;){const pe=["count="+v];Rt==-1?v>0?(Rt=L[0].g,pe.push("ofs="+Rt)):Rt=0:pe.push("ofs="+Rt);let Gt=!0;for(let oe=0;oe<v;oe++){var q=L[oe].g;const Dn=L[oe].map;if(q-=Rt,q<0)Rt=Math.max(0,L[oe].g-100),Gt=!1;else try{q="req"+q+"_"||"";try{var et=Dn instanceof Map?Dn:Object.entries(Dn);for(const[vi,Kn]of et){let Xn=Kn;g(Kn)&&(Xn=us(Kn)),pe.push(q+vi+"="+encodeURIComponent(Xn))}}catch(vi){throw pe.push(q+"type="+encodeURIComponent("_badmap")),vi}}catch{b&&b(Dn)}}if(Gt){et=pe.join("&");break t}}et=void 0}return c=c.i.splice(0,v),m.G=c,et}function pu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;st||I(),dt||(st(),dt=!0),N.add(m,c),c.A=0}}function Tr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ri(p(c.Da,c),vu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ri(p(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Te(10),ys(this),yu(this))};function Mo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function yu(c){c.g=new Hn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Se(c.na);Kt(m,"RID","rpc"),Kt(m,"SID",c.M),Kt(m,"AID",c.K),Kt(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Kt(m,"TO",c.ia),Kt(m,"TYPE","xmlhttp"),Er(c,m),c.u&&c.o&&yr(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=mr(Se(m)),v.u=null,v.R=!0,ta(v,c)}s.Va=function(){this.C!=null&&(this.C=null,ys(this),Tr(this),Te(19))};function ua(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function _u(c,m){var v=null;if(c.g==m){ua(c),Mo(c),c.g=null;var b=2}else if(fi(c.h,m))v=m.G,bo(c.h,m),b=1;else return;if(c.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;b=Wr(),Me(b,new si(b,v)),yi(c)}else pu(c);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&la(c,m)||b==2&&Tr(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),L){case 1:_i(c,5);break;case 4:_i(c,10);break;case 3:_i(c,6);break;default:_i(c,2)}}}function vu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function _i(c,m){if(c.j.info("Error code "+m),m==2){var v=p(c.bb,c),b=c.Ua;const L=!b;b=new yn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(b,"https"),mr(b),L?Gn(b.toString(),v):Co(b.toString(),v)}else Te(2);c.I=0,c.l&&c.l.pa(m),Eu(c),oa(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function Eu(c){if(c.I=0,c.ja=[],c.l){const m=Ao(c.h);(m.length!=0||c.i.length!=0)&&(W(c.ja,m),W(c.ja,c.i),c.h.i.length=0,U(c.i),c.i.length=0),c.l.oa()}}function Tu(c,m,v){var b=v instanceof yn?Se(v):new yn(v);if(b.g!="")m&&(b.g=m+"."+b.g),cs(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new yn(null);b&&Ue(q,b),m&&(q.g=m),L&&cs(q,L),v&&(q.h=v),b=q}return v=c.G,m=c.wa,v&&m&&Kt(b,v,m),Kt(b,"VER",c.ka),Er(c,b),b}function bu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Zt(new mi({ab:v})):new Zt(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}s=Au.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function _s(){}_s.prototype.g=function(c,m){return new nn(c,m)};function nn(c,m){Ee.call(this),this.g=new ps(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!R(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Ui(this)}A(nn,Ee),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Do(this.g)},nn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=us(c),c=v);m.i.push(new Ae(m.Ya++,c)),m.I==3&&yi(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,Do(this.g),delete this.g,nn.Z.N.call(this)};function Su(c){Be.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}A(Su,Be);function wu(){In.call(this),this.status=1}A(wu,In);function Ui(c){this.g=c}A(Ui,Au),Ui.prototype.ra=function(){Me(this.g,"a")},Ui.prototype.qa=function(c){Me(this.g,new Su(c))},Ui.prototype.pa=function(c){Me(this.g,new wu)},Ui.prototype.oa=function(){Me(this.g,"b")},_s.prototype.createWebChannel=_s.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,lE=function(){return new _s},oE=function(){return Wr()},aE=ge,lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,Uc=fr,yo.COMPLETE="complete",rE=yo,iu.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,_l=iu,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,sE=Zt}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});const E0="@firebase/firestore",T0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ro="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new Om("@firebase/firestore");function za(){return Gr.logLevel}function at(s,...t){if(Gr.logLevel<=kt.DEBUG){const i=t.map(km);Gr.debug(`Firestore (${ro}): ${s}`,...i)}}function is(s,...t){if(Gr.logLevel<=kt.ERROR){const i=t.map(km);Gr.error(`Firestore (${ro}): ${s}`,...i)}}function $a(s,...t){if(Gr.logLevel<=kt.WARN){const i=t.map(km);Gr.warn(`Firestore (${ro}): ${s}`,...i)}}function km(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,uE(s,r,i)}function uE(s,t,i){let r=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw is(r),new Error(r)}function Yt(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||uE(t,l,r)}function wt(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends os{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Nw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Je.UNAUTHENTICATED)))}shutdown(){}}class xw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Dw{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Yt(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let u=new es;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new es,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=u;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new es)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Yt(typeof r.accessToken=="string",31837,{l:r}),new cE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class Ow{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Mw{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new Ow(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class b0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Yt(this.o===void 0,3512);const r=u=>{u.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const l=u=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new b0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Yt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new b0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=kw(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<i&&(r+=t.charAt(l[u]%62))}return r}}function Pt(s,t){return s<t?-1:s>t?1:0}function um(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),u=t.charAt(r);if(l!==u)return Qd(l)===Qd(u)?Pt(l,u):Qd(l)?1:-1}return Pt(s.length,t.length)}const Pw=55296,Uw=57343;function Qd(s){const t=s.charCodeAt(0);return t>=Pw&&t<=Uw}function Za(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="__name__";class Si{constructor(t,i,r){i===void 0?i=0:i>t.length&&vt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&vt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Si.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Si?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const u=Si.compareSegments(t.get(l),i.get(l));if(u!==0)return u}return Pt(t.length,i.length)}static compareSegments(t,i){const r=Si.isNumericId(t),l=Si.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Si.extractNumericId(t).compare(Si.extractNumericId(i)):um(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return $s.fromString(t.substring(4,t.length-2))}}class ne extends Si{construct(t,i,r){return new ne(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new it(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ne(i)}static emptyPath(){return new ne([])}}const Lw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends Si{construct(t,i,r){return new Ke(t,i,r)}static isValidIdentifier(t){return Lw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===A0}static keyField(){return new Ke([A0])}static fromServerFormat(t){const i=[];let r="",l=0;const u=()=>{if(r.length===0)throw new it(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new it(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new it(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(u(),l++)}if(u(),d)throw new it(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(i)}static emptyPath(){return new Ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ne.fromString(t))}static fromName(t){return new yt(ne.fromString(t).popFirst(5))}static empty(){return new yt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ne.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ne(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(s,t,i){if(!i)throw new it(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function jw(s,t,i,r){if(t===!0&&r===!0)throw new it(Y.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function S0(s){if(!yt.isDocumentKey(s))throw new it(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function w0(s){if(yt.isDocumentKey(s))throw new it(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function fE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function ph(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":vt(12329,{type:typeof s})}function rn(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new it(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ph(s);throw new it(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(s,t){const i={typeString:s};return t&&(i.value=t),i}function Bl(s,t){if(!fE(s))throw new it(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new it(Y.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=-62135596800,I0=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*I0);return new re(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new it(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<R0)throw new it(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/I0}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Bl(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-R0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:De("string",re._jsonSchemaVersion),seconds:De("number"),nanoseconds:De("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new re(0,0))}static max(){return new At(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=-1;function zw(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=At.fromTimestamp(r===1e9?new re(i+1,0):new re(i,r));return new Js(l,yt.empty(),t)}function Bw(s){return new Js(s.readTime,s.key,Dl)}class Js{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Js(At.min(),yt.empty(),Dl)}static max(){return new Js(At.max(),yt.empty(),Dl)}}function qw(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=yt.comparator(s.documentKey,t.documentKey),i!==0?i:Pt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==Hw)throw s;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,r)=>{i(t)}))}static reject(t){return new $(((i,r)=>{r(t)}))}static waitFor(t){return new $(((i,r)=>{let l=0,u=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++u,d&&u===l&&i()}),(_=>r(_)))})),d=!0,u===l&&i()}))}static or(t){let i=$.resolve(!1);for(const r of t)i=i.next((l=>l?$.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,u)=>{r.push(i.call(this,l,u))})),this.waitFor(r)}static mapArray(t,i){return new $(((r,l)=>{const u=t.length,d=new Array(u);let g=0;for(let _=0;_<u;_++){const p=_;i(t[p]).next((T=>{d[p]=T,++g,g===u&&r(d)}),(T=>l(T)))}}))}static doWhile(t,i){return new $(((r,l)=>{const u=()=>{t()===!0?i().next((()=>{u()}),l):r()};u()}))}}function Gw(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function oo(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}yh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um=-1;function _h(s){return s==null}function Zc(s){return s===0&&1/s==-1/0}function Qw(s){return typeof s=="number"&&Number.isInteger(s)&&!Zc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="";function Yw(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=C0(t)),t=Kw(s.get(i),t);return C0(t)}function Kw(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":i+="";break;case dE:i+="";break;default:i+=u}}return i}function C0(s){return s+dE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function sr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function mE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,i){this.comparator=t,this.root=i||Ye.EMPTY}insert(t,i){return new ce(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xc(this.root,t,this.comparator,!1)}getReverseIterator(){return new xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xc(this.root,t,this.comparator,!0)}}class xc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ye{constructor(t,i,r,l,u){this.key=t,this.value=i,this.color=r??Ye.RED,this.left=l??Ye.EMPTY,this.right=u??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,u){return new Ye(t??this.key,i??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const u=r(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,i,r),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ye.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,i,r,l,u){return this}insert(t,i,r){return new Ye(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new x0(this.data.getIterator())}getIteratorFrom(t){return new x0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new ke(this.comparator);return i.data=t,i}}class x0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new Rn([])}unionWith(t){let i=new ke(Ke.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Rn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Za(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new gE("Invalid base64 string: "+u):u}})(t);return new Xe(i)}static fromUint8Array(t){const i=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(t);return new Xe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const Xw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(s){if(Yt(!!s,39018),typeof s=="string"){let t=0;const i=Xw.exec(s);if(Yt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ve(s.seconds),nanos:ve(s.nanos)}}function ve(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function tr(s){return typeof s=="string"?Xe.fromBase64String(s):Xe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="server_timestamp",yE="__type__",_E="__previous_value__",vE="__local_write_time__";function Lm(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[yE])==null?void 0:r.stringValue)===pE}function vh(s){const t=s.mapValue.fields[_E];return Lm(t)?vh(t):t}function Ol(s){const t=Ws(s.mapValue.fields[vE].timestampValue);return new re(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t,i,r,l,u,d,g,_,p,T){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=p,this.isUsingEmulator=T}}const Jc="(default)";class Ml{constructor(t,i){this.projectId=t,this.database=i||Jc}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(t){return t instanceof Ml&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="__type__",Zw="__max__",Dc={mapValue:{}},TE="__vector__",Wc="value";function er(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Lm(s)?4:Ww(s)?9007199254740991:Jw(s)?10:11:vt(28295,{value:s})}function Oi(s,t){if(s===t)return!0;const i=er(s);if(i!==er(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ol(s).isEqual(Ol(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=Ws(l.timestampValue),g=Ws(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,u){return tr(l.bytesValue).isEqual(tr(u.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,u){return ve(l.geoPointValue.latitude)===ve(u.geoPointValue.latitude)&&ve(l.geoPointValue.longitude)===ve(u.geoPointValue.longitude)})(s,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return ve(l.integerValue)===ve(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=ve(l.doubleValue),g=ve(u.doubleValue);return d===g?Zc(d)===Zc(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return Za(s.arrayValue.values||[],t.arrayValue.values||[],Oi);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},g=u.mapValue.fields||{};if(N0(d)!==N0(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Oi(d[_],g[_])))return!1;return!0})(s,t);default:return vt(52216,{left:s})}}function Vl(s,t){return(s.values||[]).find((i=>Oi(i,t)))!==void 0}function Ja(s,t){if(s===t)return 0;const i=er(s),r=er(t);if(i!==r)return Pt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pt(s.booleanValue,t.booleanValue);case 2:return(function(u,d){const g=ve(u.integerValue||u.doubleValue),_=ve(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,t);case 3:return D0(s.timestampValue,t.timestampValue);case 4:return D0(Ol(s),Ol(t));case 5:return um(s.stringValue,t.stringValue);case 6:return(function(u,d){const g=tr(u),_=tr(d);return g.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(u,d){const g=u.split("/"),_=d.split("/");for(let p=0;p<g.length&&p<_.length;p++){const T=Pt(g[p],_[p]);if(T!==0)return T}return Pt(g.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(u,d){const g=Pt(ve(u.latitude),ve(d.latitude));return g!==0?g:Pt(ve(u.longitude),ve(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return O0(s.arrayValue,t.arrayValue);case 10:return(function(u,d){var x,U,W,Z;const g=u.fields||{},_=d.fields||{},p=(x=g[Wc])==null?void 0:x.arrayValue,T=(U=_[Wc])==null?void 0:U.arrayValue,A=Pt(((W=p==null?void 0:p.values)==null?void 0:W.length)||0,((Z=T==null?void 0:T.values)==null?void 0:Z.length)||0);return A!==0?A:O0(p,T)})(s.mapValue,t.mapValue);case 11:return(function(u,d){if(u===Dc.mapValue&&d===Dc.mapValue)return 0;if(u===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const g=u.fields||{},_=Object.keys(g),p=d.fields||{},T=Object.keys(p);_.sort(),T.sort();for(let A=0;A<_.length&&A<T.length;++A){const x=um(_[A],T[A]);if(x!==0)return x;const U=Ja(g[_[A]],p[T[A]]);if(U!==0)return U}return Pt(_.length,T.length)})(s.mapValue,t.mapValue);default:throw vt(23264,{he:i})}}function D0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Pt(s,t);const i=Ws(s),r=Ws(t),l=Pt(i.seconds,r.seconds);return l!==0?l:Pt(i.nanos,r.nanos)}function O0(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const u=Ja(i[l],r[l]);if(u)return u}return Pt(i.length,r.length)}function Wa(s){return cm(s)}function cm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Ws(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return tr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return yt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const u of i.values||[])l?l=!1:r+=",",r+=cm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const d of r)u?u=!1:l+=",",l+=`${d}:${cm(i.fields[d])}`;return l+"}"})(s.mapValue):vt(61005,{value:s})}function Lc(s){switch(er(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=vh(s);return t?16+Lc(t):16;case 5:return 2*s.stringValue.length;case 6:return tr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+Lc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return sr(r.fields,((u,d)=>{l+=u.length+Lc(d)})),l})(s.mapValue);default:throw vt(13486,{value:s})}}function M0(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function hm(s){return!!s&&"integerValue"in s}function jm(s){return!!s&&"arrayValue"in s}function V0(s){return!!s&&"nullValue"in s}function k0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function jc(s){return!!s&&"mapValue"in s}function Jw(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[EE])==null?void 0:r.stringValue)===TE}function Sl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return sr(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Sl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Sl(s.arrayValue.values[i]);return t}return{...s}}function Ww(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Zw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t){this.value=t}static empty(){return new gn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!jc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Sl(i)}setAll(t){let i=Ke.emptyPath(),r={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=Sl(d):l.push(g.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,l)}delete(t){const i=this.field(t.popLast());jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Oi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];jc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){sr(i,((l,u)=>t[l]=u));for(const l of r)delete t[l]}clone(){return new gn(Sl(this.value))}}function bE(s){const t=[];return sr(s.fields,((i,r)=>{const l=new Ke([i]);if(jc(r)){const u=bE(r.mapValue).fields;if(u.length===0)t.push(l);else for(const d of u)t.push(l.child(d))}else t.push(l)})),new Rn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t,i,r,l,u,d,g){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(t){return new We(t,0,At.min(),At.min(),At.min(),gn.empty(),0)}static newFoundDocument(t,i,r,l){return new We(t,1,i,At.min(),r,l,0)}static newNoDocument(t,i){return new We(t,2,i,At.min(),At.min(),gn.empty(),0)}static newUnknownDocument(t,i){return new We(t,3,i,At.min(),At.min(),gn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof We&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t,i){this.position=t,this.inclusive=i}}function P0(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const u=t[l],d=s.position[l];if(u.field.isKeyField()?r=yt.comparator(yt.fromName(d.referenceValue),i.key):r=Ja(d,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function U0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Oi(s.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(t,i="asc"){this.field=t,this.dir=i}}function t2(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{}class xe extends AE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new n2(t,i,r):i==="array-contains"?new r2(t,r):i==="in"?new a2(t,r):i==="not-in"?new o2(t,r):i==="array-contains-any"?new l2(t,r):new xe(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new i2(t,r):new s2(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ja(i,this.value)):i!==null&&er(this.value)===er(i)&&this.matchesComparison(Ja(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends AE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ei(t,i)}matches(t){return SE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function SE(s){return s.op==="and"}function wE(s){return e2(s)&&SE(s)}function e2(s){for(const t of s.filters)if(t instanceof ei)return!1;return!0}function fm(s){if(s instanceof xe)return s.field.canonicalString()+s.op.toString()+Wa(s.value);if(wE(s))return s.filters.map((t=>fm(t))).join(",");{const t=s.filters.map((i=>fm(i))).join(",");return`${s.op}(${t})`}}function RE(s,t){return s instanceof xe?(function(r,l){return l instanceof xe&&r.op===l.op&&r.field.isEqual(l.field)&&Oi(r.value,l.value)})(s,t):s instanceof ei?(function(r,l){return l instanceof ei&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,d,g)=>u&&RE(d,l.filters[g])),!0):!1})(s,t):void vt(19439)}function IE(s){return s instanceof xe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Wa(i.value)}`})(s):s instanceof ei?(function(i){return i.op.toString()+" {"+i.getFilters().map(IE).join(" ,")+"}"})(s):"Filter"}class n2 extends xe{constructor(t,i,r){super(t,i,r),this.key=yt.fromName(r.referenceValue)}matches(t){const i=yt.comparator(t.key,this.key);return this.matchesComparison(i)}}class i2 extends xe{constructor(t,i){super(t,"in",i),this.keys=CE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class s2 extends xe{constructor(t,i){super(t,"not-in",i),this.keys=CE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function CE(s,t){var i;return(((i=t.arrayValue)==null?void 0:i.values)||[]).map((r=>yt.fromName(r.referenceValue)))}class r2 extends xe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return jm(i)&&Vl(i.arrayValue,this.value)}}class a2 extends xe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Vl(this.value.arrayValue,i)}}class o2 extends xe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vl(this.value.arrayValue,i)}}class l2 extends xe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!jm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Vl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(t,i=null,r=[],l=[],u=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=d,this.endAt=g,this.Te=null}}function L0(s,t=null,i=[],r=[],l=null,u=null,d=null){return new u2(s,t,i,r,l,u,d)}function zm(s){const t=wt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>fm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),_h(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Wa(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Wa(r))).join(",")),t.Te=i}return t.Te}function Bm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!t2(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!RE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!U0(s.startAt,t.startAt)&&U0(s.endAt,t.endAt)}function dm(s){return yt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(t,i=null,r=[],l=[],u=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function c2(s,t,i,r,l,u,d,g){return new lo(s,t,i,r,l,u,d,g)}function Eh(s){return new lo(s)}function j0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function NE(s){return s.collectionGroup!==null}function wl(s){const t=wt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new ke(Ke.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(t).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new kl(u,r))})),i.has(Ke.keyField().canonicalString())||t.Ie.push(new kl(Ke.keyField(),r))}return t.Ie}function Ri(s){const t=wt(s);return t.Ee||(t.Ee=h2(t,wl(s))),t.Ee}function h2(s,t){if(s.limitType==="F")return L0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new kl(l.field,u)}));const i=s.endAt?new th(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new th(s.startAt.position,s.startAt.inclusive):null;return L0(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function mm(s,t){const i=s.filters.concat([t]);return new lo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function gm(s,t,i){return new lo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Th(s,t){return Bm(Ri(s),Ri(t))&&s.limitType===t.limitType}function xE(s){return`${zm(Ri(s))}|lt:${s.limitType}`}function Ba(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>IE(l))).join(", ")}]`),_h(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>Wa(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>Wa(l))).join(",")),`Target(${r})`})(Ri(s))}; limitType=${s.limitType})`}function bh(s,t){return t.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):yt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,t)&&(function(r,l){for(const u of wl(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,g,_){const p=P0(d,g,_);return d.inclusive?p<=0:p<0})(r.startAt,wl(r),l)||r.endAt&&!(function(d,g,_){const p=P0(d,g,_);return d.inclusive?p>=0:p>0})(r.endAt,wl(r),l))})(s,t)}function f2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function DE(s){return(t,i)=>{let r=!1;for(const l of wl(s)){const u=d2(l,t,i);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function d2(s,t,i){const r=s.field.isKeyField()?yt.comparator(t.key,i.key):(function(u,d,g){const _=d.data.field(u),p=g.data.field(u);return _!==null&&p!==null?Ja(_,p):vt(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return vt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){sr(this.inner,((i,r)=>{for(const[l,u]of r)t(l,u)}))}isEmpty(){return mE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=new ce(yt.comparator);function ss(){return m2}const OE=new ce(yt.comparator);function vl(...s){let t=OE;for(const i of s)t=t.insert(i.key,i);return t}function ME(s){let t=OE;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function jr(){return Rl()}function VE(){return Rl()}function Rl(){return new Kr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const g2=new ce(yt.comparator),p2=new ke(yt.comparator);function Ut(...s){let t=p2;for(const i of s)t=t.add(i);return t}const y2=new ke(Pt);function _2(){return y2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(t)?"-0":t}}function kE(s){return{integerValue:""+s}}function v2(s,t){return Qw(t)?kE(t):qm(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(){this._=void 0}}function E2(s,t,i){return s instanceof eh?(function(l,u){const d={fields:{[yE]:{stringValue:pE},[vE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Lm(u)&&(u=vh(u)),u&&(d.fields[_E]=u),{mapValue:d}})(i,t):s instanceof Pl?UE(s,t):s instanceof Ul?LE(s,t):(function(l,u){const d=PE(l,u),g=z0(d)+z0(l.Ae);return hm(d)&&hm(l.Ae)?kE(g):qm(l.serializer,g)})(s,t)}function T2(s,t,i){return s instanceof Pl?UE(s,t):s instanceof Ul?LE(s,t):i}function PE(s,t){return s instanceof nh?(function(r){return hm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class eh extends Ah{}class Pl extends Ah{constructor(t){super(),this.elements=t}}function UE(s,t){const i=jE(t);for(const r of s.elements)i.some((l=>Oi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Ul extends Ah{constructor(t){super(),this.elements=t}}function LE(s,t){let i=jE(t);for(const r of s.elements)i=i.filter((l=>!Oi(l,r)));return{arrayValue:{values:i}}}class nh extends Ah{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function z0(s){return ve(s.integerValue||s.doubleValue)}function jE(s){return jm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function b2(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Pl&&l instanceof Pl||r instanceof Ul&&l instanceof Ul?Za(r.elements,l.elements,Oi):r instanceof nh&&l instanceof nh?Oi(r.Ae,l.Ae):r instanceof eh&&l instanceof eh})(s.transform,t.transform)}class A2{constructor(t,i){this.version=t,this.transformResults=i}}class an{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new an}static exists(t){return new an(void 0,t)}static updateTime(t){return new an(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function zc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Sh{}function zE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new wh(s.key,an.none()):new ql(s.key,s.data,an.none());{const i=s.data,r=gn.empty();let l=new ke(Ke.comparator);for(let u of t.fields)if(!l.has(u)){let d=i.field(u);d===null&&u.length>1&&(u=u.popLast(),d=i.field(u)),d===null?r.delete(u):r.set(u,d),l=l.add(u)}return new rr(s.key,r,new Rn(l.toArray()),an.none())}}function S2(s,t,i){s instanceof ql?(function(l,u,d){const g=l.value.clone(),_=q0(l.fieldTransforms,u,d.transformResults);g.setAll(_),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof rr?(function(l,u,d){if(!zc(l.precondition,u))return void u.convertToUnknownDocument(d.version);const g=q0(l.fieldTransforms,u,d.transformResults),_=u.data;_.setAll(BE(l)),_.setAll(g),u.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Il(s,t,i,r){return s instanceof ql?(function(u,d,g,_){if(!zc(u.precondition,d))return g;const p=u.value.clone(),T=H0(u.fieldTransforms,_,d);return p.setAll(T),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(s,t,i,r):s instanceof rr?(function(u,d,g,_){if(!zc(u.precondition,d))return g;const p=H0(u.fieldTransforms,_,d),T=d.data;return T.setAll(BE(u)),T.setAll(p),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(s,t,i,r):(function(u,d,g){return zc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function w2(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),u=PE(r.transform,l||null);u!=null&&(i===null&&(i=gn.empty()),i.set(r.field,u))}return i||null}function B0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Za(r,l,((u,d)=>b2(u,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class ql extends Sh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class rr extends Sh{constructor(t,i,r,l,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function BE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function q0(s,t,i){const r=new Map;Yt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const u=s[l],d=u.transform,g=t.data.field(u.field);r.set(u.field,T2(d,g,i[l]))}return r}function H0(s,t,i){const r=new Map;for(const l of s){const u=l.transform,d=i.data.field(l.field);r.set(l.field,E2(u,d,t))}return r}class wh extends Sh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R2 extends Sh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&S2(u,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Il(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Il(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=VE();return this.mutations.forEach((l=>{const u=t.get(l.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=i.has(l.key)?null:g;const _=zE(d,g);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(At.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Za(this.mutations,t.mutations,((i,r)=>B0(i,r)))&&Za(this.baseMutations,t.baseMutations,((i,r)=>B0(i,r)))}}class Hm{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Yt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return g2})();const u=t.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,r[d].version);return new Hm(t,i,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne,Bt;function x2(s){switch(s){case Y.OK:return vt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return vt(15467,{code:s})}}function qE(s){if(s===void 0)return is("GRPC error has no .code"),Y.UNKNOWN;switch(s){case Ne.OK:return Y.OK;case Ne.CANCELLED:return Y.CANCELLED;case Ne.UNKNOWN:return Y.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return Y.INTERNAL;case Ne.UNAVAILABLE:return Y.UNAVAILABLE;case Ne.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Ne.NOT_FOUND:return Y.NOT_FOUND;case Ne.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Ne.ABORTED:return Y.ABORTED;case Ne.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Ne.DATA_LOSS:return Y.DATA_LOSS;default:return vt(39323,{code:s})}}(Bt=Ne||(Ne={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=new $s([4294967295,4294967295],0);function F0(s){const t=D2().encode(s),i=new iE;return i.update(t),new Uint8Array(i.digest())}function G0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new $s([i,r],0),new $s([l,u],0)]}class Fm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new El(`Invalid padding: ${i}`);if(r<0)throw new El(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new El(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new El(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=$s.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply($s.fromNumber(r)));return l.compare(O2)===1&&(l=new $s([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=F0(t),[r,l]=G0(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),d=new Fm(u,l,i);return r.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=F0(t),[r,l]=G0(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class El extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t,i,r,l,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Hl.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Rh(At.min(),l,new ce(Pt),ss(),Ut())}}class Hl{constructor(t,i,r,l,u){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Hl(r,i,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class HE{constructor(t,i){this.targetId=t,this.Ce=i}}class FE{constructor(t,i,r=Xe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class Q0{constructor(){this.ve=0,this.Fe=Y0(),this.Me=Xe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),i=Ut(),r=Ut();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:vt(38017,{changeType:u})}})),new Hl(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=Y0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class M2{constructor(t){this.Ge=t,this.ze=new Map,this.je=ss(),this.Je=Oc(),this.He=Oc(),this.Ye=new ce(Pt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const u=l.target;if(dm(u))if(r===0){const d=new yt(u.path);this.et(i,d,We.newNoDocument(d,At.min()))}else Yt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const p=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,p)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=i;let d,g;try{d=tr(r).toUint8Array()}catch(_){if(_ instanceof gE)return $a("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Fm(d,l,u)}catch(_){return $a(_ instanceof El?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((u=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.mightContain(g)||(this.et(i,u,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((u,d)=>{const g=this.ot(d);if(g){if(u.current&&dm(g.target)){const _=new yt(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,We.newNoDocument(_,t))}u.Be&&(i.set(d,u.ke()),u.qe())}}));let r=Ut();this.He.forEach(((u,d)=>{let g=!0;d.forEachWhile((_=>{const p=this.ot(_);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(t)));const l=new Rh(t,i,this.Ye,this.je,r);return this.je=ss(),this.Je=Oc(),this.He=Oc(),this.Ye=new ce(Pt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Q0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new ke(Pt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new ke(Pt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Q0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Oc(){return new ce(yt.comparator)}function Y0(){return new ce(yt.comparator)}const V2={asc:"ASCENDING",desc:"DESCENDING"},k2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},P2={and:"AND",or:"OR"};class U2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function pm(s,t){return s.useProto3Json||_h(t)?t:{value:t}}function ih(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function GE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function L2(s,t){return ih(s,t.toTimestamp())}function Ii(s){return Yt(!!s,49232),At.fromTimestamp((function(i){const r=Ws(i);return new re(r.seconds,r.nanos)})(s))}function Gm(s,t){return ym(s,t).canonicalString()}function ym(s,t){const i=(function(l){return new ne(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function QE(s){const t=ne.fromString(s);return Yt(ZE(t),10190,{key:t.toString()}),t}function _m(s,t){return Gm(s.databaseId,t.path)}function Yd(s,t){const i=QE(t);if(i.get(1)!==s.databaseId.projectId)throw new it(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new it(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new yt(KE(i))}function YE(s,t){return Gm(s.databaseId,t)}function j2(s){const t=QE(s);return t.length===4?ne.emptyPath():KE(t)}function vm(s){return new ne(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function KE(s){return Yt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function K0(s,t,i){return{name:_m(s,t),fields:i.value.mapValue.fields}}function z2(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:vt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(p,T){return p.useProto3Json?(Yt(T===void 0||typeof T=="string",58123),Xe.fromBase64String(T||"")):(Yt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Xe.fromUint8Array(T||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(p){const T=p.code===void 0?Y.UNKNOWN:qE(p.code);return new it(T,p.message||"")})(d);i=new FE(r,l,u,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Yd(s,r.document.name),u=Ii(r.document.updateTime),d=r.document.createTime?Ii(r.document.createTime):At.min(),g=new gn({mapValue:{fields:r.document.fields}}),_=We.newFoundDocument(l,u,d,g),p=r.targetIds||[],T=r.removedTargetIds||[];i=new Bc(p,T,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Yd(s,r.document),u=r.readTime?Ii(r.readTime):At.min(),d=We.newNoDocument(l,u),g=r.removedTargetIds||[];i=new Bc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Yd(s,r.document),u=r.removedTargetIds||[];i=new Bc([],u,l,null)}else{if(!("filter"in t))return vt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,d=new N2(l,u),g=r.targetId;i=new HE(g,d)}}return i}function B2(s,t){let i;if(t instanceof ql)i={update:K0(s,t.key,t.value)};else if(t instanceof wh)i={delete:_m(s,t.key)};else if(t instanceof rr)i={update:K0(s,t.key,t.data),updateMask:$2(t.fieldMask)};else{if(!(t instanceof R2))return vt(16599,{Vt:t.type});i={verify:_m(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(u,d){const g=d.transform;if(g instanceof eh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Pl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ul)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof nh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw vt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:L2(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:vt(27497)})(s,t.precondition)),i}function q2(s,t){return s&&s.length>0?(Yt(t!==void 0,14353),s.map((i=>(function(l,u){let d=l.updateTime?Ii(l.updateTime):Ii(u);return d.isEqual(At.min())&&(d=Ii(u)),new A2(d,l.transformResults||[])})(i,t)))):[]}function H2(s,t){return{documents:[YE(s,t.path)]}}function F2(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=YE(s,l);const u=(function(p){if(p.length!==0)return $E(ei.create(p,"and"))})(t.filters);u&&(i.structuredQuery.where=u);const d=(function(p){if(p.length!==0)return p.map((T=>(function(x){return{field:qa(x.field),direction:Y2(x.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=pm(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:i,parent:l}}function G2(s){let t=j2(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Yt(r===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let u=[];i.where&&(u=(function(A){const x=XE(A);return x instanceof ei&&wE(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((x=>(function(W){return new kl(Ha(W.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(x)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let x;return x=typeof A=="object"?A.value:A,_h(x)?null:x})(i.limit));let _=null;i.startAt&&(_=(function(A){const x=!!A.before,U=A.values||[];return new th(U,x)})(i.startAt));let p=null;return i.endAt&&(p=(function(A){const x=!A.before,U=A.values||[];return new th(U,x)})(i.endAt)),c2(t,l,d,u,g,"F",_,p)}function Q2(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function XE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ha(i.unaryFilter.field);return xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ha(i.unaryFilter.field);return xe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ha(i.unaryFilter.field);return xe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ha(i.unaryFilter.field);return xe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return xe.create(Ha(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ei.create(i.compositeFilter.filters.map((r=>XE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(s):vt(30097,{filter:s})}function Y2(s){return V2[s]}function K2(s){return k2[s]}function X2(s){return P2[s]}function qa(s){return{fieldPath:s.canonicalString()}}function Ha(s){return Ke.fromServerFormat(s.fieldPath)}function $E(s){return s instanceof xe?(function(i){if(i.op==="=="){if(k0(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NAN"}};if(V0(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(k0(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NAN"}};if(V0(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(i.field),op:K2(i.op),value:i.value}}})(s):s instanceof ei?(function(i){const r=i.getFilters().map((l=>$E(l)));return r.length===1?r[0]:{compositeFilter:{op:X2(i.op),filters:r}}})(s):vt(54877,{filter:s})}function $2(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function ZE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t,i,r,l,u=At.min(),d=At.min(),g=Xe.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new Qs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t){this.yt=t}}function J2(s){const t=G2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?gm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this.Cn=new tR}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(Js.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(Js.min())}updateCollectionGroup(t,i,r){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class tR{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new ke(ne.comparator),u=!l.has(r);return this.index[i]=l.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new ke(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JE=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(JE,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new to(0)}static cr(){return new to(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="LruGarbageCollector",eR=1048576;function Z0([s,t],[i,r]){const l=Pt(s,i);return l===0?Pt(t,r):l}class nR{constructor(t){this.Ir=t,this.buffer=new ke(Z0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Z0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class iR{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at($0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){oo(i)?at($0,"Ignoring IndexedDB error during garbage collection: ",i):await ao(i)}await this.Vr(3e5)}))}}class sR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(yh.ce);const r=new nR(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(X0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,u,d,g,_,p;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(r=A,g=Date.now(),this.removeTargets(t,r,i)))).next((A=>(u=A,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((A=>(p=Date.now(),za()<=kt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${u} targets in `+(_-g)+`ms
	Removed ${A} documents in `+(p-_)+`ms
Total Duration: ${p-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:A}))))}}function rR(s,t){return new sR(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.changes=new Kr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,We.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?$.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Il(r.mutation,l,Rn.empty(),re.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Ut()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Ut()){const l=jr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((u=>{let d=vl();return u.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=jr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Ut())))}populateOverlays(t,i,r){const l=[];return r.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,r,l){let u=ss();const d=Rl(),g=(function(){return Rl()})();return i.forEach(((_,p)=>{const T=r.get(p.key);l.has(p.key)&&(T===void 0||T.mutation instanceof rr)?u=u.insert(p.key,p):T!==void 0?(d.set(p.key,T.mutation.getFieldMask()),Il(T.mutation,p,T.mutation.getFieldMask(),re.now())):d.set(p.key,Rn.empty())})),this.recalculateAndSaveOverlays(t,u).next((_=>(_.forEach(((p,T)=>d.set(p,T))),i.forEach(((p,T)=>g.set(p,new oR(T,d.get(p)??null)))),g)))}recalculateAndSaveOverlays(t,i){const r=Rl();let l=new ce(((d,g)=>d-g)),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const p=i.get(_);if(p===null)return;let T=r.get(_)||Rn.empty();T=g.applyToLocalView(p,T),r.set(_,T);const A=(l.get(g.batchId)||Ut()).add(_);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),p=_.key,T=_.value,A=VE();T.forEach((x=>{if(!u.has(x)){const U=zE(i.get(x),r.get(x));U!==null&&A.set(x,U),u=u.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,p,A))}return $.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return yt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):NE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-u.size):$.resolve(jr());let g=Dl,_=u;return d.next((p=>$.forEach(p,((T,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),u.get(T)?$.resolve():this.remoteDocumentCache.getEntry(t,T).next((x=>{_=_.insert(T,x)}))))).next((()=>this.populateOverlays(t,p,u))).next((()=>this.computeViews(t,_,p,Ut()))).next((T=>({batchId:g,changes:ME(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new yt(i)).next((r=>{let l=vl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const u=i.collectionGroup;let d=vl();return this.indexManager.getCollectionParents(t,u).next((g=>$.forEach(g,(_=>{const p=(function(A,x){return new lo(x,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,_.child(u));return this.getDocumentsMatchingCollectionQuery(t,p,r,l).next((T=>{T.forEach(((A,x)=>{d=d.insert(A,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,l)))).next((d=>{u.forEach(((_,p)=>{const T=p.getKey();d.get(T)===null&&(d=d.insert(T,We.newInvalidDocument(T)))}));let g=vl();return d.forEach(((_,p)=>{const T=u.get(_);T!==void 0&&Il(T.mutation,p,Rn.empty(),re.now()),bh(i,p)&&(g=g.insert(_,p))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ii(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:J2(l.bundledQuery),readTime:Ii(l.readTime)}})(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(){this.overlays=new ce(yt.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const r=jr();return $.forEach(i,(l=>this.getOverlay(t,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,u)=>{this.St(t,i,u)})),$.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(t,i,r){const l=jr(),u=i.length+1,d=new yt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,p=_.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===u&&_.largestBatchId>r&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let u=new ce(((p,T)=>p-T));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>r){let T=u.get(p.largestBatchId);T===null&&(T=jr(),u=u.insert(p.largestBatchId,T)),T.set(p.getKey(),p)}}const g=jr(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((p,T)=>g.set(p,T))),!(g.size()>=l)););return $.resolve(g)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new C2(i,r));let u=this.qr.get(i);u===void 0&&(u=Ut(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(){this.Qr=new ke(je.$r),this.Ur=new ke(je.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new je(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new je(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new yt(new ne([])),r=new je(i,t),l=new je(i,t+1),u=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new yt(new ne([])),r=new je(i,t),l=new je(i,t+1);let u=Ut();return this.Ur.forEachInRange([r,l],(d=>{u=u.add(d.key)})),u}containsKey(t){const i=new je(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class je{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return yt.comparator(t.key,i.key)||Pt(t.Yr,i.Yr)}static Kr(t,i){return Pt(t.Yr,i.Yr)||yt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new ke(je.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new I2(u,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new je(g.key,u)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),u=l<0?0:l;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Um:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new je(i,0),l=new je(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,l],(d=>{const g=this.Xr(d.Yr);u.push(g)})),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new ke(Pt);return i.forEach((l=>{const u=new je(l,0),d=new je(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(g=>{r=r.add(g.Yr)}))})),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let u=r;yt.isDocumentKey(u)||(u=u.child(""));const d=new je(new yt(u),0);let g=new ke(Pt);return this.Zr.forEachWhile((_=>{const p=_.key.path;return!!r.isPrefixOf(p)&&(p.length===l&&(g=g.add(_.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Yt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(i.mutations,(l=>{const u=new je(l.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new je(i,0),l=this.Zr.firstAfterOrEqual(r);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(t){this.ri=t,this.docs=(function(){return new ce(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),u=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return $.resolve(r?r.document.mutableCopy():We.newInvalidDocument(i))}getEntries(t,i){let r=ss();return i.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():We.newInvalidDocument(l))})),$.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let u=ss();const d=i.path,g=new yt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:p,value:{document:T}}=_.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||qw(Bw(T),r)<=0||(l.has(T.key)||bh(i,T))&&(u=u.insert(T.key,T.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(t,i,r,l){vt(9500)}ii(t,i){return $.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new mR(this)}getSize(t){return $.resolve(this.size)}}class mR extends aR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(t){this.persistence=t,this.si=new Kr((i=>zm(i)),Bm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new Qm,this.targetCount=0,this.ai=to.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new to(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,r){let l=0;const u=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),$.waitFor(u).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return $.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),$.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((d=>{u.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return $.resolve(r)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(t,i){this.ui={},this.overlays={},this.ci=new yh(0),this.li=!1,this.li=!0,this.hi=new hR,this.referenceDelegate=t(this),this.Pi=new gR(this),this.indexManager=new W2,this.remoteDocumentCache=(function(l){return new dR(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Z2(i),this.Ii=new uR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new cR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new fR(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){at("MemoryPersistence","Starting transaction:",t);const l=new pR(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(t,i){return $.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class pR extends Fw{constructor(t){super(),this.currentSequenceNumber=t}}class Ym{constructor(t){this.persistence=t,this.Ri=new Qm,this.Vi=null}static mi(t){return new Ym(t)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),$.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(r=>{const l=yt.fromPath(r);return this.gi(t,l).next((u=>{u||i.removeEntry(l,At.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class sh{constructor(t,i){this.persistence=t,this.pi=new Kr((r=>Yw(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=rR(this,i)}static mi(t,i){return new sh(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((r,l)=>this.br(t,r,l).next((u=>u?$.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(r++,u.removeEntry(d,At.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Lc(t.data.value)),i}br(t,i,r){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=Ut(),l=Ut();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Km(t,i.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return hS()?8:Gw(tn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const u={result:null};return this.ys(t,i).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(t,i,l,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new yR;return this.Ss(t,i,d).next((g=>{if(u.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>u.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(za()<=kt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Ba(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(za()<=kt.DEBUG&&at("QueryEngine","Query:",Ba(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(za()<=kt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Ba(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ri(i))):$.resolve())}ys(t,i){if(j0(i))return $.resolve(null);let r=Ri(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=gm(i,null,"F"),r=Ri(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const d=Ut(...u);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,r).next((_=>{const p=this.Ds(i,g);return this.Cs(i,p,d,_.readTime)?this.ys(t,gm(i,null,"F")):this.vs(t,p,i,_)}))))})))))}ws(t,i,r,l){return j0(i)||l.isEqual(At.min())?$.resolve(null):this.ps.getDocuments(t,r).next((u=>{const d=this.Ds(i,u);return this.Cs(i,d,r,l)?$.resolve(null):(za()<=kt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ba(i)),this.vs(t,d,i,zw(l,Dl)).next((g=>g)))}))}Ds(t,i){let r=new ke(DE(t));return i.forEach(((l,u)=>{bh(t,u)&&(r=r.add(u))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(t,i,r){return za()<=kt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Ba(i)),this.ps.getDocumentsMatchingQuery(t,i,Js.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((u=>(i.forEach((d=>{u=u.insert(d.key,d)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="LocalStore",vR=3e8;class ER{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ce(Pt),this.xs=new Kr((u=>zm(u)),Bm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new lR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function TR(s,t,i,r){return new ER(s,t,i,r)}async function tT(s,t){const i=wt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],g=[];let _=Ut();for(const p of l){d.push(p.batchId);for(const T of p.mutations)_=_.add(T.key)}for(const p of u){g.push(p.batchId);for(const T of p.mutations)_=_.add(T.key)}return i.localDocuments.getDocuments(r,_).next((p=>({Ls:p,removedBatchIds:d,addedBatchIds:g})))}))}))}function bR(s,t){const i=wt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,p,T){const A=p.batch,x=A.keys();let U=$.resolve();return x.forEach((W=>{U=U.next((()=>T.getEntry(_,W))).next((Z=>{const J=p.docVersions.get(W);Yt(J!==null,48541),Z.version.compareTo(J)<0&&(A.applyToRemoteDocument(Z,p),Z.isValidDocument()&&(Z.setReadTime(p.commitVersion),T.addEntry(Z)))}))})),U.next((()=>g.mutationQueue.removeMutationBatch(_,A)))})(i,r,t,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let _=Ut();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(_=_.add(g.batch.mutations[p].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function eT(s){const t=wt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function AR(s,t){const i=wt(s),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((T,A)=>{const x=l.get(A);if(!x)return;g.push(i.Pi.removeMatchingKeys(u,T.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(u,T.addedDocuments,A))));let U=x.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?U=U.withResumeToken(Xe.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):T.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(T.resumeToken,r)),l=l.insert(A,U),(function(Z,J,rt){return Z.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=vR?!0:rt.addedDocuments.size+rt.modifiedDocuments.size+rt.removedDocuments.size>0})(x,U,T)&&g.push(i.Pi.updateTargetData(u,U))}));let _=ss(),p=Ut();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(u,T))})),g.push(SR(u,d,t.documentUpdates).next((T=>{_=T.ks,p=T.qs}))),!r.isEqual(At.min())){const T=i.Pi.getLastRemoteSnapshotVersion(u).next((A=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));g.push(T)}return $.waitFor(g).next((()=>d.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,_,p))).next((()=>_))})).then((u=>(i.Ms=l,u)))}function SR(s,t,i){let r=Ut(),l=Ut();return i.forEach((u=>r=r.add(u))),t.getEntries(s,r).next((u=>{let d=ss();return i.forEach(((g,_)=>{const p=u.get(g);_.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(At.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!p.isValidDocument()||_.version.compareTo(p.version)>0||_.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):at(Xm,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function wR(s,t){const i=wt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Um),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function RR(s,t){const i=wt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((u=>u?(l=u,$.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new Qs(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Em(s,t,i){const r=wt(s),l=r.Ms.get(t),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!oo(d))throw d;at(Xm,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function J0(s,t,i){const r=wt(s);let l=At.min(),u=Ut();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,p,T){const A=wt(_),x=A.xs.get(T);return x!==void 0?$.resolve(A.Ms.get(x)):A.Pi.getTargetData(p,T)})(r,d,Ri(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{u=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:At.min(),i?u:Ut()))).next((g=>(IR(r,f2(t),g),{documents:g,Qs:u})))))}function IR(s,t,i){let r=s.Os.get(t)||At.min();i.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(t,r)}class W0{constructor(){this.activeTargetIds=_2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class CR{constructor(){this.Mo=new W0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new W0,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="ConnectivityMonitor";class ev{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(tv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(tv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc=null;function Tm(){return Mc===null?Mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mc++,"0x"+Mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="RestConnection",xR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Jc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,u){const d=Tm(),g=this.zo(t,i.toUriEncodedString());at(Kd,`Sending RPC '${t}' ${d}:`,g,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,u);const{host:p}=new URL(g),T=io(p);return this.Jo(t,g,_,r,T).then((A=>(at(Kd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw $a(Kd,`RPC '${t}' ${d} failed with error: `,A,"url: ",g,"request:",r),A}))}Ho(t,i,r,l,u,d){return this.Go(t,i,r,l,u)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ro})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,u)=>t[u]=l)),r&&r.headers.forEach(((l,u)=>t[u]=l))}zo(t,i){const r=xR[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze="WebChannelConnection";class MR extends DR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,u){const d=Tm();return new Promise(((g,_)=>{const p=new sE;p.setWithCredentials(!0),p.listenOnce(rE.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Uc.NO_ERROR:const A=p.getResponseJson();at(Ze,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),g(A);break;case Uc.TIMEOUT:at(Ze,`RPC '${t}' ${d} timed out`),_(new it(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const x=p.getStatus();if(at(Ze,`RPC '${t}' ${d} failed with status:`,x,"response text:",p.getResponseText()),x>0){let U=p.getResponseJson();Array.isArray(U)&&(U=U[0]);const W=U==null?void 0:U.error;if(W&&W.status&&W.message){const Z=(function(rt){const ct=rt.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(ct)>=0?ct:Y.UNKNOWN})(W.status);_(new it(Z,W.message))}else _(new it(Y.UNKNOWN,"Server responded with status "+p.getStatus()))}else _(new it(Y.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{at(Ze,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);at(Ze,`RPC '${t}' ${d} sending request:`,l),p.send(i,"POST",T,r,15)}))}T_(t,i,r){const l=Tm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=lE(),g=oE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(_.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const T=u.join("");at(Ze,`Creating RPC '${t}' stream ${l}: ${T}`,_);const A=d.createWebChannel(T,_);this.I_(A);let x=!1,U=!1;const W=new OR({Yo:J=>{U?at(Ze,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(x||(at(Ze,`Opening RPC '${t}' stream ${l} transport.`),A.open(),x=!0),at(Ze,`RPC '${t}' stream ${l} sending:`,J),A.send(J))},Zo:()=>A.close()}),Z=(J,rt,ct)=>{J.listen(rt,(ft=>{try{ct(ft)}catch(Et){setTimeout((()=>{throw Et}),0)}}))};return Z(A,_l.EventType.OPEN,(()=>{U||(at(Ze,`RPC '${t}' stream ${l} transport opened.`),W.o_())})),Z(A,_l.EventType.CLOSE,(()=>{U||(U=!0,at(Ze,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(A))})),Z(A,_l.EventType.ERROR,(J=>{U||(U=!0,$a(Ze,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),W.a_(new it(Y.UNAVAILABLE,"The operation could not be completed")))})),Z(A,_l.EventType.MESSAGE,(J=>{var rt;if(!U){const ct=J.data[0];Yt(!!ct,16349);const ft=ct,Et=(ft==null?void 0:ft.error)||((rt=ft[0])==null?void 0:rt.error);if(Et){at(Ze,`RPC '${t}' stream ${l} received error:`,Et);const st=Et.status;let dt=(function(S){const O=Ne[S];if(O!==void 0)return qE(O)})(st),N=Et.message;dt===void 0&&(dt=Y.INTERNAL,N="Unknown error status: "+st+" with message "+Et.message),U=!0,W.a_(new it(dt,N)),A.close()}else at(Ze,`RPC '${t}' stream ${l} received:`,ct),W.u_(ct)}})),Z(g,aE.STAT_EVENT,(J=>{J.stat===lm.PROXY?at(Ze,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===lm.NOPROXY&&at(Ze,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Xd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(s){return new U2(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(t,i,r=1e3,l=1.5,u=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="PersistentStream";class iT{constructor(t,i,r,l,u,d,g,_){this.Mi=t,this.S_=r,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(is(i.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new it(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(nv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(at(nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class VR extends iT{constructor(t,i,r,l,u,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=u}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=z2(this.serializer,t),r=(function(u){if(!("targetChange"in u))return At.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?Ii(d.readTime):At.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=vm(this.serializer),i.addTarget=(function(u,d){let g;const _=d.target;if(g=dm(_)?{documents:H2(u,_)}:{query:F2(u,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=GE(u,d.resumeToken);const p=pm(u,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(At.min())>0){g.readTime=ih(u,d.snapshotVersion.toTimestamp());const p=pm(u,d.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,t);const r=Q2(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=vm(this.serializer),i.removeTarget=t,this.q_(i)}}class kR extends iT{constructor(t,i,r,l,u,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=q2(t.writeResults,t.commitTime),r=Ii(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=vm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>B2(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{}class UR extends PR{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new it(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(t,ym(i,r),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new it(Y.UNKNOWN,u.toString())}))}Ho(t,i,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,ym(i,r),l,d,g,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class LR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(is(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="RemoteStore";class jR{constructor(t,i,r,l,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Xr(this)&&(at(Qr,"Restarting streams for network reachability change."),await(async function(_){const p=wt(_);p.Ea.add(4),await Fl(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Ch(p)})(this))}))})),this.Ra=new LR(r,l)}}async function Ch(s){if(Xr(s))for(const t of s.da)await t(!0)}async function Fl(s){for(const t of s.da)await t(!1)}function sT(s,t){const i=wt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Wm(i)?Jm(i):uo(i).O_()&&Zm(i,t))}function $m(s,t){const i=wt(s),r=uo(i);i.Ia.delete(t),r.O_()&&rT(i,t),i.Ia.size===0&&(r.O_()?r.L_():Xr(i)&&i.Ra.set("Unknown"))}function Zm(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}uo(s).Y_(t)}function rT(s,t){s.Va.Ue(t),uo(s).Z_(t)}function Jm(s){s.Va=new M2({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),uo(s).start(),s.Ra.ua()}function Wm(s){return Xr(s)&&!uo(s).x_()&&s.Ia.size>0}function Xr(s){return wt(s).Ea.size===0}function aT(s){s.Va=void 0}async function zR(s){s.Ra.set("Online")}async function BR(s){s.Ia.forEach(((t,i)=>{Zm(s,t)}))}async function qR(s,t){aT(s),Wm(s)?(s.Ra.ha(t),Jm(s)):s.Ra.set("Unknown")}async function HR(s,t,i){if(s.Ra.set("Online"),t instanceof FE&&t.state===2&&t.cause)try{await(async function(l,u){const d=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,t)}catch(r){at(Qr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await rh(s,r)}else if(t instanceof Bc?s.Va.Ze(t):t instanceof HE?s.Va.st(t):s.Va.tt(t),!i.isEqual(At.min()))try{const r=await eT(s.localStore);i.compareTo(r)>=0&&await(function(u,d){const g=u.Va.Tt(d);return g.targetChanges.forEach(((_,p)=>{if(_.resumeToken.approximateByteSize()>0){const T=u.Ia.get(p);T&&u.Ia.set(p,T.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,p)=>{const T=u.Ia.get(_);if(!T)return;u.Ia.set(_,T.withResumeToken(Xe.EMPTY_BYTE_STRING,T.snapshotVersion)),rT(u,_);const A=new Qs(T.target,_,p,T.sequenceNumber);Zm(u,A)})),u.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){at(Qr,"Failed to raise snapshot:",r),await rh(s,r)}}async function rh(s,t,i){if(!oo(t))throw t;s.Ea.add(1),await Fl(s),s.Ra.set("Offline"),i||(i=()=>eT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(Qr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ch(s)}))}function oT(s,t){return t().catch((i=>rh(s,i,t)))}async function Nh(s){const t=wt(s),i=nr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Um;for(;FR(t);)try{const l=await wR(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,GR(t,l)}catch(l){await rh(t,l)}lT(t)&&uT(t)}function FR(s){return Xr(s)&&s.Ta.length<10}function GR(s,t){s.Ta.push(t);const i=nr(s);i.O_()&&i.X_&&i.ea(t.mutations)}function lT(s){return Xr(s)&&!nr(s).x_()&&s.Ta.length>0}function uT(s){nr(s).start()}async function QR(s){nr(s).ra()}async function YR(s){const t=nr(s);for(const i of s.Ta)t.ea(i.mutations)}async function KR(s,t,i){const r=s.Ta.shift(),l=Hm.from(r,t,i);await oT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Nh(s)}async function XR(s,t){t&&nr(s).X_&&await(async function(r,l){if((function(d){return x2(d)&&d!==Y.ABORTED})(l.code)){const u=r.Ta.shift();nr(r).B_(),await oT(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Nh(r)}})(s,t),lT(s)&&uT(s)}async function iv(s,t){const i=wt(s);i.asyncQueue.verifyOperationInProgress(),at(Qr,"RemoteStore received new credentials");const r=Xr(i);i.Ea.add(3),await Fl(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ch(i)}async function $R(s,t){const i=wt(s);t?(i.Ea.delete(2),await Ch(i)):t||(i.Ea.add(2),await Fl(i),i.Ra.set("Unknown"))}function uo(s){return s.ma||(s.ma=(function(i,r,l){const u=wt(i);return u.sa(),new VR(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:zR.bind(null,s),t_:BR.bind(null,s),r_:qR.bind(null,s),H_:HR.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Wm(s)?Jm(s):s.Ra.set("Unknown")):(await s.ma.stop(),aT(s))}))),s.ma}function nr(s){return s.fa||(s.fa=(function(i,r,l){const u=wt(i);return u.sa(),new kR(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:QR.bind(null,s),r_:XR.bind(null,s),ta:YR.bind(null,s),na:KR.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Nh(s)):(await s.fa.stop(),s.Ta.length>0&&(at(Qr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t,i,r,l,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,u){const d=Date.now()+r,g=new tg(t,i,d,l,u);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eg(s,t){if(is("AsyncQueue",`${t}: ${s}`),oo(s))return new it(Y.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{static emptySet(t){return new Ga(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||yt.comparator(i.key,r.key):(i,r)=>yt.comparator(i.key,r.key),this.keyedMap=vl(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ga)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Ga;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(){this.ga=new ce(yt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):vt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class eo{constructor(t,i,r,l,u,d,g,_,p){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=p}static fromInitialDocuments(t,i,r,l,u){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new eo(t,i,Ga.emptySet(i),d,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Th(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class JR{constructor(){this.queries=rv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=wt(i),u=l.queries;l.queries=rv(),u.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(r)}))})(this,new it(Y.ABORTED,"Firestore shutting down"))}}function rv(){return new Kr((s=>xE(s)),Th)}async function ng(s,t){const i=wt(s);let r=3;const l=t.query;let u=i.queries.get(l);u?!u.ba()&&t.Da()&&(r=2):(u=new ZR,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(l,!0);break;case 1:u.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=eg(d,`Initialization of query '${Ba(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,u),u.Sa.push(t),t.va(i.onlineState),u.wa&&t.Fa(u.wa)&&sg(i)}async function ig(s,t){const i=wt(s),r=t.query;let l=3;const u=i.queries.get(r);if(u){const d=u.Sa.indexOf(t);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=t.Da()?0:1:!u.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function WR(s,t){const i=wt(s);let r=!1;for(const l of t){const u=l.query,d=i.queries.get(u);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&sg(i)}function tI(s,t,i){const r=wt(s),l=r.queries.get(t);if(l)for(const u of l.Sa)u.onError(i);r.queries.delete(t)}function sg(s){s.Ca.forEach((t=>{t.next()}))}var bm,av;(av=bm||(bm={})).Ma="default",av.Cache="cache";class rg{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new eo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=eo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==bm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(t){this.key=t}}class hT{constructor(t){this.key=t}}class eI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=DE(t),this.tu=new Ga(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new sv,l=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,A)=>{const x=l.get(T),U=bh(this.query,A)?A:null,W=!!x&&this.mutatedKeys.has(x.key),Z=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let J=!1;x&&U?x.data.isEqual(U.data)?W!==Z&&(r.track({type:3,doc:U}),J=!0):this.su(x,U)||(r.track({type:2,doc:U}),J=!0,(_&&this.eu(U,_)>0||p&&this.eu(U,p)<0)&&(g=!0)):!x&&U?(r.track({type:0,doc:U}),J=!0):x&&!U&&(r.track({type:1,doc:x}),J=!0,(_||p)&&(g=!0)),J&&(U?(d=d.add(U),u=Z?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:g,mutatedKeys:u}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,A)=>(function(U,W){const Z=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:J})}};return Z(U)-Z(W)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,p=_!==this.Za;return this.Za=_,d.length!==0||p?{snapshot:new eo(this.query,t.tu,u,d,t.mutatedKeys,_===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new hT(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new cT(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ut();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ag="SyncEngine";class nI{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class iI{constructor(t){this.key=t,this.hu=!1}}class sI{constructor(t,i,r,l,u,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Kr((g=>xE(g)),Th),this.Iu=new Map,this.Eu=new Set,this.du=new ce(yt.comparator),this.Au=new Map,this.Ru=new Qm,this.Vu={},this.mu=new Map,this.fu=to.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rI(s,t,i=!0){const r=yT(s);let l;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await fT(r,t,i,!0),l}async function aI(s,t){const i=yT(s);await fT(i,t,!0,!1)}async function fT(s,t,i,r){const l=await RR(s.localStore,Ri(t)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,i);let g;return r&&(g=await oI(s,t,u,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&sT(s.remoteStore,l),g}async function oI(s,t,i,r,l){s.pu=(A,x,U)=>(async function(Z,J,rt,ct){let ft=J.view.ru(rt);ft.Cs&&(ft=await J0(Z.localStore,J.query,!1).then((({documents:N})=>J.view.ru(N,ft))));const Et=ct&&ct.targetChanges.get(J.targetId),st=ct&&ct.targetMismatches.get(J.targetId)!=null,dt=J.view.applyChanges(ft,Z.isPrimaryClient,Et,st);return lv(Z,J.targetId,dt.au),dt.snapshot})(s,A,x,U);const u=await J0(s.localStore,t,!0),d=new eI(t,u.Qs),g=d.ru(u.documents),_=Hl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),p=d.applyChanges(g,s.isPrimaryClient,_);lv(s,i,p.au);const T=new nI(t,i,d);return s.Tu.set(t,T),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),p.snapshot}async function lI(s,t,i){const r=wt(s),l=r.Tu.get(t),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((d=>!Th(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Em(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&$m(r.remoteStore,l.targetId),Am(r,l.targetId)})).catch(ao)):(Am(r,l.targetId),await Em(r.localStore,l.targetId,!0))}async function uI(s,t){const i=wt(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),$m(i.remoteStore,r.targetId))}async function cI(s,t,i){const r=yI(s);try{const l=await(function(d,g){const _=wt(d),p=re.now(),T=g.reduce(((U,W)=>U.add(W.key)),Ut());let A,x;return _.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let W=ss(),Z=Ut();return _.Ns.getEntries(U,T).next((J=>{W=J,W.forEach(((rt,ct)=>{ct.isValidDocument()||(Z=Z.add(rt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(U,W))).next((J=>{A=J;const rt=[];for(const ct of g){const ft=w2(ct,A.get(ct.key).overlayedDocument);ft!=null&&rt.push(new rr(ct.key,ft,bE(ft.value.mapValue),an.exists(!0)))}return _.mutationQueue.addMutationBatch(U,p,rt,g)})).next((J=>{x=J;const rt=J.applyToLocalDocumentSet(A,Z);return _.documentOverlayCache.saveOverlays(U,J.batchId,rt)}))})).then((()=>({batchId:x.batchId,changes:ME(A)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let p=d.Vu[d.currentUser.toKey()];p||(p=new ce(Pt)),p=p.insert(g,_),d.Vu[d.currentUser.toKey()]=p})(r,l.batchId,i),await Gl(r,l.changes),await Nh(r.remoteStore)}catch(l){const u=eg(l,"Failed to persist write");i.reject(u)}}async function dT(s,t){const i=wt(s);try{const r=await AR(i.localStore,t);t.targetChanges.forEach(((l,u)=>{const d=i.Au.get(u);d&&(Yt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Yt(d.hu,14607):l.removedDocuments.size>0&&(Yt(d.hu,42227),d.hu=!1))})),await Gl(i,r,t)}catch(r){await ao(r)}}function ov(s,t,i){const r=wt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((u,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=wt(d);_.onlineState=g;let p=!1;_.queries.forEach(((T,A)=>{for(const x of A.Sa)x.va(g)&&(p=!0)})),p&&sg(_)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function hI(s,t,i){const r=wt(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),u=l&&l.key;if(u){let d=new ce(yt.comparator);d=d.insert(u,We.newNoDocument(u,At.min()));const g=Ut().add(u),_=new Rh(At.min(),new Map,new ce(Pt),d,g);await dT(r,_),r.du=r.du.remove(u),r.Au.delete(t),og(r)}else await Em(r.localStore,t,!1).then((()=>Am(r,t,i))).catch(ao)}async function fI(s,t){const i=wt(s),r=t.batch.batchId;try{const l=await bR(i.localStore,t);gT(i,r,null),mT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Gl(i,l)}catch(l){await ao(l)}}async function dI(s,t,i){const r=wt(s);try{const l=await(function(d,g){const _=wt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let T;return _.mutationQueue.lookupMutationBatch(p,g).next((A=>(Yt(A!==null,37113),T=A.keys(),_.mutationQueue.removeMutationBatch(p,A)))).next((()=>_.mutationQueue.performConsistencyCheck(p))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(p,T,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,T))).next((()=>_.localDocuments.getDocuments(p,T)))}))})(r.localStore,t);gT(r,t,i),mT(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Gl(r,l)}catch(l){await ao(l)}}function mT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function gT(s,t,i){const r=wt(s);let l=r.Vu[r.currentUser.toKey()];if(l){const u=l.get(t);u&&(i?u.reject(i):u.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function Am(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||pT(s,r)}))}function pT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&($m(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),og(s))}function lv(s,t,i){for(const r of i)r instanceof cT?(s.Ru.addReference(r.key,t),mI(s,r)):r instanceof hT?(at(ag,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||pT(s,r.key)):vt(19791,{wu:r})}function mI(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(at(ag,"New document in limbo: "+i),s.Eu.add(r),og(s))}function og(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new yt(ne.fromString(t)),r=s.fu.next();s.Au.set(r,new iI(i)),s.du=s.du.insert(i,r),sT(s.remoteStore,new Qs(Ri(Eh(i.path)),r,"TargetPurposeLimboResolution",yh.ce))}}async function Gl(s,t,i){const r=wt(s),l=[],u=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,_)=>{d.push(r.pu(_,t,i).then((p=>{var T;if((p||i)&&r.isPrimaryClient){const A=p?!p.fromCache:(T=i==null?void 0:i.targetChanges.get(_.targetId))==null?void 0:T.current;r.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(p){l.push(p);const A=Km.As(_.targetId,p);u.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(_,p){const T=wt(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(p,(x=>$.forEach(x.Es,(U=>T.persistence.referenceDelegate.addReference(A,x.targetId,U))).next((()=>$.forEach(x.ds,(U=>T.persistence.referenceDelegate.removeReference(A,x.targetId,U)))))))))}catch(A){if(!oo(A))throw A;at(Xm,"Failed to update sequence numbers: "+A)}for(const A of p){const x=A.targetId;if(!A.fromCache){const U=T.Ms.get(x),W=U.snapshotVersion,Z=U.withLastLimboFreeSnapshotVersion(W);T.Ms=T.Ms.insert(x,Z)}}})(r.localStore,u))}async function gI(s,t){const i=wt(s);if(!i.currentUser.isEqual(t)){at(ag,"User change. New user:",t.toKey());const r=await tT(i.localStore,t);i.currentUser=t,(function(u,d){u.mu.forEach((g=>{g.forEach((_=>{_.reject(new it(Y.CANCELLED,d))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Gl(i,r.Ls)}}function pI(s,t){const i=wt(s),r=i.Au.get(t);if(r&&r.hu)return Ut().add(r.key);{let l=Ut();const u=i.Iu.get(t);if(!u)return l;for(const d of u){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function yT(s){const t=wt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=dT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=pI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hI.bind(null,t),t.Pu.H_=WR.bind(null,t.eventManager),t.Pu.yu=tI.bind(null,t.eventManager),t}function yI(s){const t=wt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=fI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dI.bind(null,t),t}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ih(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return TR(this.persistence,new _R,t.initialUser,this.serializer)}Cu(t){return new WE(Ym.mi,this.serializer)}Du(t){return new CR}async terminate(){var t,i;(t=this.gcScheduler)==null||t.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class _I extends ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Yt(this.persistence.referenceDelegate instanceof sh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new iR(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new WE((r=>sh.mi(r,i)),this.serializer)}}class Sm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ov(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=gI.bind(null,this.syncEngine),await $R(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new JR})()}createDatastore(t){const i=Ih(t.databaseInfo.databaseId),r=(function(u){return new MR(u)})(t.databaseInfo);return(function(u,d,g,_){return new UR(u,d,g,_)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,u,d,g){return new jR(r,l,u,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>ov(this.syncEngine,i,0)),(function(){return ev.v()?new ev:new NR})())}createSyncEngine(t,i){return(function(l,u,d,g,_,p,T){const A=new sI(l,u,d,g,_,p);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await(async function(l){const u=wt(l);at(Qr,"RemoteStore shutting down."),u.Ea.add(5),await Fl(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(i=this.eventManager)==null||i.terminate()}}Sm.provider={build:()=>new Sm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):is("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir="FirestoreClient";class vI{constructor(t,i,r,l,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=Je.UNAUTHENTICATED,this.clientId=Pm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{at(ir,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(at(ir,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=eg(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function $d(s,t){s.asyncQueue.verifyOperationInProgress(),at(ir,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await tT(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function uv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await EI(s);at(ir,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>iv(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>iv(t.remoteStore,l))),s._onlineComponents=t}async function EI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(ir,"Using user provided OfflineComponentProvider");try{await $d(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;$a("Error using user provided cache. Falling back to memory cache: "+i),await $d(s,new ah)}}else at(ir,"Using default OfflineComponentProvider"),await $d(s,new _I(void 0));return s._offlineComponents}async function _T(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(ir,"Using user provided OnlineComponentProvider"),await uv(s,s._uninitializedComponentsProvider._online)):(at(ir,"Using default OnlineComponentProvider"),await uv(s,new Sm))),s._onlineComponents}function TI(s){return _T(s).then((t=>t.syncEngine))}async function oh(s){const t=await _T(s),i=t.eventManager;return i.onListen=rI.bind(null,t.syncEngine),i.onUnlisten=lI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=aI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=uI.bind(null,t.syncEngine),i}function bI(s,t,i={}){const r=new es;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,g,_,p){const T=new lg({next:x=>{T.Nu(),d.enqueueAndForget((()=>ig(u,A)));const U=x.docs.has(g);!U&&x.fromCache?p.reject(new it(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&x.fromCache&&_&&_.source==="server"?p.reject(new it(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),A=new rg(Eh(g.path),T,{includeMetadataChanges:!0,qa:!0});return ng(u,A)})(await oh(s),s.asyncQueue,t,i,r))),r.promise}function AI(s,t,i={}){const r=new es;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,g,_,p){const T=new lg({next:x=>{T.Nu(),d.enqueueAndForget((()=>ig(u,A))),x.fromCache&&_.source==="server"?p.reject(new it(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),A=new rg(g,T,{includeMetadataChanges:!0,qa:!0});return ng(u,A)})(await oh(s),s.asyncQueue,t,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="firestore.googleapis.com",hv=!0;class fv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new it(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ET,this.ssl=hv}else this.host=t.host,this.ssl=t.ssl??hv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=JE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<eR)throw new it(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}jw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vT(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new it(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new it(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new it(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Nw;switch(r.type){case"firstParty":return new Mw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new it(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=cv.get(i);r&&(at("ComponentProvider","Removing Datastore"),cv.delete(i),r.terminate())})(this),Promise.resolve()}}function SI(s,t,i,r={}){var p;s=rn(s,xh);const l=io(t),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&(Xv(`https://${g}`),$v("Firestore",!0)),u.host!==ET&&u.host!==g&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...u,host:g,ssl:l,emulatorOptions:r};if(!Hr(_,d)&&(s._setSettings(_),r.mockUserToken)){let T,A;if(typeof r.mockUserToken=="string")T=r.mockUserToken,A=Je.MOCK_USER;else{T=nS(r.mockUserToken,(p=s._app)==null?void 0:p.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new it(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Je(x)}s._authCredentials=new xw(new cE(T,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ar(this.firestore,t,this._query)}}class de{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new de(this.firestore,t,this._key)}toJSON(){return{type:de._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Bl(i,de._jsonSchema))return new de(t,r||null,new yt(ne.fromString(i.referencePath)))}}de._jsonSchemaVersion="firestore/documentReference/1.0",de._jsonSchema={type:De("string",de._jsonSchemaVersion),referencePath:De("string")};class Zs extends ar{constructor(t,i,r){super(t,i,Eh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new de(this.firestore,null,new yt(t))}withConverter(t){return new Zs(this.firestore,t,this._path)}}function Wn(s,t,...i){if(s=ze(s),hE("collection","path",t),s instanceof xh){const r=ne.fromString(t,...i);return w0(r),new Zs(s,null,r)}{if(!(s instanceof de||s instanceof Zs))throw new it(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ne.fromString(t,...i));return w0(r),new Zs(s.firestore,null,r)}}function wn(s,t,...i){if(s=ze(s),arguments.length===1&&(t=Pm.newId()),hE("doc","path",t),s instanceof xh){const r=ne.fromString(t,...i);return S0(r),new de(s,null,new yt(r))}{if(!(s instanceof de||s instanceof Zs))throw new it(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ne.fromString(t,...i));return S0(r),new de(s.firestore,s instanceof Zs?s.converter:null,new yt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="AsyncQueue";class mv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nT(this,"async_queue_retry"),this._c=()=>{const r=Xd();r&&at(dv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Xd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Xd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new es;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!oo(t))throw t;at(dv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,is("INTERNAL UNHANDLED ERROR: ",gv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=tg.createAndSchedule(this,t,i,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&vt(47125,{Pc:gv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function gv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const u of r)if(u in l&&typeof l[u]=="function")return!0;return!1})(s,["next","error","complete"])}class Mi extends xh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new mv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new mv(t),this._firestoreClient=void 0,await t}}}function wI(s,t){const i=typeof s=="object"?s:tE(),r=typeof s=="string"?s:Jc,l=Vm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=tS("firestore");u&&SI(l,...u)}return l}function Ql(s){if(s._terminated)throw new it(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||RI(s),s._firestoreClient}function RI(s){var r,l,u;const t=s._freezeSettings(),i=(function(g,_,p,T){return new $w(g,_,p,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,vT(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)})(s._databaseId,((r=s._app)==null?void 0:r.options.appId)||"",s._persistenceKey,t);s._componentsProvider||(l=t.localCache)!=null&&l._offlineComponentProvider&&((u=t.localCache)!=null&&u._onlineComponentProvider)&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new vI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zn(Xe.fromBase64String(t))}catch(i){throw new it(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new zn(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Bl(t,zn._jsonSchema))return zn.fromBase64String(t.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:De("string",zn._jsonSchemaVersion),bytes:De("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new it(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new it(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new it(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(t){if(Bl(t,Ci._jsonSchema))return new Ci(t.latitude,t.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:De("string",Ci._jsonSchemaVersion),latitude:De("number"),longitude:De("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Bl(t,Ni._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ni(t.vectorValues);throw new it(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:De("string",Ni._jsonSchemaVersion),vectorValues:De("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=/^__.*__$/;class CI{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new rr(t,this.data,this.fieldMask,i,this.fieldTransforms):new ql(t,this.data,i,this.fieldTransforms)}}class TT{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new rr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function bT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:s})}}class cg{constructor(t,i,r,l,u,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new cg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var l;const i=(l=this.path)==null?void 0:l.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){var l;const i=(l=this.path)==null?void 0:l.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return lh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(bT(this.Ac)&&II.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class NI{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Ih(t)}Cc(t,i,r,l=!1){return new cg({Ac:t,methodName:i,Dc:r,path:Ke.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kl(s){const t=s._freezeSettings(),i=Ih(s._databaseId);return new NI(s._databaseId,!!t.ignoreUndefinedProperties,i)}function hg(s,t,i,r,l,u={}){const d=s.Cc(u.merge||u.mergeFields?2:0,t,i,l);fg("Data must be an object, but it was:",d,r);const g=wT(r,d);let _,p;if(u.merge)_=new Rn(d.fieldMask),p=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const A of u.mergeFields){const x=wm(t,A,i);if(!d.contains(x))throw new it(Y.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);IT(T,x)||T.push(x)}_=new Rn(T),p=d.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,p=d.fieldTransforms;return new CI(new gn(g),_,p)}class Dh extends ug{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Dh}}function AT(s,t,i,r){const l=s.Cc(1,t,i);fg("Data must be an object, but it was:",l,r);const u=[],d=gn.empty();sr(r,((_,p)=>{const T=dg(t,_,i);p=ze(p);const A=l.yc(T);if(p instanceof Dh)u.push(T);else{const x=Xl(p,A);x!=null&&(u.push(T),d.set(T,x))}}));const g=new Rn(u);return new TT(d,g,l.fieldTransforms)}function ST(s,t,i,r,l,u){const d=s.Cc(1,t,i),g=[wm(t,r,i)],_=[l];if(u.length%2!=0)throw new it(Y.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)g.push(wm(t,u[x])),_.push(u[x+1]);const p=[],T=gn.empty();for(let x=g.length-1;x>=0;--x)if(!IT(p,g[x])){const U=g[x];let W=_[x];W=ze(W);const Z=d.yc(U);if(W instanceof Dh)p.push(U);else{const J=Xl(W,Z);J!=null&&(p.push(U),T.set(U,J))}}const A=new Rn(p);return new TT(T,A,d.fieldTransforms)}function xI(s,t,i,r=!1){return Xl(i,s.Cc(r?4:3,t))}function Xl(s,t){if(RT(s=ze(s)))return fg("Unsupported field value:",t,s),wT(s,t);if(s instanceof ug)return(function(r,l){if(!bT(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const u=[];let d=0;for(const g of r){let _=Xl(g,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),u.push(_),d++}return{arrayValue:{values:u}}})(s,t)}return(function(r,l){if((r=ze(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return v2(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=re.fromDate(r);return{timestampValue:ih(l.serializer,u)}}if(r instanceof re){const u=new re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ih(l.serializer,u)}}if(r instanceof Ci)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zn)return{bytesValue:GE(l.serializer,r._byteString)};if(r instanceof de){const u=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Gm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Ni)return(function(d,g){return{mapValue:{fields:{[EE]:{stringValue:TE},[Wc]:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw g.Sc("VectorValues must only contain numeric values.");return qm(g.serializer,p)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${ph(r)}`)})(s,t)}function wT(s,t){const i={};return mE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):sr(s,((r,l)=>{const u=Xl(l,t.mc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function RT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof re||s instanceof Ci||s instanceof zn||s instanceof de||s instanceof ug||s instanceof Ni)}function fg(s,t,i){if(!RT(i)||!fE(i)){const r=ph(i);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function wm(s,t,i){if((t=ze(t))instanceof Yl)return t._internalPath;if(typeof t=="string")return dg(s,t);throw lh("Field path arguments must be of type string or ",s,!1,void 0,i)}const DI=new RegExp("[~\\*/\\[\\]]");function dg(s,t,i){if(t.search(DI)>=0)throw lh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Yl(...t.split("."))._internalPath}catch{throw lh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function lh(s,t,i,r,l){const u=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(u||d)&&(_+=" (found",u&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new it(Y.INVALID_ARGUMENT,g+s+_)}function IT(s,t){return s.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(t,i,r,l,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new de(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new OI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Oh("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class OI extends CT{data(){return super.data()}}function Oh(s,t){return typeof t=="string"?dg(s,t):t instanceof Yl?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new it(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mg{}class xT extends mg{}function qc(s,t,...i){let r=[];t instanceof mg&&r.push(t),r=r.concat(i),(function(u){const d=u.filter((_=>_ instanceof gg)).length,g=u.filter((_=>_ instanceof Mh)).length;if(d>1||d>0&&g>0)throw new it(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Mh extends xT{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new Mh(t,i,r)}_apply(t){const i=this._parse(t);return DT(t._query,i),new ar(t.firestore,t.converter,mm(t._query,i))}_parse(t){const i=Kl(t.firestore);return(function(u,d,g,_,p,T,A){let x;if(p.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new it(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){vv(A,T);const W=[];for(const Z of A)W.push(_v(_,u,Z));x={arrayValue:{values:W}}}else x=_v(_,u,A)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||vv(A,T),x=xI(g,d,A,T==="in"||T==="not-in");return xe.create(p,T,x)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function yv(s,t,i){const r=t,l=Oh("where",s);return Mh._create(l,r,i)}class gg extends mg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new gg(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:ei.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,u){let d=l;const g=u.getFlattenedFilters();for(const _ of g)DT(d,_),d=mm(d,_)})(t._query,i),new ar(t.firestore,t.converter,mm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pg extends xT{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new pg(t,i)}_apply(t){const i=(function(l,u,d){if(l.startAt!==null)throw new it(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new it(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new kl(u,d)})(t._query,this._field,this._direction);return new ar(t.firestore,t.converter,(function(l,u){const d=l.explicitOrderBy.concat([u]);return new lo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function Zd(s,t="asc"){const i=t,r=Oh("orderBy",s);return pg._create(r,i)}function _v(s,t,i){if(typeof(i=ze(i))=="string"){if(i==="")throw new it(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NE(t)&&i.indexOf("/")!==-1)throw new it(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(ne.fromString(i));if(!yt.isDocumentKey(r))throw new it(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return M0(s,new yt(r))}if(i instanceof de)return M0(s,i._key);throw new it(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ph(i)}.`)}function vv(s,t){if(!Array.isArray(s)||s.length===0)throw new it(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function DT(s,t){const i=(function(l,u){for(const d of l)for(const g of d.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new it(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new it(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class MI{convertValue(t,i="none"){switch(er(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(tr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return sr(t,((l,u)=>{r[l]=this.convertValue(u,i)})),r}convertVectorValue(t){var r,l,u;const i=(u=(l=(r=t.fields)==null?void 0:r[Wc].arrayValue)==null?void 0:l.values)==null?void 0:u.map((d=>ve(d.doubleValue)));return new Ni(i)}convertGeoPoint(t){return new Ci(ve(t.latitude),ve(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=vh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Ol(t));default:return null}}convertTimestamp(t){const i=Ws(t);return new re(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ne.fromString(t);Yt(ZE(r),9688,{name:t});const l=new Ml(r.get(1),r.get(3)),u=new yt(r.popFirst(5));return l.isEqual(i)||is(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(s,t,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,r}class Tl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class zr extends CT{constructor(t,i,r,l,u,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(Oh("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=zr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}zr._jsonSchemaVersion="firestore/documentSnapshot/1.0",zr._jsonSchema={type:De("string",zr._jsonSchemaVersion),bundleSource:De("string","DocumentSnapshot"),bundleName:De("string"),bundle:De("string")};class Hc extends zr{data(t={}){return super.data(t)}}class Br{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Tl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Hc(this._firestore,this._userDataWriter,r.key,r,new Tl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new Hc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Tl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const _=new Hc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Tl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let p=-1,T=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:VI(g.type),doc:_,oldIndex:p,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Br._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Pm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function VI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(s){s=rn(s,de);const t=rn(s.firestore,Mi);return bI(Ql(t),s._key).then((i=>OT(t,s,i)))}Br._jsonSchemaVersion="firestore/querySnapshot/1.0",Br._jsonSchema={type:De("string",Br._jsonSchemaVersion),bundleSource:De("string","QuerySnapshot"),bundleName:De("string"),bundle:De("string")};class _g extends MI{constructor(t){super(),this.firestore=t}convertBytes(t){return new zn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new de(this.firestore,null,i)}}function Rm(s){s=rn(s,ar);const t=rn(s.firestore,Mi),i=Ql(t),r=new _g(t);return NT(s._query),AI(i,s._query).then((l=>new Br(t,r,s,l)))}function Im(s,t,i){s=rn(s,de);const r=rn(s.firestore,Mi),l=yg(s.converter,t,i);return $l(r,[hg(Kl(r),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,an.none())])}function Vc(s,t,i,...r){s=rn(s,de);const l=rn(s.firestore,Mi),u=Kl(l);let d;return d=typeof(t=ze(t))=="string"||t instanceof Yl?ST(u,"updateDoc",s._key,t,i,r):AT(u,"updateDoc",s._key,t),$l(l,[d.toMutation(s._key,an.exists(!0))])}function Tv(s){return $l(rn(s.firestore,Mi),[new wh(s._key,an.none())])}function Fc(s,t){const i=rn(s.firestore,Mi),r=wn(s),l=yg(s.converter,t);return $l(i,[hg(Kl(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,an.exists(!1))]).then((()=>r))}function kc(s,...t){var _,p,T;s=ze(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||pv(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(pv(t[r])){const A=t[r];t[r]=(_=A.next)==null?void 0:_.bind(A),t[r+1]=(p=A.error)==null?void 0:p.bind(A),t[r+2]=(T=A.complete)==null?void 0:T.bind(A)}let u,d,g;if(s instanceof de)d=rn(s.firestore,Mi),g=Eh(s._key.path),u={next:A=>{t[r]&&t[r](OT(d,s,A))},error:t[r+1],complete:t[r+2]};else{const A=rn(s,ar);d=rn(A.firestore,Mi),g=A._query;const x=new _g(d);u={next:U=>{t[r]&&t[r](new Br(d,x,A,U))},error:t[r+1],complete:t[r+2]},NT(s._query)}return(function(x,U,W,Z){const J=new lg(Z),rt=new rg(U,J,W);return x.asyncQueue.enqueueAndForget((async()=>ng(await oh(x),rt))),()=>{J.Nu(),x.asyncQueue.enqueueAndForget((async()=>ig(await oh(x),rt)))}})(Ql(d),g,l,u)}function $l(s,t){return(function(r,l){const u=new es;return r.asyncQueue.enqueueAndForget((async()=>cI(await TI(r),l,u))),u.promise})(Ql(s),t)}function OT(s,t,i){const r=i.docs.get(t._key),l=new _g(s);return new zr(s,l,t._key,r,new Tl(i.hasPendingWrites,i.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Kl(t)}set(t,i,r){this._verifyNotCommitted();const l=Jd(t,this._firestore),u=yg(l.converter,i,r),d=hg(this._dataReader,"WriteBatch.set",l._key,u,l.converter!==null,r);return this._mutations.push(d.toMutation(l._key,an.none())),this}update(t,i,r,...l){this._verifyNotCommitted();const u=Jd(t,this._firestore);let d;return d=typeof(i=ze(i))=="string"||i instanceof Yl?ST(this._dataReader,"WriteBatch.update",u._key,i,r,l):AT(this._dataReader,"WriteBatch.update",u._key,i),this._mutations.push(d.toMutation(u._key,an.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=Jd(t,this._firestore);return this._mutations=this._mutations.concat(new wh(i._key,an.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new it(Y.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Jd(s,t){if((s=ze(s)).firestore!==t)throw new it(Y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(s){return Ql(s=rn(s,Mi)),new kI(s,(t=>$l(s,t)))}(function(t,i=!0){(function(l){ro=l})(so),Xa(new Fr("firestore",((r,{instanceIdentifier:l,options:u})=>{const d=r.getProvider("app").getImmediate(),g=new Mi(new Dw(r.getProvider("auth-internal")),new Vw(d,r.getProvider("app-check-internal")),(function(p,T){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new it(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(p.options.projectId,T)})(d,l),d);return u={useFetchStreams:i,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Xs(E0,T0,t),Xs(E0,T0,"esm2020")})();var PI="firebase",UI="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xs(PI,UI,"app");function VT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LI=VT,kT=new jl("auth","Firebase",VT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new Om("@firebase/auth");function jI(s,...t){uh.logLevel<=kt.WARN&&uh.warn(`Auth (${so}): ${s}`,...t)}function Gc(s,...t){uh.logLevel<=kt.ERROR&&uh.error(`Auth (${so}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(s,...t){throw vg(s,...t)}function xi(s,...t){return vg(s,...t)}function PT(s,t,i){const r={...LI(),[t]:i};return new jl("auth","Firebase",r).create(t,{appName:s.name})}function qr(s){return PT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vg(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return kT.create(s,...t)}function Tt(s,t,...i){if(!s)throw vg(t,...i)}function Wi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Gc(t),new Error(t)}function as(s,t){s||Wi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function zI(){return bv()==="http:"||bv()==="https:"}function bv(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zI()||lS()||"connection"in navigator)?navigator.onLine:!0}function qI(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(t,i){this.shortDelay=t,this.longDelay=i,as(i>t,"Short delay should be less than long delay!"),this.isMobile=rS()||uS()}get(){return BI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(s,t){as(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GI=new Zl(3e4,6e4);function Tg(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function co(s,t,i,r,l={}){return LT(s,l,async()=>{let u={},d={};r&&(t==="GET"?d=r:u={body:JSON.stringify(r)});const g=zl({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const p={method:t,headers:_,...u};return oS()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&io(s.emulatorConfig.host)&&(p.credentials="include"),UT.fetch()(await jT(s,s.config.apiHost,i,g),p)})}async function LT(s,t,i){s._canInitEmulator=!1;const r={...HI,...t};try{const l=new YI(s),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Pc(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[_,p]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Pc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Pc(s,"user-disabled",d);const T=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw PT(s,T,p);rs(s,T)}}catch(l){if(l instanceof os)throw l;rs(s,"network-request-failed",{message:String(l)})}}async function QI(s,t,i,r,l={}){const u=await co(s,t,i,r,l);return"mfaPendingCredential"in u&&rs(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function jT(s,t,i,r){const l=`${t}${i}?${r}`,u=s,d=u.config.emulator?Eg(s.config,l):`${s.config.apiScheme}://${l}`;return FI.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}class YI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(xi(this.auth,"network-request-failed")),GI.get())})}}function Pc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=xi(s,t,r);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(s,t){return co(s,"POST","/v1/accounts:delete",t)}async function ch(s,t){return co(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function XI(s,t=!1){const i=ze(s),r=await i.getIdToken(t),l=bg(r);Tt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:l,token:r,authTime:Cl(Wd(l.auth_time)),issuedAtTime:Cl(Wd(l.iat)),expirationTime:Cl(Wd(l.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Wd(s){return Number(s)*1e3}function bg(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Gv(i);return l?JSON.parse(l):(Gc("Failed to decode base64 JWT payload"),null)}catch(l){return Gc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Av(s){const t=bg(s);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof os&&$I(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function $I({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cl(this.lastLoginAt),this.creationTime=Cl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(s){var A;const t=s.auth,i=await s.getIdToken(),r=await Ll(s,ch(t,{idToken:i}));Tt(r==null?void 0:r.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=(A=l.providerUserInfo)!=null&&A.length?zT(l.providerUserInfo):[],d=WI(s.providerData,u),g=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!(d!=null&&d.length),p=g?_:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Nm(l.createdAt,l.lastLoginAt),isAnonymous:p};Object.assign(s,T)}async function JI(s){const t=ze(s);await hh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function WI(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function zT(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tC(s,t){const i=await LT(s,{},async()=>{const r=zl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=await jT(s,l,"/v1/token",`key=${u}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:r};return s.emulatorConfig&&io(s.emulatorConfig.host)&&(_.credentials="include"),UT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function eC(s,t){return co(s,"POST","/v2/accounts:revokeToken",Tg(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Av(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const i=Av(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:u}=await tC(t,i);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:u}=i,d=new Qa;return r&&(Tt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(Tt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),u&&(Tt(typeof u=="number","internal-error",{appName:t}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(s,t){Tt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ti{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new ZI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Nm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ll(this,this.stsTokenManager.getToken(this.auth,t));return Tt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return XI(this,t)}reload(){return JI(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ti({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await hh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wi(this.auth.app))return Promise.reject(qr(this.auth));const t=await this.getIdToken();return await Ll(this,KI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,u=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,p=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:A,emailVerified:x,isAnonymous:U,providerData:W,stsTokenManager:Z}=i;Tt(A&&Z,t,"internal-error");const J=Qa.fromJSON(this.name,Z);Tt(typeof A=="string",t,"internal-error"),Bs(r,t.name),Bs(l,t.name),Tt(typeof x=="boolean",t,"internal-error"),Tt(typeof U=="boolean",t,"internal-error"),Bs(u,t.name),Bs(d,t.name),Bs(g,t.name),Bs(_,t.name),Bs(p,t.name),Bs(T,t.name);const rt=new ti({uid:A,auth:t,email:l,emailVerified:x,displayName:r,isAnonymous:U,photoURL:d,phoneNumber:u,tenantId:g,stsTokenManager:J,createdAt:p,lastLoginAt:T});return W&&Array.isArray(W)&&(rt.providerData=W.map(ct=>({...ct}))),_&&(rt._redirectEventId=_),rt}static async _fromIdTokenResponse(t,i,r=!1){const l=new Qa;l.updateFromServerResponse(i);const u=new ti({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await hh(u),u}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];Tt(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?zT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),g=new Qa;g.updateFromIdToken(r);const _=new ti({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),p={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Nm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(_,p),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=new Map;function ts(s){as(s instanceof Function,"Expected a class definition");let t=Sv.get(s);return t?(as(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Sv.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}BT.type="NONE";const wv=BT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(s,t,i){return`firebase:${s}:${t}:${i}`}class Ya{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=Qc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Qc("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await ch(this.auth,{idToken:t}).catch(()=>{});return i?ti._fromGetAccountInfoResponse(this.auth,i,t):null}return ti._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Ya(ts(wv),t,r);const l=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=l[0]||ts(wv);const d=Qc(r,t.config.apiKey,t.name);let g=null;for(const p of i)try{const T=await p._get(d);if(T){let A;if(typeof T=="string"){const x=await ch(t,{idToken:T}).catch(()=>{});if(!x)break;A=await ti._fromGetAccountInfoResponse(t,x,T)}else A=ti._fromJSON(t,T);p!==u&&(g=A),u=p;break}}catch{}const _=l.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!_.length?new Ya(u,t,r):(u=_[0],g&&await u._set(d,g.toJSON()),await Promise.all(i.map(async p=>{if(p!==u)try{await p._remove(d)}catch{}})),new Ya(u,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(GT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(qT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(YT(t))return"Blackberry";if(KT(t))return"Webos";if(HT(t))return"Safari";if((t.includes("chrome/")||FT(t))&&!t.includes("edge/"))return"Chrome";if(QT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function qT(s=tn()){return/firefox\//i.test(s)}function HT(s=tn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function FT(s=tn()){return/crios\//i.test(s)}function GT(s=tn()){return/iemobile/i.test(s)}function QT(s=tn()){return/android/i.test(s)}function YT(s=tn()){return/blackberry/i.test(s)}function KT(s=tn()){return/webos/i.test(s)}function Ag(s=tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function nC(s=tn()){var t;return Ag(s)&&!!((t=window.navigator)!=null&&t.standalone)}function iC(){return cS()&&document.documentMode===10}function XT(s=tn()){return Ag(s)||QT(s)||KT(s)||YT(s)||/windows phone/i.test(s)||GT(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(s,t=[]){let i;switch(s){case"Browser":i=Rv(tn());break;case"Worker":i=`${Rv(tn())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${so}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=u=>new Promise((d,g)=>{try{const _=t(u);d(_)}catch(_){g(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(s,t={}){return co(s,"GET","/v2/passwordPolicy",Tg(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=6;class oC{constructor(t){var r;const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??aC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Iv(this),this.idTokenSubscription=new Iv(this),this.beforeStateQueue=new sC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ts(i)),this._initializationPromise=this.queue(async()=>{var r,l,u;if(!this._deleted&&(this.persistenceManager=await Ya.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await ch(this,{idToken:t}),r=await ti._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var u;if(wi(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(u=this.redirectUser)==null?void 0:u._redirectEventId,g=r==null?void 0:r._redirectEventId,_=await this.tryRedirectSignIn(t);(!d||d===g)&&(_!=null&&_.user)&&(r=_.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(d){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await hh(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=qI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(wi(this.app))return Promise.reject(qr(this));const i=t?ze(t):null;return i&&Tt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return wi(this.app)?Promise.reject(qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return wi(this.app)?Promise.reject(qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await rC(this),i=new oC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new jl("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await eC(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ts(t)||this._popupRedirectResolver;Tt(i,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[ts(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,r;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)==null?void 0:i._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((i=this.currentUser)==null?void 0:i.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=$T(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var i;if(wi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getToken());return t!=null&&t.error&&jI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Sg(s){return ze(s)}class Iv{constructor(t){this.auth=t,this.observer=null,this.addObserver=_S(i=>this.observer=i)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uC(s){wg=s}function cC(s){return wg.loadJS(s)}function hC(){return wg.gapiScript}function fC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(s,t){const i=Vm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(Hr(u,t??{}))return l;rs(l,"already-initialized")}return i.initialize({options:t})}function mC(s,t){const i=(t==null?void 0:t.persistence)||[],r=(Array.isArray(i)?i:[i]).map(ts);t!=null&&t.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function gC(s,t,i){const r=Sg(s);Tt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,u=ZT(t),{host:d,port:g}=pC(t),_=g===null?"":`:${g}`,p={url:`${u}//${d}${_}/`},T=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Tt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Tt(Hr(p,r.config.emulator)&&Hr(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,io(d)?(Xv(`${u}//${d}${_}`),$v("Auth",!0)):yC()}function ZT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function pC(s){const t=ZT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:Cv(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:Cv(d)}}}function Cv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function yC(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Wi("not implemented")}_getIdTokenResponse(t){return Wi("not implemented")}_linkToIdToken(t,i){return Wi("not implemented")}_getReauthenticationResolver(t){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(s,t){return QI(s,"POST","/v1/accounts:signInWithIdp",Tg(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="http://localhost";class Yr extends JT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Yr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):rs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...u}=i;if(!r||!l)return null;const d=new Yr(r,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ka(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Ka(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ka(t,i)}buildRequest(){const t={requestUri:_C,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=zl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends WT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Jl{constructor(){super("facebook.com")}static credential(t){return Yr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qs.credential(t.oauthAccessToken)}catch{return null}}}qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Yr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return Hs.credential(i,r)}catch{return null}}}Hs.GOOGLE_SIGN_IN_METHOD="google.com";Hs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Jl{constructor(){super("github.com")}static credential(t){return Yr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fs.credential(t.oauthAccessToken)}catch{return null}}}Fs.GITHUB_SIGN_IN_METHOD="github.com";Fs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends Jl{constructor(){super("twitter.com")}static credential(t,i){return Yr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Gs.credential(i,r)}catch{return null}}}Gs.TWITTER_SIGN_IN_METHOD="twitter.com";Gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const u=await ti._fromIdTokenResponse(t,r,l),d=Nv(r);return new no({user:u,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=Nv(r);return new no({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function Nv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends os{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new fh(t,i,r,l)}}function t1(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(s,u,t,r):u})}async function vC(s,t,i=!1){const r=await Ll(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return no._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(s,t,i=!1){const{auth:r}=s;if(wi(r.app))return Promise.reject(qr(r));const l="reauthenticate";try{const u=await Ll(s,t1(r,l,t,s),i);Tt(u.idToken,r,"internal-error");const d=bg(u.idToken);Tt(d,r,"internal-error");const{sub:g}=d;return Tt(s.uid===g,r,"user-mismatch"),no._forOperation(s,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&rs(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TC(s,t,i=!1){if(wi(s.app))return Promise.reject(qr(s));const r="signIn",l=await t1(s,r,t),u=await no._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(u.user),u}function bC(s,t,i,r){return ze(s).onIdTokenChanged(t,i,r)}function AC(s,t,i){return ze(s).beforeAuthStateChanged(t,i)}const dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=1e3,wC=10;class n1 extends e1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);iC()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,wC):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},SC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}n1.type="LOCAL";const RC=n1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1 extends e1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}i1.type="SESSION";const s1=i1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new Vh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:u}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async p=>p(i.origin,u)),_=await IC(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((g,_)=>{const p=Rg("",20);l.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(A){const x=A;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(x.data.response);break;default:clearTimeout(T),clearTimeout(u),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:p,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(){return window}function NC(s){Di().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function xC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DC(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function OC(){return r1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="firebaseLocalStorageDb",MC=1,mh="firebaseLocalStorage",o1="fbase_key";class Wl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function kh(s,t){return s.transaction([mh],t?"readwrite":"readonly").objectStore(mh)}function VC(){const s=indexedDB.deleteDatabase(a1);return new Wl(s).toPromise()}function xm(){const s=indexedDB.open(a1,MC);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(mh,{keyPath:o1})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(mh)?t(r):(r.close(),await VC(),t(await xm()))})})}async function xv(s,t,i){const r=kh(s,!0).put({[o1]:t,value:i});return new Wl(r).toPromise()}async function kC(s,t){const i=kh(s,!1).get(t),r=await new Wl(i).toPromise();return r===void 0?null:r.value}function Dv(s,t){const i=kh(s,!0).delete(t);return new Wl(i).toPromise()}const PC=800,UC=3;class l1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>UC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return r1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vh._getInstance(OC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var i,r;if(this.activeServiceWorker=await xC(),!this.activeServiceWorker)return;this.sender=new CC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(i=t[0])!=null&&i.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||DC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await xm();return await xv(t,dh,"1"),await Dv(t,dh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>xv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>kC(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Dv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const u=kh(l,!1).getAll();return new Wl(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:u}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}l1.type="LOCAL";const LC=l1;new Zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(s,t){return t?ts(t):(Tt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig extends JT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ka(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ka(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ka(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function zC(s){return TC(s.auth,new Ig(s),s.bypassAuthState)}function BC(s){const{auth:t,user:i}=s;return Tt(i,t,"internal-error"),EC(i,new Ig(s),s.bypassAuthState)}async function qC(s){const{auth:t,user:i}=s;return Tt(i,t,"internal-error"),vC(i,new Ig(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(t,i,r,l,u=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:u,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return zC;case"linkViaPopup":case"linkViaRedirect":return qC;case"reauthViaPopup":case"reauthViaRedirect":return BC;default:rs(this.auth,"internal-error")}}resolve(t){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=new Zl(2e3,1e4);class Fa extends u1{constructor(t,i,r,l,u){super(t,i,l,u),this.provider=r,this.authWindow=null,this.pollId=null,Fa.currentPopupAction&&Fa.currentPopupAction.cancel(),Fa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){as(this.filter.length===1,"Popup operations only handle one event");const t=Rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fa.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,r;if((r=(i=this.authWindow)==null?void 0:i.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,HC.get())};t()}}Fa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="pendingRedirect",Yc=new Map;class GC extends u1{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Yc.get(this.auth._key());if(!t){try{const r=await QC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Yc.set(this.auth._key(),t)}return this.bypassAuthState||Yc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QC(s,t){const i=XC(t),r=KC(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function YC(s,t){Yc.set(s._key(),t)}function KC(s){return ts(s._redirectPersistence)}function XC(s){return Qc(FC,s.config.apiKey,s.name)}async function $C(s,t,i=!1){if(wi(s.app))return Promise.reject(qr(s));const r=Sg(s),l=jC(r,t),d=await new GC(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=600*1e3;class JC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!WC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var r;if(t.error&&!c1(t)){const l=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";i.onError(xi(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=ZC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ov(t))}saveEventToCache(t){this.cachedEventUids.add(Ov(t)),this.lastProcessedEventTime=Date.now()}}function Ov(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function c1({type:s,error:t}){return s==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function WC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return c1(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(s,t={}){return co(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nN=/^https?/;async function iN(s){if(s.config.emulator)return;const{authorizedDomains:t}=await tN(s);for(const i of t)try{if(sN(i))return}catch{}rs(s,"unauthorized-domain")}function sN(s){const t=Cm(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!nN.test(i))return!1;if(eN.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=new Zl(3e4,6e4);function Mv(){const s=Di().___jsl;if(s!=null&&s.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function aN(s){return new Promise((t,i)=>{var l,u,d;function r(){Mv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Mv(),i(xi(s,"network-request-failed"))},timeout:rN.get()})}if((u=(l=Di().gapi)==null?void 0:l.iframes)!=null&&u.Iframe)t(gapi.iframes.getContext());else if((d=Di().gapi)!=null&&d.load)r();else{const g=fC("iframefcb");return Di()[g]=()=>{gapi.load?r():i(xi(s,"network-request-failed"))},cC(`${hC()}?onload=${g}`).catch(_=>i(_))}}).catch(t=>{throw Kc=null,t})}let Kc=null;function oN(s){return Kc=Kc||aN(s),Kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new Zl(5e3,15e3),uN="__/auth/iframe",cN="emulator/auth/iframe",hN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dN(s){const t=s.config;Tt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Eg(t,cN):`https://${s.config.authDomain}/${uN}`,r={apiKey:t.apiKey,appName:s.name,v:so},l=fN.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${zl(r).slice(1)}`}async function mN(s){const t=await oN(s),i=Di().gapi;return Tt(i,s,"internal-error"),t.open({where:document.body,url:dN(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hN,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const d=xi(s,"network-request-failed"),g=Di().setTimeout(()=>{u(d)},lN.get());function _(){Di().clearTimeout(g),l(r)}r.ping(_).then(_,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pN=500,yN=600,_N="_blank",vN="http://localhost";class Vv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EN(s,t,i,r=pN,l=yN){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const _={...gN,width:r.toString(),height:l.toString(),top:u,left:d},p=tn().toLowerCase();i&&(g=FT(p)?_N:i),qT(p)&&(t=t||vN,_.scrollbars="yes");const T=Object.entries(_).reduce((x,[U,W])=>`${x}${U}=${W},`,"");if(nC(p)&&g!=="_self")return TN(t||"",g),new Vv(null);const A=window.open(t||"",g,T);Tt(A,s,"popup-blocked");try{A.focus()}catch{}return new Vv(A)}function TN(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="__/auth/handler",AN="emulator/auth/handler",SN=encodeURIComponent("fac");async function kv(s,t,i,r,l,u){Tt(s.config.authDomain,s,"auth-domain-config-required"),Tt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:so,eventId:l};if(t instanceof WT){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",yS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,A]of Object.entries({}))d[T]=A}if(t instanceof Jl){const T=t.getScopes().filter(A=>A!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const _=await s._getAppCheckToken(),p=_?`#${SN}=${encodeURIComponent(_)}`:"";return`${wN(s)}?${zl(g).slice(1)}${p}`}function wN({config:s}){return s.emulator?Eg(s,AN):`https://${s.authDomain}/${bN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="webStorageSupport";class RN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=s1,this._completeRedirectFn=$C,this._overrideRedirectResult=YC}async _openPopup(t,i,r,l){var d;as((d=this.eventManagers[t._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const u=await kv(t,i,r,Cm(),l);return EN(t,u,Rg())}async _openRedirect(t,i,r,l){await this._originValidation(t);const u=await kv(t,i,r,Cm(),l);return NC(u),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(as(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await mN(t),r=new JC(t);return i.register("authEvent",l=>(Tt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(tm,{type:tm},l=>{var d;const u=(d=l==null?void 0:l[0])==null?void 0:d[tm];u!==void 0&&i(!!u),rs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=iN(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return XT()||HT()||Ag()}}const IN=RN;var Pv="@firebase/auth",Uv="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xN(s){Xa(new Fr("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;Tt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$T(s)},p=new lC(r,l,u,_);return mC(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Xa(new Fr("auth-internal",t=>{const i=Sg(t.getProvider("auth").getImmediate());return(r=>new CN(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xs(Pv,Uv,NN(s)),Xs(Pv,Uv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=300,ON=Kv("authIdTokenMaxAge")||DN;let Lv=null;const MN=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>ON)return;const l=i==null?void 0:i.token;Lv!==l&&(Lv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function VN(s=tE()){const t=Vm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=dC(s,{popupRedirectResolver:IN,persistence:[LC,RC,s1]}),r=Kv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=MN(u.toString());AC(i,d,()=>d(i.currentUser)),bC(i,g=>d(g))}}const l=Qv("auth");return l&&gC(i,`http://${l}`),i}function kN(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}uC({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const u=xi("internal-error");u.customData=l,i(u)},r.type="text/javascript",r.charset="UTF-8",kN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xN("Browser");const PN={apiKey:"AIzaSyDgBhuDaAeEdRK_JRSvtINSrRoRF1DX7MM",authDomain:"farm-alg.firebaseapp.com",projectId:"farm-alg",storageBucket:"farm-alg.firebasestorage.app",messagingSenderId:"1031050662811",appId:"1:1031050662811:web:4b25b99e5e25f99fa9073e"},h1=Wv(PN),ue=wI(h1);VN(h1);const f1=mt.createContext(void 0),UN=({children:s})=>{const[t,i]=mt.useState(null),[r,l]=mt.useState(!0);mt.useEffect(()=>{try{const g=sessionStorage.getItem("userProfile");g&&i(JSON.parse(g))}catch(g){console.error("Failed to parse user from sessionStorage",g),sessionStorage.removeItem("userProfile")}finally{l(!1)}},[]);const u=async(g,_)=>{l(!0);try{const p=Wn(ue,"users"),T=qc(p,yv("username","==",g),yv("password","==",_)),A=await Rm(T);if(A.empty)throw new Error("   .");const x=A.docs[0],U={id:x.id,...x.data()};i(U),sessionStorage.setItem("userProfile",JSON.stringify(U))}finally{l(!1)}},d=()=>{i(null),sessionStorage.removeItem("userProfile")};return mt.createElement(f1.Provider,{value:{user:t,login:u,logout:d,loading:r}},s)},Cg=()=>{const s=mt.useContext(f1);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s},em=10,LN=s=>{if(!s||!/^\d{4}-\d{2}-\d{2}$/.test(s))return s;const[t,i,r]=s.split("-");return`${r}.${i}.${t}`},jN=({allPlans:s,updateActualPrinters:t,updatePlanStatus:i})=>{const[r,l]=mt.useState(null),[u,d]=mt.useState(1),{user:g}=Cg(),_=Math.ceil(s.length/em),p=s.slice((u-1)*em,u*em);mt.useEffect(()=>{u>_&&_>0?d(_):u<1&&s.length>0&&d(1)},[u,_,s.length]);const T=Z=>{l(r===Z?null:Z)};if(!s||s.length===0)return w.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-400",children:[w.jsx(Bv,{className:"w-24 h-24 mb-4 text-gray-600"}),w.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"  "}),w.jsx("p",{children:"    ,   ' ."})]});const A=Z=>Z===1?"":Z>1&&Z<5?"":"",x=(Z,J,rt,ct)=>{const ft=parseInt(ct,10);t(Z,J,rt,isNaN(ft)?0:ft)},U=Z=>{switch(Z){case"completed":return w.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-green-500/20 text-green-300",children:""});case"partially_completed":return w.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-yellow-500/20 text-yellow-300",children:""});case"cancelled":return w.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-red-500/20 text-red-300",children:""});case"pending":default:return w.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-gray-500/20 text-gray-300",children:" "})}},W=()=>_<=1?null:w.jsxs("div",{className:"flex justify-center items-center gap-4 mt-8",children:[w.jsxs("button",{onClick:()=>d(Z=>Z-1),disabled:u===1,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-gray-700 rounded-md hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[w.jsx(hA,{size:16}),""]}),w.jsxs("span",{className:"text-gray-400",children:[" ",u,"  ",_]}),w.jsxs("button",{onClick:()=>d(Z=>Z+1),disabled:u===_,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-gray-700 rounded-md hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["",w.jsx(dA,{size:16})]})]});return w.jsxs("div",{className:"max-w-7xl mx-auto",children:[w.jsx("div",{className:"mb-6",children:w.jsx("h2",{className:"text-3xl font-bold text-white",children:" "})}),w.jsx("div",{className:"space-y-4",children:p.map(Z=>{const{id:J,plan:rt,actuals:ct,status:ft}=Z,Et=r===J;return w.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg overflow-hidden",children:[w.jsxs("div",{onClick:()=>T(J),className:"w-full flex justify-between items-center p-4 text-left cursor-pointer",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("span",{className:"font-bold text-xl text-white",children:rt.name}),U(ft)]}),w.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["  ",LN(rt.date),w.jsx("span",{className:"mx-2",children:""}),": ",new Date(Z.archivedAt).toLocaleString("uk-UA")]})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[(g==null?void 0:g.role)==="admin"?w.jsxs("select",{value:ft||"pending",onChange:st=>i(J,st.target.value),onClick:st=>st.stopPropagation(),"aria-label":`   ${rt.name}`,className:"bg-gray-700 border border-gray-600 text-white text-sm rounded-md px-2 py-1.5 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[w.jsx("option",{value:"pending",children:" "}),w.jsx("option",{value:"completed",children:""}),w.jsx("option",{value:"partially_completed",children:""}),w.jsx("option",{value:"cancelled",children:""})]}):null,Et?w.jsx(gA,{className:"text-gray-400"}):w.jsx(uA,{className:"text-gray-400"})]})]}),Et&&w.jsx("div",{className:"p-6 bg-gray-800/50 border-t border-gray-700 space-y-6",children:rt.rooms.map(st=>{const dt=rt.distribution.filter(S=>S.roomId===st.id);if(dt.length===0)return null;const N=dt.reduce((S,O)=>S+O.printers,0),I=dt.reduce((S,O)=>{var C;return S+(((C=ct==null?void 0:ct[st.id])==null?void 0:C[O.detailId])||0)},0);return w.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-lg",children:[w.jsxs("div",{className:"flex justify-between items-baseline mb-4 border-b border-gray-600 pb-3",children:[w.jsx("h3",{className:"font-bold text-xl text-blue-400",children:st.name}),w.jsxs("div",{className:"text-right",children:[w.jsxs("p",{className:"text-sm text-gray-400",children:[": ",w.jsx("span",{className:"font-semibold text-gray-200",children:N})]}),w.jsxs("p",{className:"text-sm text-gray-400",children:[": ",w.jsx("span",{className:`font-semibold ${I>N?"text-red-400":"text-green-400"}`,children:I})]})]})]}),w.jsx("div",{className:"space-y-3",children:dt.map((S,O)=>{var ut;const C=S.printers,M=(ut=ct==null?void 0:ct[st.id])==null?void 0:ut[S.detailId],R=typeof M<"u"&&M!==C;return w.jsxs("div",{className:`grid grid-cols-2 md:grid-cols-12 items-center gap-x-4 gap-y-2 p-3 rounded-md ${R?"bg-yellow-500/10":"bg-gray-900/20"}`,children:[w.jsx("div",{className:"col-span-2 md:col-span-5",children:w.jsx("span",{className:"font-medium text-white",children:S.detailName})}),w.jsx("div",{className:"col-span-1 md:col-span-3 text-gray-300 text-sm md:text-base",children:w.jsxs("span",{children:[": ",C," ",A(C)]})}),w.jsxs("div",{className:"col-span-1 md:col-span-4 flex items-center gap-2 justify-end md:justify-start",children:[w.jsx("label",{htmlFor:`actual-${J}-${S.roomId}-${S.detailId}`,className:"text-gray-400 text-sm",children:":"}),w.jsx("input",{type:"number",id:`actual-${J}-${S.roomId}-${S.detailId}`,min:"0",value:M||"",onChange:xt=>x(J,S.roomId,S.detailId,xt.target.value),placeholder:"",className:"w-20 bg-gray-700 border border-gray-600 text-white rounded-md px-2 py-1.5 text-center focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),R&&w.jsx(jA,{className:"w-5 h-5 text-yellow-400 shrink-0",title:"     "})]})]},`${S.detailId}-${O}`)})})]},st.id)})})]},J)})}),w.jsx(W,{})]})},zN=({detailSpecs:s,calculatorState:t,updateCalculatorState:i})=>{const r=(t==null?void 0:t.rows)||[],l=()=>{const p=[...r,{id:`calc-${Date.now()}`,detailSpecId:null,orderQuantity:0}];i({rows:p})},u=p=>{const T=r.filter(A=>A.id!==p);i({rows:T})},d=(p,T,A)=>{const x=r.map(U=>U.id===p?{...U,[T]:A}:U);i({rows:x})},g=()=>{window.confirm(" ,     ?     .")&&i({rows:[]})},_=mt.useMemo(()=>r.reduce((p,T)=>{if(!T.detailSpecId||!T.orderQuantity)return p;const A=s.find(U=>U.id===T.detailSpecId);if(!A||A.partsPerPlate<=0)return p;const x=Math.ceil(T.orderQuantity/A.partsPerPlate);return p+x},0),[r,s]);return s.length===0?w.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-400",children:[w.jsx(zv,{className:"w-24 h-24 mb-4 text-gray-600"}),w.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"   "}),w.jsx("p",{children:'      "".'})]}):w.jsxs("div",{className:"max-w-5xl mx-auto",children:[w.jsx("h2",{className:"text-3xl font-bold mb-6 text-white",children:" "}),w.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg",children:[w.jsxs("div",{className:"hidden md:grid grid-cols-12 gap-4 mb-2 px-3 text-sm font-semibold text-gray-400",children:[w.jsx("div",{className:"col-span-5",children:" "}),w.jsx("div",{className:"col-span-2",children:"-  "}),w.jsx("div",{className:"col-span-2",children:"-  "}),w.jsx("div",{className:"col-span-2",children:" "}),w.jsx("div",{className:"col-span-1"})]}),w.jsx("div",{className:"space-y-3",children:r.map(p=>{const T=s.find(U=>U.id===p.detailSpecId),A=(T==null?void 0:T.partsPerPlate)||0,x=A>0&&p.orderQuantity>0?Math.ceil(p.orderQuantity/A):0;return w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-x-4 gap-y-2 items-center p-3 bg-gray-700/50 rounded-md",children:[w.jsxs("div",{className:"col-span-12 md:col-span-5",children:[w.jsx("label",{className:"text-sm text-gray-400 md:hidden mb-1 block",children:" "}),w.jsxs("select",{value:p.detailSpecId||"",onChange:U=>d(p.id,"detailSpecId",U.target.value),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500",children:[w.jsx("option",{value:"",disabled:!0,children:" ..."}),s.map(U=>w.jsx("option",{value:U.id,children:U.name},U.id))]})]}),w.jsxs("div",{className:"col-span-6 md:col-span-2",children:[w.jsx("label",{className:"text-sm text-gray-400 md:hidden mb-1 block",children:"-  "}),w.jsx("div",{className:"w-full bg-gray-800 text-gray-300 rounded-md px-3 py-2 text-center h-10 flex items-center justify-center",children:A||"-"})]}),w.jsxs("div",{className:"col-span-6 md:col-span-2",children:[w.jsx("label",{className:"text-sm text-gray-400 md:hidden mb-1 block",children:"-  "}),w.jsx("input",{type:"number",min:"0",value:p.orderQuantity||"",onChange:U=>d(p.id,"orderQuantity",parseInt(U.target.value)||0),placeholder:"0",className:"w-full bg-gray-700 border border-gray-600 text-white rounded-md px-3 py-2 text-center focus:ring-2 focus:ring-blue-500"})]}),w.jsxs("div",{className:"col-span-6 md:col-span-2",children:[w.jsx("label",{className:"text-sm text-gray-400 md:hidden mb-1 block",children:" "}),w.jsx("div",{className:"w-full bg-gray-800 text-green-400 font-bold rounded-md px-3 py-2 text-center h-10 flex items-center justify-center",children:x})]}),w.jsx("div",{className:"col-span-6 md:col-span-1 flex justify-end",children:w.jsx("button",{onClick:()=>u(p.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:w.jsx(Nl,{size:20})})})]},p.id)})}),w.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[w.jsxs("button",{onClick:l,className:"flex items-center gap-2 text-blue-500 hover:text-blue-400 font-semibold transition-colors",children:[w.jsx(bl,{size:18}),"    "]}),r.length>0&&w.jsxs("button",{onClick:g,className:"flex items-center gap-2 text-sm text-red-500 hover:text-red-400 font-semibold transition-colors",children:[w.jsx(Nl,{size:16}),"  "]})]}),w.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-700 flex justify-end items-center",children:[w.jsx("span",{className:"text-lg font-medium text-gray-300",children:"  :"}),w.jsx("span",{className:"ml-4 text-2xl font-bold text-green-400 bg-gray-700 px-4 py-2 rounded-md",children:_})]})]})]})},BN=()=>{const[s,t]=mt.useState(""),[i,r]=mt.useState(""),[l,u]=mt.useState(""),[d,g]=mt.useState(!1),{login:_}=Cg(),p=async T=>{if(T.preventDefault(),u(""),g(!0),!s||!i){u(" ,    ."),g(!1);return}try{await _(s,i)}catch(A){u(A.message||"    .")}finally{g(!1)}};return w.jsxs("div",{className:"min-h-screen bg-gray-900 flex flex-col justify-center items-center p-4",children:[w.jsxs("div",{className:"max-w-md w-full mx-auto bg-gray-800 p-8 rounded-lg shadow-2xl",children:[w.jsxs("div",{className:"text-center mb-8",children:[w.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[w.jsx(qv,{className:"w-10 h-10 text-blue-500"}),w.jsx("h1",{className:"text-3xl font-bold text-white",children:"3D Print Farm Planner"})]}),w.jsx("p",{className:"text-gray-400",children:"  "})]}),w.jsxs("form",{onSubmit:p,className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-300",children:""}),w.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,value:s,onChange:T=>t(T.target.value),className:"mt-1 block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:""}),w.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:i,onChange:T=>r(T.target.value),className:"mt-1 block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),l&&w.jsx("p",{className:"text-sm text-red-400 bg-red-500/10 p-3 rounded-md",children:l}),w.jsx("div",{children:w.jsxs("button",{type:"submit",disabled:d,className:"w-full flex justify-center items-center gap-2 py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-wait",children:[d?"...":"",!d&&w.jsx(AA,{size:18})]})})]})]}),w.jsx("footer",{className:"text-center py-6 text-gray-600 text-sm mt-8",children:w.jsxs("p",{children:[" ",new Date().getFullYear()," 3D Print Farm Planner"]})})]})},qN=async()=>{const s=Wn(ue,"rooms");if((await Rm(s)).empty){console.log("Seeding initial room data to Firestore...");const _=[{name:"",printers:90},{name:"",printers:130},{name:"_2",printers:60},{name:"",printers:30},{name:"",printers:150}],p=MT(ue);_.forEach(T=>{const A=wn(Wn(ue,"rooms"));p.set(A,T)}),await p.commit()}const i=Wn(ue,"detailSpecs");(await Rm(i)).empty&&(console.log("Seeding initial empty detailSpecs collection."),await Fc(i,{name:" ",partsPerPlate:10})),console.log("Checking for initial user data...");const l=wn(ue,"users","admin");(await Ev(l)).exists()||(await Im(l,{username:"admin",password:"admin",role:"admin"}),console.log("Admin user created."));const d=wn(ue,"users","operator");(await Ev(d)).exists()||(await Im(d,{username:"operator",password:"operator",role:"operator"}),console.log("Operator user created."))},HN=()=>{const[s,t]=mt.useState([]),[i,r]=mt.useState([]),[l,u]=mt.useState([]),[d,g]=mt.useState({rows:[]}),[_,p]=mt.useState(!0);mt.useEffect(()=>{const st=[];return(async()=>{await qN();const N=qc(Wn(ue,"rooms"),Zd("name"));st.push(kc(N,C=>{const M=C.docs.map(R=>({...R.data(),id:R.id}));t(M),_&&p(!1)},C=>{console.error("Error fetching rooms: ",C),_&&p(!1)}));const I=qc(Wn(ue,"archivedPlans"),Zd("archivedAt","desc"));st.push(kc(I,C=>{const M=C.docs.map(R=>({...R.data(),id:R.id}));u(M)},C=>{console.error("Error fetching archived plans: ",C)}));const S=qc(Wn(ue,"detailSpecs"),Zd("name"));st.push(kc(S,C=>{const M=C.docs.map(R=>({...R.data(),id:R.id}));r(M)},C=>{console.error("Error fetching detail specs: ",C)}));const O=wn(ue,"calculatorState","main");st.push(kc(O,C=>{C.exists()?g(C.data()):g({rows:[{id:`calc-${Date.now()}`,detailSpecId:null,orderQuantity:0}]})},C=>{console.error("Error fetching calculator state: ",C)}))})().catch(N=>{console.error("Initialization failed:",N),p(!1)}),()=>{st.forEach(N=>N())}},[]);const T=mt.useCallback(async st=>{const{id:dt,...N}=st,I=wn(ue,"rooms",dt);await Vc(I,N)},[]),A=mt.useCallback(async st=>{await Fc(Wn(ue,"rooms"),st)},[]),x=mt.useCallback(async st=>{await Tv(wn(ue,"rooms",st))},[]),U=mt.useCallback(async st=>{await Fc(Wn(ue,"detailSpecs"),st)},[]),W=mt.useCallback(async st=>{if(st.length===0)return;const dt=MT(ue);st.forEach(N=>{const I=wn(Wn(ue,"detailSpecs"));dt.set(I,N)}),await dt.commit()},[]),Z=mt.useCallback(async st=>{const{id:dt,...N}=st,I=wn(ue,"detailSpecs",dt);await Vc(I,N)},[]),J=mt.useCallback(async st=>{await Tv(wn(ue,"detailSpecs",st))},[]),rt=mt.useCallback(async st=>{const dt={plan:st,archivedAt:new Date().toISOString(),actuals:{},status:"pending"};await Fc(Wn(ue,"archivedPlans"),dt)},[]),ct=mt.useCallback(async(st,dt,N,I)=>{const S=wn(ue,"archivedPlans",st),O=`actuals.${dt}.${N}`;await Vc(S,{[O]:I}).catch(C=>console.error("Failed to update actual printers: ",C))},[]),ft=mt.useCallback(async(st,dt)=>{const N=wn(ue,"archivedPlans",st);await Vc(N,{status:dt}).catch(I=>console.error("Failed to update plan status: ",I))},[]),Et=mt.useCallback(async st=>{const dt=wn(ue,"calculatorState","main");await Im(dt,st)},[]);return{rooms:s,updateRoom:T,addRoom:A,deleteRoom:x,detailSpecs:i,addDetailSpec:U,addMultipleDetailSpecs:W,updateDetailSpec:Z,deleteDetailSpec:J,archivedPlans:l,createPlan:rt,updateActualPrinters:ct,updatePlanStatus:ft,calculatorState:d,updateCalculatorState:Et,loading:_}},FN=()=>{const[s,t]=mt.useState("planner"),i=HN(),{user:r,loading:l,logout:u}=Cg();mt.useEffect(()=>{(r==null?void 0:r.role)==="operator"?t("current_plan"):(r==null?void 0:r.role)==="admin"&&s!=="planner"&&s!=="setup"&&s!=="calculator"&&t("planner")},[r]);const d=()=>{u()},g=()=>{switch(s){case"planner":return w.jsx(o0,{...i});case"current_plan":return w.jsx(jN,{allPlans:i.archivedPlans,updateActualPrinters:i.updateActualPrinters,updatePlanStatus:i.updatePlanStatus});case"setup":return w.jsx(GA,{...i});case"calculator":return w.jsx(zN,{detailSpecs:i.detailSpecs,calculatorState:i.calculatorState,updateCalculatorState:i.updateCalculatorState});default:return w.jsx(o0,{...i})}},_=({view:T,label:A,icon:x,disabled:U})=>w.jsxs("button",{onClick:()=>!U&&t(T),title:A,disabled:U,className:`flex items-center gap-2 p-2 md:px-4 md:py-2 text-sm font-medium rounded-md transition-colors ${s===T?"bg-blue-600 text-white":"text-gray-400 hover:bg-gray-700 hover:text-white"} ${U?"opacity-50 cursor-not-allowed":""}`,children:[w.jsx(x,{className:"w-5 h-5"}),w.jsx("span",{className:"hidden md:inline",children:A})]});if(l)return w.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-200 flex flex-col justify-center items-center h-full text-center",children:[w.jsx(a0,{className:"w-16 h-16 text-blue-500 animate-spin mb-4"}),w.jsx("h2",{className:"text-2xl font-semibold text-white",children:"..."})]});if(!r)return w.jsx(BN,{});const p=r==null?void 0:r.role;return w.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-200 flex flex-col",children:[w.jsx("header",{className:"bg-gray-800 shadow-md",children:w.jsxs("div",{className:"container mx-auto px-4 py-3 flex flex-wrap justify-between items-center gap-y-2",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(qv,{className:"w-8 h-8 text-blue-500"}),w.jsxs("h1",{className:"text-lg sm:text-xl font-bold text-white whitespace-nowrap",children:["3D Print Farm ",w.jsx("span",{className:"hidden sm:inline",children:"Planner"})]})]}),w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsxs("nav",{className:"flex items-center gap-2 p-1 bg-gray-900 rounded-lg",children:[w.jsx(_,{view:"planner",label:"",icon:_A,disabled:p==="operator"}),w.jsx(_,{view:"current_plan",label:"",icon:Bv}),w.jsx(_,{view:"calculator",label:"",icon:zv,disabled:p==="operator"}),w.jsx(_,{view:"setup",label:"",icon:xA,disabled:p==="operator"})]}),w.jsx("button",{onClick:d,title:"",className:"p-2 text-gray-400 hover:text-red-500 transition-colors bg-gray-900 rounded-lg",children:w.jsx(TA,{className:"w-5 h-5"})})]})]})}),w.jsx("main",{className:"flex-grow container mx-auto p-4 md:p-6 flex",children:i.loading?w.jsxs("div",{className:"flex-grow flex flex-col justify-center items-center h-full text-center",children:[w.jsx(a0,{className:"w-16 h-16 text-blue-500 animate-spin mb-4"}),w.jsx("h2",{className:"text-2xl font-semibold text-white",children:" ..."}),w.jsx("p",{className:"text-gray-400 mt-2",children:"   .     ."})]}):w.jsx("div",{className:"w-full",children:g()})}),w.jsx("footer",{className:"text-center py-4 text-gray-600 text-sm border-t border-gray-700",children:w.jsxs("p",{children:[" ",new Date().getFullYear()," 3D Print Farm Planner"]})})]})},d1=document.getElementById("root");if(!d1)throw new Error("Could not find root element to mount to");const GN=eA.createRoot(d1);GN.render(w.jsx(mt.StrictMode,{children:w.jsx(UN,{children:w.jsx(FN,{})})}));
